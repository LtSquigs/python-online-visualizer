(function(){var i,l=[].indexOf||function(d){for(var a=0,b=this.length;a<b;a++)if(a in this&&this[a]===d)return a;return-1};i="FOR,WHILE,UNTIL,LOOP,IF,POST_IF,SWITCH,WHEN,CLASS,TRY,CATCH,FINALLY".split(",");self.JSREPLEngine=function(){function d(a,b,c,e,d,g){this.result=c;this.error=e;this.sandbox=d;this.inspect=this.sandbox.console.inspect;this.CoffeeScript=this.sandbox.CoffeeScript;this.sandbox.__eval=this.sandbox.eval;g()}d.name="JSREPLEngine";d.prototype.Eval=function(a){var b,c;try{return b=
this.CoffeeScript.compile(a,{globals:true,bare:true}),c=this.sandbox.__eval(b),this.result(c===void 0?"":this.inspect(c))}catch(e){return this.error(e)}};d.prototype.RawEval=function(a){var b,c;try{return b=this.CoffeeScript.compile(a,{globals:true,bare:true}),c=this.sandbox.__eval(b),this.result(c)}catch(e){return this.error(e)}};d.prototype.GetNextLineIndent=function(a){var b,c,e,d,g,f,h,j,k;e=a.split("\n").slice(-1)[0];if(/([-=]>|[\[\{\(]|\belse)$/.test(e))return 1;else{try{b=this.CoffeeScript.tokens(a),
d=this.CoffeeScript.tokens(e)}catch(m){return 0}try{if(this.CoffeeScript.compile(a),/^\s+/.test(e))return 0;else{for(c=h=0,j=b.length;h<j;c=++h)if(f=b[c],g=b[c+1],f[0]==="REGEX"&&f[1]==="/(?:)/"&&g[0]==="MATH"&&g[1]==="/")return 0;return false}}catch(n){a=0;for(b=0,c=d.length;b<c;b++)f=d[b],(k=f[0],l.call(i,k)>=0)?a++:f.fromThen&&a--;return a>0?1:0}}};return d}()}).call(this);
