/*

 Copyright Joyent, Inc. and other Node contributors.

 Permission is hereby granted, free of charge, to any person obtaining a
 copy of this software and associated documentation files (the
 "Software"), to deal in the Software without restriction, including
 without limitation the rights to use, copy, modify, merge, publish,
 distribute, sublicense, and/or sell copies of the Software, and to permit
 persons to whom the Software is furnished to do so, subject to the
 following conditions:

 The above copyright notice and this permission notice shall be included
 in all copies or substantial portions of the Software.

 THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS
 OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN
 NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,
 DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR
 OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE
 USE OR OTHER DEALINGS IN THE SOFTWARE.

 Original at: https://github.com/joyent/node/blob/master/lib/util.js
*/
(function(){function c(b){return b instanceof Array||Array.isArray(b)||b&&b!==Object.prototype&&c(b.__proto__)}function f(b){return b instanceof RegExp||typeof b==="function"&&b.constructor.name==="RegExp"&&b.compile&&b.test&&b.exec&&(""+b).match(/^\/.*\/[gim]{0,3}$/)}var a=80,h=function(b,d,e,g){function h(b,e){switch(typeof b){case "undefined":return o("undefined","undefined");case "string":var g="'"+JSON.stringify(b).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return o(g,"string");
case "number":return o(""+b,"number");case "boolean":return o(""+b,"boolean")}if(b===null)return o("null","null");var i=Object.keys(b),k=d?Object.getOwnPropertyNames(b):i;if(typeof b==="function"&&k.length===0)return f(b)?o(""+b,"regexp"):o("[Function"+(b.name?": "+b.name:"")+"]","special");if(b instanceof Date&&k.length===0)return o(b.toUTCString(),"date");var w,x;c(b)?(x="Array",g=["[","]"]):(x="Object",g=["{","}"]);typeof b==="function"?(w=b.name?": "+b.name:"",w=f(b)?" "+b:" [Function"+w+"]"):
w="";b instanceof Date&&(w=" "+b.toUTCString());if(k.length===0)return g[0]+w+g[1];if(e<0)return f(b)?o(""+b,"regexp"):o("[Object]","special");l.push(b);k=k.map(function(a){var d,g;b.__lookupGetter__&&(b.__lookupGetter__(a)?g=b.__lookupSetter__(a)?o("[Getter/Setter]","special"):o("[Getter]","special"):b.__lookupSetter__(a)&&(g=o("[Setter]","special")));i.indexOf(a)<0&&(d="["+a+"]");g||(l.indexOf(b[a])<0?(g=e===null?h(b[a]):h(b[a],e-1),g.indexOf("\n")>-1&&(g=c(b)?g.split("\n").map(function(b){return"  "+
b}).join("\n").substr(2):"\n"+g.split("\n").map(function(b){return"   "+b}).join("\n"))):g=o("[Circular]","special"));if(typeof d==="undefined"){if(x==="Array"&&a.match(/^\d+$/))return g;d=JSON.stringify(""+a);d.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(d=d.substr(1,d.length-2),d=o(d,"name")):(d=d.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),d=o(d,"string"))}return d+": "+g});l.pop();var v=0;return k=k.reduce(function(b,a){v++;a.indexOf("\n")>=0&&v++;return b+a.length+1},0)>a?g[0]+
(w===""?"":w+"\n ")+" "+k.join(",\n  ")+" "+g[1]:g[0]+w+" "+k.join(", ")+" "+g[1]}var l=[],o=function(b,a){var d={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},e={special:"cyan",number:"blue","boolean":"yellow",undefined:"grey","null":"bold",string:"green",date:"magenta",regexp:"red"}[a];return e?"\u001b["+d[e][0]+"m"+b+"\u001b["+d[e][1]+"m":b};g||(o=function(b){return b});
return h(b,typeof e==="undefined"?2:e)},e=/%[sdj%]/g,g=function(b){if(typeof b!=="string"){for(var a=[],d=0;d<arguments.length;d++)a.push(h(arguments[d]));return a.join(" ")}for(var d=1,c=arguments,g=c.length,a=String(b).replace(e,function(b){if(d>=g)return b;switch(b){case "%s":return String(c[d++]);case "%d":return Number(c[d++]);case "%j":return JSON.stringify(c[d++]);case "%%":return"%";default:return b}}),f=c[d];d<g;f=c[++d])a+=f===null||typeof f!=="object"?" "+f:" "+h(f);return a},d={};self.console=
{log:function(){Sandboss.out(g.apply(this,arguments)+"\n")},dir:function(b){Sandboss.out(h(b)+"\n")},time:function(b){d[b]=Date.now()},timeEnd:function(b){var a=Date.now()-d[b];self.console.log("%s: %dms",b,a)},read:function(b){Sandboss.input(b||function(){})},inspect:h}})();
var traceur=function(){var c=(0,eval)("this"),f=0;c.traceur={define:function(a,c){var e;e=a.split(".");for(var g=traceur,d;e.length&&(d=e.shift());)g=d in g?g[d]:g[d]={};e=g;var g=c(),b;for(b in g)(d=Object.getOwnPropertyDescriptor(g,b))&&Object.defineProperty(e,b,d)},assert:function(a){if(!a)throw Error("Assertion failed");},getUid:function(){return++f},inherits:function(a,c,e){function g(){}var d;g.prototype=c.prototype;a.prototype=new g;for(d in e)e.hasOwnProperty(d)&&(a.prototype[d]=e[d])}};return c.traceur}();
traceur.define("util",function(){function c(){this.keys_=Object.create(null);this.values_=Object.create(null)}c.prototype={put:function(c,a){var h=c.uid;this.keys_[h]=c;this.values_[h]=a},get:function(c){return this.values_[c.uid]},containsKey:function(c){return c.uid in this.keys_},addAll:function(c){for(var a in c.keys_)this.keys_[a]=c.keys_[a],this.values_[a]=c.values_[a]},keys:function(){return Object.keys(this.keys_).map(function(c){return this.keys_[c]},this)},values:function(){return Object.keys(this.values_).map(function(c){return this.values_[c]},
this)},remove:function(c){c=c.uid;delete this.keys_[c];delete this.values_[c]}};return{ObjectMap:c}});traceur.define("util",function(){return{SourceRange:function(c,f){this.start=c;this.end=f}}});traceur.define("util",function(){function c(c,a,h,e){this.source=c;this.offset=a;this.line=h;this.column=e}c.prototype={toString:function(){return(this.source?this.source.name:"")+"("+(this.line+1)+", "+(this.column+1)+")"}};return{SourcePosition:c}});
traceur.define("syntax",function(){function c(a,c){this.type=a;this.location=c}var f=traceur.assert;c.prototype={getStart:function(){return this.location.start},toString:function(){return this.type.toString()},asIdentifier:function(){f(this instanceof traceur.syntax.IdentifierToken);return this},asLiteral:function(){f(this instanceof traceur.syntax.LiteralToken);return this}};return{Token:c}});
traceur.define("syntax",function(){return{TokenType:{END_OF_FILE:"End of File",ERROR:"error",IDENTIFIER:"identifier",BREAK:"break",CASE:"case",CATCH:"catch",CONTINUE:"continue",DEBUGGER:"debugger",DEFAULT:"default",DELETE:"delete",DO:"do",ELSE:"else",FINALLY:"finally",FOR:"for",FUNCTION:"function",IF:"if",IN:"in",INSTANCEOF:"instanceof",NEW:"new",RETURN:"return",SWITCH:"switch",THIS:"this",THROW:"throw",TRY:"try",TYPEOF:"typeof",VAR:"var",VOID:"void",WHILE:"while",WITH:"with",CLASS:"class",CONST:"const",
ENUM:"enum",EXPORT:"export",EXTENDS:"extends",IMPORT:"import",SUPER:"super",IMPLEMENTS:"implements",INTERFACE:"interface",LET:"let",PACKAGE:"package",PRIVATE:"private",PROTECTED:"protected",PUBLIC:"public",STATIC:"static",YIELD:"yield",OPEN_CURLY:"{",CLOSE_CURLY:"}",OPEN_PAREN:"(",CLOSE_PAREN:")",OPEN_SQUARE:"[",CLOSE_SQUARE:"]",PERIOD:".",SEMI_COLON:";",COMMA:",",OPEN_ANGLE:"<",CLOSE_ANGLE:">",LESS_EQUAL:"<=",GREATER_EQUAL:">=",EQUAL_EQUAL:"==",NOT_EQUAL:"!=",EQUAL_EQUAL_EQUAL:"===",NOT_EQUAL_EQUAL:"!==",
PLUS:"+",MINUS:"-",STAR:"*",PERCENT:"%",PLUS_PLUS:"++",MINUS_MINUS:"--",LEFT_SHIFT:"<<",RIGHT_SHIFT:">>",UNSIGNED_RIGHT_SHIFT:">>>",AMPERSAND:"&",BAR:"|",CARET:"^",BANG:"!",TILDE:"~",AND:"&&",OR:"||",QUESTION:"?",COLON:":",EQUAL:"=",PLUS_EQUAL:"+=",MINUS_EQUAL:"-=",STAR_EQUAL:"*=",PERCENT_EQUAL:"%=",LEFT_SHIFT_EQUAL:"<<=",RIGHT_SHIFT_EQUAL:">>=",UNSIGNED_RIGHT_SHIFT_EQUAL:">>>=",AMPERSAND_EQUAL:"&=",BAR_EQUAL:"|=",CARET_EQUAL:"^=",SLASH:"/",SLASH_EQUAL:"/=",POUND:"#",NULL:"null",TRUE:"true",FALSE:"false",
NUMBER:"number literal",STRING:"string literal",REGULAR_EXPRESSION:"regular expression literal",SPREAD:"...",AWAIT:"await"}}});traceur.define("syntax",function(){function c(a,c,e){f.call(this,a,e);this.value=c}var f=traceur.syntax.Token;traceur.inherits(c,f,{__proto__:f.prototype,toString:function(){return this.value}});return{LiteralToken:c}});
traceur.define("syntax",function(){function c(c,e){f.call(this,a.IDENTIFIER,c);this.value=e}var f=traceur.syntax.Token,a=traceur.syntax.TokenType;traceur.inherits(c,f,{__proto__:f.prototype,toString:function(){return this.value}});return{IdentifierToken:c}});
traceur.define("syntax",function(){function c(a,d){this.value=a;this.type=d}var f=traceur.syntax.TokenType,a={},h=Object.create(null),e=Object.create(null);c.prototype={toString:function(){return this.value}};"break,case,catch,continue,debugger,default,delete,do,else,finally,for,function,if,in,instanceof,new,return,switch,this,throw,try,typeof,var,void,while,with,class,const,enum,export,extends,import,super,implements,interface,let,package,private,protected,public,static,yield,null,true,false,await".split(",").forEach(function(g){var d=g.toUpperCase();
d.indexOf("__")===0&&(d=d.substring(2));g=new c(g,f[d]);a[d]=g;h[g.value]=g;e[g.type]=g});a.isKeyword=function(a){return a!=="__proto__"&&a in h};a.getTokenType=function(a){return a=="__proto__"?null:h[a].type};a.get=function(a){return a=="__proto__"?null:h[a]};return{Keywords:a}});
traceur.define("syntax",function(){function c(a){this.sourceFile_=a;var a=a.contents,c=[];c.push(0);for(var d=0;d<a.length;d++){var b=a.charAt(d),f;a:switch(b){case "\n":case "\r":case "\u2028":case "\u2029":f=true;break a;default:f=false}f&&(d<a.length&&b=="\r"&&a.charAt(d+1)=="\n"&&d++,c.push(d+1))}c.push(h);this.lineStartOffsets_=c}var f=traceur.util.SourceRange,a=traceur.util.SourcePosition,h=9007199254740992;c.prototype={getSourcePosition:function(e){var c=this.getLine(e);return new a(this.sourceFile_,
e,c,this.getColumn(c,e))},getLine:function(a){a:{for(var c=this.lineStartOffsets_,d=0,b=c.length-1;d<=b;){var f=d+b>>1;if(a>c[f])d=f+1;else if(a<c[f])b=f-1;else{a=f;break a}}a=-(d+1)}return a>=0?a:-a-2},offsetOfLine:function(a){return this.lineStartOffsets_[a]},getColumn:function(a){var c,d;arguments.length>=2?(c=arguments[0],d=arguments[1]):(d=arguments[0],c=this.getLine(d));return d-this.offsetOfLine(c)},getSourceRange:function(a,c){return new f(this.getSourcePosition(a),this.getSourcePosition(c))}};
return{LineNumberTable:c}});traceur.define("syntax",function(){var c=traceur.syntax.LineNumberTable;return{SourceFile:function(f,a){this.name=f;this.contents=a;this.lineNumberTable=new c(this);this.uid=traceur.getUid();Object.freeze(this)}}});
traceur.define("syntax",function(){function c(b,a,d){this.errorReporter_=b;this.source_=a;this.index_=d||0;this.currentTokens_=[]}function f(b){switch(b){case "\n":case "\r":case "\u2028":case "\u2029":return true;default:return false}}function a(b){b=b.charCodeAt(0);return b>=48&&b<=57}function h(b){b=b.charCodeAt(0);return b>=48&&b<=57||b>=65&&b<=70||b>=97&&b<=102}function e(b){switch(b){case "$":case "_":return true;default:a:{for(var b=b.charCodeAt(0),a=0;a<k.length;a++){if(b<k[a][0])break;if(b<=
k[a][1]){b=true;break a}}b=false}return b}}var g=traceur.syntax.Token,d=traceur.syntax.TokenType,b=traceur.syntax.LiteralToken,j=traceur.syntax.IdentifierToken,i=traceur.syntax.Keywords,k=[[65,90],[97,122],[170,170],[181,181],[186,186],[192,214],[216,246],[248,705],[710,721],[736,740],[748,748],[750,750],[880,884],[886,887],[890,893],[902,902],[904,906],[908,908],[910,929],[931,1013],[1015,1153],[1162,1319],[1329,1366],[1369,1369],[1377,1415],[1488,1514],[1520,1522],[1568,1610],[1646,1647],[1649,
1747],[1749,1749],[1765,1766],[1774,1775],[1786,1788],[1791,1791],[1808,1808],[1810,1839],[1869,1957],[1969,1969],[1994,2026],[2036,2037],[2042,2042],[2048,2069],[2074,2074],[2084,2084],[2088,2088],[2112,2136],[2308,2361],[2365,2365],[2384,2384],[2392,2401],[2417,2423],[2425,2431],[2437,2444],[2447,2448],[2451,2472],[2474,2480],[2482,2482],[2486,2489],[2493,2493],[2510,2510],[2524,2525],[2527,2529],[2544,2545],[2565,2570],[2575,2576],[2579,2600],[2602,2608],[2610,2611],[2613,2614],[2616,2617],[2649,
2652],[2654,2654],[2674,2676],[2693,2701],[2703,2705],[2707,2728],[2730,2736],[2738,2739],[2741,2745],[2749,2749],[2768,2768],[2784,2785],[2821,2828],[2831,2832],[2835,2856],[2858,2864],[2866,2867],[2869,2873],[2877,2877],[2908,2909],[2911,2913],[2929,2929],[2947,2947],[2949,2954],[2958,2960],[2962,2965],[2969,2970],[2972,2972],[2974,2975],[2979,2980],[2984,2986],[2990,3001],[3024,3024],[3077,3084],[3086,3088],[3090,3112],[3114,3123],[3125,3129],[3133,3133],[3160,3161],[3168,3169],[3205,3212],[3214,
3216],[3218,3240],[3242,3251],[3253,3257],[3261,3261],[3294,3294],[3296,3297],[3313,3314],[3333,3340],[3342,3344],[3346,3386],[3389,3389],[3406,3406],[3424,3425],[3450,3455],[3461,3478],[3482,3505],[3507,3515],[3517,3517],[3520,3526],[3585,3632],[3634,3635],[3648,3654],[3713,3714],[3716,3716],[3719,3720],[3722,3722],[3725,3725],[3732,3735],[3737,3743],[3745,3747],[3749,3749],[3751,3751],[3754,3755],[3757,3760],[3762,3763],[3773,3773],[3776,3780],[3782,3782],[3804,3805],[3840,3840],[3904,3911],[3913,
3948],[3976,3980],[4096,4138],[4159,4159],[4176,4181],[4186,4189],[4193,4193],[4197,4198],[4206,4208],[4213,4225],[4238,4238],[4256,4293],[4304,4346],[4348,4348],[4352,4680],[4682,4685],[4688,4694],[4696,4696],[4698,4701],[4704,4744],[4746,4749],[4752,4784],[4786,4789],[4792,4798],[4800,4800],[4802,4805],[4808,4822],[4824,4880],[4882,4885],[4888,4954],[4992,5007],[5024,5108],[5121,5740],[5743,5759],[5761,5786],[5792,5866],[5870,5872],[5888,5900],[5902,5905],[5920,5937],[5952,5969],[5984,5996],[5998,
6E3],[6016,6067],[6103,6103],[6108,6108],[6176,6263],[6272,6312],[6314,6314],[6320,6389],[6400,6428],[6480,6509],[6512,6516],[6528,6571],[6593,6599],[6656,6678],[6688,6740],[6823,6823],[6917,6963],[6981,6987],[7043,7072],[7086,7087],[7104,7141],[7168,7203],[7245,7247],[7258,7293],[7401,7404],[7406,7409],[7424,7615],[7680,7957],[7960,7965],[7968,8005],[8008,8013],[8016,8023],[8025,8025],[8027,8027],[8029,8029],[8031,8061],[8064,8116],[8118,8124],[8126,8126],[8130,8132],[8134,8140],[8144,8147],[8150,
8155],[8160,8172],[8178,8180],[8182,8188],[8305,8305],[8319,8319],[8336,8348],[8450,8450],[8455,8455],[8458,8467],[8469,8469],[8473,8477],[8484,8484],[8486,8486],[8488,8488],[8490,8493],[8495,8505],[8508,8511],[8517,8521],[8526,8526],[8544,8584],[11264,11310],[11312,11358],[11360,11492],[11499,11502],[11520,11557],[11568,11621],[11631,11631],[11648,11670],[11680,11686],[11688,11694],[11696,11702],[11704,11710],[11712,11718],[11720,11726],[11728,11734],[11736,11742],[11823,11823],[12293,12295],[12321,
12329],[12337,12341],[12344,12348],[12353,12438],[12445,12447],[12449,12538],[12540,12543],[12549,12589],[12593,12686],[12704,12730],[12784,12799],[13312,13312],[19893,19893],[19968,19968],[40907,40907],[40960,42124],[42192,42237],[42240,42508],[42512,42527],[42538,42539],[42560,42606],[42623,42647],[42656,42735],[42775,42783],[42786,42888],[42891,42894],[42896,42897],[42912,42921],[43002,43009],[43011,43013],[43015,43018],[43020,43042],[43072,43123],[43138,43187],[43250,43255],[43259,43259],[43274,
43301],[43312,43334],[43360,43388],[43396,43442],[43471,43471],[43520,43560],[43584,43586],[43588,43595],[43616,43638],[43642,43642],[43648,43695],[43697,43697],[43701,43702],[43705,43709],[43712,43712],[43714,43714],[43739,43741],[43777,43782],[43785,43790],[43793,43798],[43808,43814],[43816,43822],[43968,44002],[44032,44032],[55203,55203],[55216,55238],[55243,55291],[63744,64045],[64048,64109],[64112,64217],[64256,64262],[64275,64279],[64285,64285],[64287,64296],[64298,64310],[64312,64316],[64318,
64318],[64320,64321],[64323,64324],[64326,64433],[64467,64829],[64848,64911],[64914,64967],[65008,65019],[65136,65140],[65142,65276],[65313,65338],[65345,65370],[65382,65470],[65474,65479],[65482,65487],[65490,65495],[65498,65500],[65536,65547],[65549,65574],[65576,65594],[65596,65597],[65599,65613],[65616,65629],[65664,65786],[65856,65908],[66176,66204],[66208,66256],[66304,66334],[66352,66378],[66432,66461],[66464,66499],[66504,66511],[66513,66517],[66560,66717],[67584,67589],[67592,67592],[67594,
67637],[67639,67640],[67644,67644],[67647,67669],[67840,67861],[67872,67897],[68096,68096],[68112,68115],[68117,68119],[68121,68147],[68192,68220],[68352,68405],[68416,68437],[68448,68466],[68608,68680],[69635,69687],[69763,69807],[73728,74606],[74752,74850],[77824,78894],[92160,92728],[110592,110593],[119808,119892],[119894,119964],[119966,119967],[119970,119970],[119973,119974],[119977,119980],[119982,119993],[119995,119995],[119997,120003],[120005,120069],[120071,120074],[120077,120084],[120086,
120092],[120094,120121],[120123,120126],[120128,120132],[120134,120134],[120138,120144],[120146,120485],[120488,120512],[120514,120538],[120540,120570],[120572,120596],[120598,120628],[120630,120654],[120656,120686],[120688,120712],[120714,120744],[120746,120770],[120772,120779],[131072,131072],[173782,173782],[173824,173824],[177972,177972],[177984,177984],[178205,178205],[194560,195101]];c.prototype={errorReporter_:null,source_:null,currentTokens_:null,index_:-1,getLineNumberTable_:function(){return this.getFile().lineNumberTable},
getFile:function(){return this.source_},getOffset:function(){return this.currentTokens_.length==0?this.index_:this.peekToken().location.start.offset},getPosition:function(){return this.getPosition_(this.getOffset())},getPosition_:function(b){return this.getLineNumberTable_().getSourcePosition(b)},getTokenRange_:function(b){return this.getLineNumberTable_().getSourceRange(b,this.index_)},nextToken:function(){this.peekToken();return this.currentTokens_.shift()},clearTokenLookahead_:function(){this.index_=
this.getOffset();this.currentTokens_.length=0},nextRegularExpressionLiteralToken:function(){this.clearTokenLookahead_();var a=this.index_;this.nextChar_();if(!this.skipRegularExpressionBody_())return new b(d.REGULAR_EXPRESSION,this.getTokenString_(a),this.getTokenRange_(a));if(this.peekChar_()!="/")return this.reportError_("Expected '/' in regular expression literal"),new b(d.REGULAR_EXPRESSION,this.getTokenString_(a),this.getTokenRange_(a));for(this.nextChar_();this.isIdentifierPart_(this.peekChar_());)this.nextChar_();
return new b(d.REGULAR_EXPRESSION,this.getTokenString_(a),this.getTokenRange_(a))},skipRegularExpressionBody_:function(){if(!this.isRegularExpressionFirstChar_(this.peekChar_()))return this.reportError_("Expected regular expression first char"),false;if(!this.skipRegularExpressionChar_())return false;for(;!this.isAtEnd_()&&this.isRegularExpressionChar_(this.peekChar_());)if(!this.skipRegularExpressionChar_())return false;return true},skipRegularExpressionChar_:function(){switch(this.peekChar_()){case "\\":return this.skipRegularExpressionBackslashSequence_();
case "[":return this.skipRegularExpressionClass_();default:return this.nextChar_(),true}},skipRegularExpressionBackslashSequence_:function(){this.nextChar_();if(f(this.peekChar_()))return this.reportError_("New line not allowed in regular expression literal"),false;this.nextChar_();return true},skipRegularExpressionClass_:function(){for(this.nextChar_();!this.isAtEnd_()&&this.peekRegularExpressionClassChar_();)if(!this.skipRegularExpressionClassChar_())return false;if(this.peekChar_()!="]")return this.reportError_("']' expected"),
false;this.nextChar_();return true},peekRegularExpressionClassChar_:function(){return this.peekChar_()!="]"&&!f(this.peekChar_())},skipRegularExpressionClassChar_:function(){if(this.peek_("\\"))return this.skipRegularExpressionBackslashSequence_();this.nextChar_();return true},isRegularExpressionFirstChar_:function(b){return this.isRegularExpressionChar_(b)&&b!="*"},isRegularExpressionChar_:function(b){switch(b){case "/":return false;case "\\":case "[":return true;default:return!f(b)}},peekToken:function(b){for(b=
b||0;this.currentTokens_.length<=b;)this.currentTokens_.push(this.scanToken_());return this.currentTokens_[b]},isAtEnd_:function(){return this.index_>=this.source_.contents.length},skipWhitespace_:function(){for(;!this.isAtEnd_()&&this.peekWhitespace_();)this.nextChar_()},peekWhitespace_:function(){var b;a:switch(this.peekChar_()){case "\t":case "\u000b":case "\u000c":case " ":case "\u00a0":case "\ufeff":case "\n":case "\r":case "\u2028":case "\u2029":b=true;break a;default:b=false}return b},skipComments_:function(){for(;this.skipComment_(););
},skipComment_:function(){this.skipWhitespace_();if(!this.isAtEnd_()&&this.peek_("/"))switch(this.peekChar_(1)){case "/":return this.skipSingleLineComment_(),true;case "*":return this.skipMultiLineComment_(),true}return false},skipSingleLineComment_:function(){for(;!this.isAtEnd_()&&!f(this.peekChar_());)this.nextChar_()},skipMultiLineComment_:function(){this.nextChar_();for(this.nextChar_();!this.isAtEnd_()&&(this.peekChar_()!="*"||this.peekChar_(1)!="/");)this.nextChar_();this.nextChar_();this.nextChar_()},
scanToken_:function(){this.skipComments_();var b=this.index_;if(this.isAtEnd_())return this.createToken_(d.END_OF_FILE,b);var e=this.nextChar_();switch(e){case "{":return this.createToken_(d.OPEN_CURLY,b);case "}":return this.createToken_(d.CLOSE_CURLY,b);case "(":return this.createToken_(d.OPEN_PAREN,b);case ")":return this.createToken_(d.CLOSE_PAREN,b);case "[":return this.createToken_(d.OPEN_SQUARE,b);case "]":return this.createToken_(d.CLOSE_SQUARE,b);case ".":if(a(this.peekChar_()))return this.scanNumberPostPeriod_(b);
return this.peek_(".")&&this.peekChar_(1)=="."?(this.nextChar_(),this.nextChar_(),this.createToken_(d.SPREAD,b)):this.createToken_(d.PERIOD,b);case ";":return this.createToken_(d.SEMI_COLON,b);case ",":return this.createToken_(d.COMMA,b);case "~":return this.createToken_(d.TILDE,b);case "?":return this.createToken_(d.QUESTION,b);case ":":return this.createToken_(d.COLON,b);case "<":switch(this.peekChar_()){case "<":this.nextChar_();return this.peek_("=")?(this.nextChar_(),this.createToken_(d.LEFT_SHIFT_EQUAL,
b)):this.createToken_(d.LEFT_SHIFT,b);case "=":return this.nextChar_(),this.createToken_(d.LESS_EQUAL,b);default:return this.createToken_(d.OPEN_ANGLE,b)}case ">":switch(this.peekChar_()){case ">":switch(this.nextChar_(),this.peekChar_()){case "=":return this.nextChar_(),this.createToken_(d.RIGHT_SHIFT_EQUAL,b);case ">":this.nextChar_();return this.peek_("=")?(this.nextChar_(),this.createToken_(d.UNSIGNED_RIGHT_SHIFT_EQUAL,b)):this.createToken_(d.UNSIGNED_RIGHT_SHIFT,b);default:return this.createToken_(d.RIGHT_SHIFT,
b)}case "=":return this.nextChar_(),this.createToken_(d.GREATER_EQUAL,b);default:return this.createToken_(d.CLOSE_ANGLE,b)}case "=":if(this.peek_("=")){this.nextChar_();return this.peek_("=")?(this.nextChar_(),this.createToken_(d.EQUAL_EQUAL_EQUAL,b)):this.createToken_(d.EQUAL_EQUAL,b)}return this.createToken_(d.EQUAL,b);case "!":if(this.peek_("=")){this.nextChar_();return this.peek_("=")?(this.nextChar_(),this.createToken_(d.NOT_EQUAL_EQUAL,b)):this.createToken_(d.NOT_EQUAL,b)}return this.createToken_(d.BANG,
b);case "*":return this.peek_("=")?(this.nextChar_(),this.createToken_(d.STAR_EQUAL,b)):this.createToken_(d.STAR,b);case "%":return this.peek_("=")?(this.nextChar_(),this.createToken_(d.PERCENT_EQUAL,b)):this.createToken_(d.PERCENT,b);case "^":return this.peek_("=")?(this.nextChar_(),this.createToken_(d.CARET_EQUAL,b)):this.createToken_(d.CARET,b);case "/":return this.peek_("=")?(this.nextChar_(),this.createToken_(d.SLASH_EQUAL,b)):this.createToken_(d.SLASH,b);case "+":switch(this.peekChar_()){case "+":return this.nextChar_(),
this.createToken_(d.PLUS_PLUS,b);case "=":return this.nextChar_(),this.createToken_(d.PLUS_EQUAL,b);default:return this.createToken_(d.PLUS,b)}case "-":switch(this.peekChar_()){case "-":return this.nextChar_(),this.createToken_(d.MINUS_MINUS,b);case "=":return this.nextChar_(),this.createToken_(d.MINUS_EQUAL,b);default:return this.createToken_(d.MINUS,b)}case "&":switch(this.peekChar_()){case "&":return this.nextChar_(),this.createToken_(d.AND,b);case "=":return this.nextChar_(),this.createToken_(d.AMPERSAND_EQUAL,
b);default:return this.createToken_(d.AMPERSAND,b)}case "|":switch(this.peekChar_()){case "|":return this.nextChar_(),this.createToken_(d.OR,b);case "=":return this.nextChar_(),this.createToken_(d.BAR_EQUAL,b);default:return this.createToken_(d.BAR,b)}case "#":return this.createToken_(d.POUND,b);case "0":return this.scanPostZero_(b);case "1":case "2":case "3":case "4":case "5":case "6":case "7":case "8":case "9":return this.scanPostDigit_(b);case '"':case "'":return this.scanStringLiteral_(b,e);default:return this.scanIdentifierOrKeyword_(b,
e)}},scanNumberPostPeriod_:function(b){this.skipDecimalDigits_();return this.scanExponentOfNumericLiteral_(b)},scanPostDigit_:function(b){this.skipDecimalDigits_();return this.scanFractionalNumericLiteral_(b)},scanPostZero_:function(a){switch(this.peekChar_()){case "x":case "X":return this.nextChar_(),h(this.peekChar_())||this.reportError_("Hex Integer Literal must contain at least one digit"),this.skipHexDigits_(),new b(d.NUMBER,this.getTokenString_(a),this.getTokenRange_(a));case ".":return this.scanFractionalNumericLiteral_(a);
case "0":case "1":case "2":case "3":case "4":case "5":case "6":case "7":case "8":case "9":return this.scanPostDigit_(a);default:return new b(d.NUMBER,this.getTokenString_(a),this.getTokenRange_(a))}},createToken_:function(b,a){return new g(b,this.getTokenRange_(a))},scanIdentifierOrKeyword_:function(b,a){if(a=="\\")throw Error("Unicode escape sequence at line "+this.getPosition().line);if(!e(a))return this.reportError_(this.getPosition_(b),"Character code '"+a.charCodeAt(0)+"' is not a valid identifier start char"),
this.createToken_(d.ERROR,b);for(;this.isIdentifierPart_(this.peekChar_());)this.nextChar_();if(a=="\\")throw Error("Unicode escape sequence at line "+this.getPosition().line);var c=this.source_.contents.substring(b,this.index_);return i.isKeyword(c)?new g(i.getTokenType(c),this.getTokenRange_(b)):new j(this.getTokenRange_(b),c)},isIdentifierPart_:function(b){return e(b)||a(b)},scanStringLiteral_:function(a,e){for(;this.peekStringLiteralChar_(e);)if(!this.skipStringLiteralChar_())return new b(d.STRING,
this.getTokenString_(a),this.getTokenRange_(a));this.peekChar_()!=e?this.reportError_(this.getPosition_(a),"Unterminated String Literal"):this.nextChar_();return new b(d.STRING,this.getTokenString_(a),this.getTokenRange_(a))},getTokenString_:function(b){return this.source_.contents.substring(b,this.index_)},peekStringLiteralChar_:function(b){return!this.isAtEnd_()&&this.peekChar_()!=b&&!f(this.peekChar_())},skipStringLiteralChar_:function(){if(this.peek_("\\"))return this.skipStringLiteralEscapeSequence_();
this.nextChar_();return true},skipStringLiteralEscapeSequence_:function(){this.nextChar_();if(this.isAtEnd_())return this.reportError_("Unterminated string literal escape sequence"),false;if(f(this.peekChar_()))return this.skipLineTerminator_(),true;switch(this.nextChar_()){case "'":case '"':case "\\":case "b":case "f":case "n":case "r":case "t":case "v":case "0":return true;case "x":return this.skipHexDigit_()&&this.skipHexDigit_();case "u":return this.skipHexDigit_()&&this.skipHexDigit_()&&this.skipHexDigit_()&&
this.skipHexDigit_();default:return true}},skipHexDigit_:function(){if(!h(this.peekChar_()))return this.reportError_("Hex digit expected"),false;this.nextChar_();return true},skipLineTerminator_:function(){this.nextChar_()=="\r"&&this.peek_("\n")&&this.nextChar_()},scanFractionalNumericLiteral_:function(b){this.peek_(".")&&(this.nextChar_(),this.skipDecimalDigits_());return this.scanExponentOfNumericLiteral_(b)},scanExponentOfNumericLiteral_:function(e){switch(this.peekChar_()){case "e":case "E":this.nextChar_();
switch(this.peekChar_()){case "+":case "-":this.nextChar_()}a(this.peekChar_())||this.reportError_("Exponent part must contain at least one digit");this.skipDecimalDigits_()}return new b(d.NUMBER,this.getTokenString_(e),this.getTokenRange_(e))},skipDecimalDigits_:function(){for(;a(this.peekChar_());)this.nextChar_()},skipHexDigits_:function(){for(;h(this.peekChar_());)this.nextChar_()},nextChar_:function(){return this.isAtEnd_()?"\x00":this.source_.contents.charAt(this.index_++)},peek_:function(b){return this.peekChar_()==
b},peekChar_:function(b){return this.source_.contents.charAt(this.index_+(b||0))||"\x00"},reportError_:function(b){var a,d;arguments.length==1?(a=this.getPosition(),d=arguments[0]):(a=arguments[0],d=arguments[1]);this.errorReporter_.reportError(a,d)}};return{Scanner:c}});
traceur.define("syntax",function(){return{PredefinedName:{ADD_CONTINUATION:"addContinuation",APPLY:"apply",ARGUMENTS:"arguments",ARRAY:"Array",BIND:"bind",CALL:"call",CALLBACK:"callback",CAPTURED_ARGUMENTS:"$arguments",CAPTURED_THIS:"$this",CAUGHT_EXCEPTION:"$caughtException",CLOSE:"close",CONFIGURABLE:"configurable",CONSTRUCTOR:"constructor",CONTINUATION:"$continuation",CREATE:"create",CREATE_CALLBACK:"$createCallback",CREATE_CLASS:"createClass",CREATE_ERRBACK:"$createErrback",CREATE_PROMISE:"createPromise",
CREATE_TRAIT:"createTrait",CURRENT:"current",DEFERRED:"Deferred",DEFINE_GETTER:"__defineGetter__",DEFINE_PROPERTY:"defineProperty",DEFINE_SETTER:"__defineSetter__",ENUMERABLE:"enumerable",ERR:"$err",ERRBACK:"errback",FINALLY_FALL_THROUGH:"$finallyFallThrough",FIELD_INITIALIZER_METHOD:"$field_initializer_",FREEZE:"freeze",GET:"get",INIT:"$init",IS_DONE:"isDone",ITERATOR:"__iterator__",LENGTH:"length",LOOKUP_GETTER:"__lookupGetter__",LOOKUP_SETTER:"__lookupSetter__",MIXIN:"mixin",MODULE:"module",MOVE_NEXT:"moveNext",
NEW:"new",NEW_STATE:"$newState",OBJECT:"Object",OBJECT_NAME:"Object",PARAM:"$param",PROTO:"__proto__",PROTOTYPE:"prototype",PUSH:"push",REQUIRE:"require",RESOLVE:"resolve",REQUIRES:"requires",REQUIRED:"required",RESULT:"$result",RUNTIME:"runtime",SET:"set",SPREAD:"spread",SPREAD_NEW:"spreadNew",SLICE:"slice",STATE:"$state",STATIC:"$static",STORED_EXCEPTION:"$storedException",SUPER_CALL:"superCall",SUPER_GET:"superGet",THAT:"$that",THEN:"then",TRACEUR:"traceur",TRAIT:"trait",TYPE_ERROR:"TypeError",
UNDEFINED:"undefined",VALUE:"value",$VALUE:"$value",WAIT_TASK:"$waitTask",WRITABLE:"writable",getParameterName:function(c){return"$"+c}}}});
traceur.define("syntax.trees",function(){return{ParseTreeType:{ARGUMENT_LIST:"ARGUMENT_LIST",ARRAY_LITERAL_EXPRESSION:"ARRAY_LITERAL_EXPRESSION",ARRAY_PATTERN:"ARRAY_PATTERN",AWAIT_STATEMENT:"AWAIT_STATEMENT",BINARY_OPERATOR:"BINARY_OPERATOR",BLOCK:"BLOCK",BREAK_STATEMENT:"BREAK_STATEMENT",CALL_EXPRESSION:"CALL_EXPRESSION",CASE_CLAUSE:"CASE_CLAUSE",CATCH:"CATCH",CLASS_DECLARATION:"CLASS_DECLARATION",CLASS_EXPRESSION:"CLASS_EXPRESSION",COMMA_EXPRESSION:"COMMA_EXPRESSION",CONDITIONAL_EXPRESSION:"CONDITIONAL_EXPRESSION",
CONTINUE_STATEMENT:"CONTINUE_STATEMENT",DEBUGGER_STATEMENT:"DEBUGGER_STATEMENT",DEFAULT_CLAUSE:"DEFAULT_CLAUSE",DEFAULT_PARAMETER:"DEFAULT_PARAMETER",DO_WHILE_STATEMENT:"DO_WHILE_STATEMENT",EMPTY_STATEMENT:"EMPTY_STATEMENT",EXPORT_DECLARATION:"EXPORT_DECLARATION",EXPORT_PATH:"EXPORT_PATH",EXPORT_PATH_LIST:"EXPORT_PATH_LIST",EXPORT_PATH_SPECIFIER:"EXPORT_PATH_SPECIFIER",EXPORT_PATH_SPECIFIER_SET:"EXPORT_PATH_SPECIFIER_SET",EXPORT_SPECIFIER:"EXPORT_SPECIFIER",EXPORT_SPECIFIER_SET:"EXPORT_SPECIFIER_SET",
EXPRESSION_STATEMENT:"EXPRESSION_STATEMENT",FIELD_DECLARATION:"FIELD_DECLARATION",FINALLY:"FINALLY",FORMAL_PARAMETER_LIST:"FORMAL_PARAMETER_LIST",FOR_EACH_STATEMENT:"FOR_EACH_STATEMENT",FOR_IN_STATEMENT:"FOR_IN_STATEMENT",FOR_STATEMENT:"FOR_STATEMENT",FUNCTION_DECLARATION:"FUNCTION_DECLARATION",GET_ACCESSOR:"GET_ACCESSOR",IDENTIFIER_EXPRESSION:"IDENTIFIER_EXPRESSION",IF_STATEMENT:"IF_STATEMENT",IMPORT_DECLARATION:"IMPORT_DECLARATION",IMPORT_PATH:"IMPORT_PATH",IMPORT_SPECIFIER:"IMPORT_SPECIFIER",LABELLED_STATEMENT:"LABELLED_STATEMENT",
LITERAL_EXPRESSION:"LITERAL_EXPRESSION",MEMBER_EXPRESSION:"MEMBER_EXPRESSION",MEMBER_LOOKUP_EXPRESSION:"MEMBER_LOOKUP_EXPRESSION",MISSING_PRIMARY_EXPRESSION:"MISSING_PRIMARY_EXPRESSION",MIXIN:"MIXIN",MIXIN_RESOLVE:"MIXIN_RESOLVE",MIXIN_RESOLVE_LIST:"MIXIN_RESOLVE_LIST",MODULE_DECLARATION:"MODULE_DECLARATION",MODULE_DEFINITION:"MODULE_DEFINITION",MODULE_EXPRESSION:"MODULE_EXPRESSION",MODULE_REQUIRE:"MODULE_REQUIRE",MODULE_SPECIFIER:"MODULE_SPECIFIER",NEW_EXPRESSION:"NEW_EXPRESSION",NULL:"NULL",OBJECT_LITERAL_EXPRESSION:"OBJECT_LITERAL_EXPRESSION",
OBJECT_PATTERN:"OBJECT_PATTERN",OBJECT_PATTERN_FIELD:"OBJECT_PATTERN_FIELD",PAREN_EXPRESSION:"PAREN_EXPRESSION",POSTFIX_EXPRESSION:"POSTFIX_EXPRESSION",PROGRAM:"PROGRAM",PROPERTY_NAME_ASSIGNMENT:"PROPERTY_NAME_ASSIGNMENT",QUALIFIED_REFERENCE:"QUALIFIED_REFERENCE",REQUIRES_MEMBER:"REQUIRES_MEMBER",REST_PARAMETER:"REST_PARAMETER",RETURN_STATEMENT:"RETURN_STATEMENT",SET_ACCESSOR:"SET_ACCESSOR",SPREAD_EXPRESSION:"SPREAD_EXPRESSION",SPREAD_PATTERN_ELEMENT:"SPREAD_PATTERN_ELEMENT",STATE_MACHINE:"STATE_MACHINE",
SUPER_EXPRESSION:"SUPER_EXPRESSION",SWITCH_STATEMENT:"SWITCH_STATEMENT",THIS_EXPRESSION:"THIS_EXPRESSION",THROW_STATEMENT:"THROW_STATEMENT",TRAIT_DECLARATION:"TRAIT_DECLARATION",TRY_STATEMENT:"TRY_STATEMENT",UNARY_EXPRESSION:"UNARY_EXPRESSION",VARIABLE_DECLARATION:"VARIABLE_DECLARATION",VARIABLE_DECLARATION_LIST:"VARIABLE_DECLARATION_LIST",VARIABLE_STATEMENT:"VARIABLE_STATEMENT",WHILE_STATEMENT:"WHILE_STATEMENT",WITH_STATEMENT:"WITH_STATEMENT",YIELD_STATEMENT:"YIELD_STATEMENT"}}});
traceur.define("syntax.trees",function(){function c(a){return("_"+a.toString().toLowerCase()).replace(/_(\w)/g,function(a,d){return d.toUpperCase()})}function f(a,c){this.type=a;this.location=c}var a=traceur.syntax.trees.ParseTreeType,h=Object.create(null);h[a.NULL]="NullTree";h[a.IMPORT_PATH]="ImportPath";f.stripLocation=function(a,c){return a==="location"?void 0:c};f.prototype={isNull:function(){return this.type===a.NULL},isPattern:function(){switch(this.type){case a.ARRAY_PATTERN:case a.OBJECT_PATTERN:return true;
case a.PAREN_EXPRESSION:return this.expression.isPattern();default:return false}},isLeftHandSideExpression:function(){switch(this.type){case a.THIS_EXPRESSION:case a.CLASS_EXPRESSION:case a.SUPER_EXPRESSION:case a.IDENTIFIER_EXPRESSION:case a.LITERAL_EXPRESSION:case a.ARRAY_LITERAL_EXPRESSION:case a.OBJECT_LITERAL_EXPRESSION:case a.NEW_EXPRESSION:case a.MEMBER_EXPRESSION:case a.MEMBER_LOOKUP_EXPRESSION:case a.CALL_EXPRESSION:case a.FUNCTION_DECLARATION:return true;case a.PAREN_EXPRESSION:return this.expression.isLeftHandSideExpression();
default:return false}},isAssignmentExpression:function(){switch(this.type){case a.FUNCTION_DECLARATION:case a.BINARY_OPERATOR:case a.THIS_EXPRESSION:case a.IDENTIFIER_EXPRESSION:case a.LITERAL_EXPRESSION:case a.ARRAY_LITERAL_EXPRESSION:case a.OBJECT_LITERAL_EXPRESSION:case a.MISSING_PRIMARY_EXPRESSION:case a.CONDITIONAL_EXPRESSION:case a.UNARY_EXPRESSION:case a.POSTFIX_EXPRESSION:case a.MEMBER_EXPRESSION:case a.NEW_EXPRESSION:case a.CALL_EXPRESSION:case a.MEMBER_LOOKUP_EXPRESSION:case a.PAREN_EXPRESSION:case a.SUPER_EXPRESSION:return true;
default:return false}},isMemberExpression:function(){switch(this.type){case a.THIS_EXPRESSION:case a.CLASS_EXPRESSION:case a.SUPER_EXPRESSION:case a.IDENTIFIER_EXPRESSION:case a.LITERAL_EXPRESSION:case a.ARRAY_LITERAL_EXPRESSION:case a.OBJECT_LITERAL_EXPRESSION:case a.PAREN_EXPRESSION:case a.FUNCTION_DECLARATION:case a.MEMBER_LOOKUP_EXPRESSION:case a.MEMBER_EXPRESSION:case a.CALL_EXPRESSION:return true;case a.NEW_EXPRESSION:return this.args!=null}return false},isExpression:function(){return this.isAssignmentExpression()||
this.type==a.COMMA_EXPRESSION},isAssignmentOrSpread:function(){return this.isAssignmentExpression()||this.type==a.SPREAD_EXPRESSION},isRestParameter:function(){return this.type==a.REST_PARAMETER},isSpreadPatternElement:function(){return this.type==a.SPREAD_PATTERN_ELEMENT},isStatement:function(){return this.isSourceElement()},isStatementStandard:function(){switch(this.type){case a.BLOCK:case a.AWAIT_STATEMENT:case a.VARIABLE_STATEMENT:case a.EMPTY_STATEMENT:case a.EXPRESSION_STATEMENT:case a.IF_STATEMENT:case a.DO_WHILE_STATEMENT:case a.WHILE_STATEMENT:case a.FOR_EACH_STATEMENT:case a.FOR_IN_STATEMENT:case a.FOR_STATEMENT:case a.CONTINUE_STATEMENT:case a.BREAK_STATEMENT:case a.RETURN_STATEMENT:case a.YIELD_STATEMENT:case a.WITH_STATEMENT:case a.SWITCH_STATEMENT:case a.LABELLED_STATEMENT:case a.THROW_STATEMENT:case a.TRY_STATEMENT:case a.DEBUGGER_STATEMENT:return true;
default:return false}},isSourceElement:function(){switch(this.type){case a.FUNCTION_DECLARATION:case a.CLASS_DECLARATION:case a.TRAIT_DECLARATION:return true}return this.isStatementStandard()},isProgramElement:function(){switch(this.type){case a.VARIABLE_DECLARATION:case a.FUNCTION_DECLARATION:case a.IMPORT_DECLARATION:case a.MODULE_DECLARATION:case a.MODULE_DEFINITION:case a.EXPORT_DECLARATION:case a.CLASS_DECLARATION:case a.TRAIT_DECLARATION:return true}return this.isStatementStandard()}};return{getTreeNameForType:function(a){if(a in
h)return h[a];var g=c(a);return h[a]=g},ParseTree:f}});traceur.define("syntax.trees",function(){function c(){if(h)return h;f.call(this,a.NULL,null);Object.freeze(this);h=this}var f=traceur.syntax.trees.ParseTree,a=traceur.syntax.trees.ParseTreeType,h;traceur.inherits(c,f,{__proto__:f.prototype});return{NullTree:c}});
traceur.define("syntax.trees",function(){function c(a,c){var g=arguments,d=function(b){traceur.syntax.trees.ParseTree.call(this,a,b);for(var d=1;d<g.length;d++)this[g[d]]=arguments[d];Object.freeze(this)};traceur.inherits(d,f,{__proto__:f.prototype});return d}var f=traceur.syntax.trees.ParseTree,a=traceur.syntax.trees.ParseTreeType;return{ArgumentList:c(a.ARGUMENT_LIST,"args"),ArrayLiteralExpression:c(a.ARRAY_LITERAL_EXPRESSION,"elements"),ArrayPattern:c(a.ARRAY_PATTERN,"elements"),AwaitStatement:c(a.AWAIT_STATEMENT,
"identifier","expression"),BinaryOperator:c(a.BINARY_OPERATOR,"left","operator","right"),Block:c(a.BLOCK,"statements"),BreakStatement:c(a.BREAK_STATEMENT,"name"),CallExpression:c(a.CALL_EXPRESSION,"operand","args"),CaseClause:c(a.CASE_CLAUSE,"expression","statements"),Catch:c(a.CATCH,"exceptionName","catchBody"),ClassDeclaration:c(a.CLASS_DECLARATION,"name","superClass","elements"),ClassExpression:c(a.CLASS_EXPRESSION),CommaExpression:c(a.COMMA_EXPRESSION,"expressions"),ConditionalExpression:c(a.CONDITIONAL_EXPRESSION,
"condition","left","right"),ContinueStatement:c(a.CONTINUE_STATEMENT,"name"),DebuggerStatement:c(a.DEBUGGER_STATEMENT),DefaultClause:c(a.DEFAULT_CLAUSE,"statements"),DefaultParameter:c(a.DEFAULT_PARAMETER,"identifier","expression"),DoWhileStatement:c(a.DO_WHILE_STATEMENT,"body","condition"),EmptyStatement:c(a.EMPTY_STATEMENT),ExportDeclaration:c(a.EXPORT_DECLARATION,"declaration"),ExportPathList:c(a.EXPORT_PATH_LIST,"paths"),ExportPathSpecifierSet:c(a.EXPORT_PATH_SPECIFIER_SET,"specifiers"),ExportPathSpecifier:c(a.EXPORT_PATH_SPECIFIER,
"identifier","specifier"),ExportPath:c(a.EXPORT_PATH,"moduleExpression","specifier"),ExportSpecifier:c(a.EXPORT_SPECIFIER,"lhs","rhs"),ExportSpecifierSet:c(a.EXPORT_SPECIFIER_SET,"specifiers"),ExpressionStatement:c(a.EXPRESSION_STATEMENT,"expression"),FieldDeclaration:c(a.FIELD_DECLARATION,"isStatic","isConst","declarations"),Finally:c(a.FINALLY,"block"),ForEachStatement:c(a.FOR_EACH_STATEMENT,"initializer","collection","body"),ForInStatement:c(a.FOR_IN_STATEMENT,"initializer","collection","body"),
FormalParameterList:c(a.FORMAL_PARAMETER_LIST,"parameters"),ForStatement:c(a.FOR_STATEMENT,"initializer","condition","increment","body"),FunctionDeclaration:c(a.FUNCTION_DECLARATION,"name","isStatic","formalParameterList","functionBody"),GetAccessor:c(a.GET_ACCESSOR,"propertyName","isStatic","body"),IdentifierExpression:c(a.IDENTIFIER_EXPRESSION,"identifierToken"),IfStatement:c(a.IF_STATEMENT,"condition","ifClause","elseClause"),ImportDeclaration:c(a.IMPORT_DECLARATION,"importPathList"),ImportPath:c(a.IMPORT_PATH,
"moduleExpression","importSpecifierSet"),ImportSpecifier:c(a.IMPORT_SPECIFIER,"lhs","rhs"),ImportSpecifierSet:c(a.IMPORT_SPECIFIER_SET,"specifiers"),LabelledStatement:c(a.LABELLED_STATEMENT,"name","statement"),LiteralExpression:c(a.LITERAL_EXPRESSION,"literalToken"),MemberExpression:c(a.MEMBER_EXPRESSION,"operand","memberName"),MemberLookupExpression:c(a.MEMBER_LOOKUP_EXPRESSION,"operand","memberExpression"),MissingPrimaryExpression:c(a.MISSING_PRIMARY_EXPRESSION,"nextToken"),MixinResolveList:c(a.MIXIN_RESOLVE_LIST,
"resolves"),MixinResolve:c(a.MIXIN_RESOLVE,"from","to"),Mixin:c(a.MIXIN,"name","mixinResolves"),ModuleDeclaration:c(a.MODULE_DECLARATION,"specifiers"),ModuleDefinition:c(a.MODULE_DEFINITION,"name","elements"),ModuleExpression:c(a.MODULE_EXPRESSION,"reference","identifiers"),ModuleRequire:c(a.MODULE_REQUIRE,"url"),ModuleSpecifier:c(a.MODULE_SPECIFIER,"identifier","expression"),NewExpression:c(a.NEW_EXPRESSION,"operand","args"),ObjectLiteralExpression:c(a.OBJECT_LITERAL_EXPRESSION,"propertyNameAndValues"),
ObjectPatternField:c(a.OBJECT_PATTERN_FIELD,"identifier","element"),ObjectPattern:c(a.OBJECT_PATTERN,"fields"),ParenExpression:c(a.PAREN_EXPRESSION,"expression"),PostfixExpression:c(a.POSTFIX_EXPRESSION,"operand","operator"),Program:c(a.PROGRAM,"programElements"),PropertyNameAssignment:c(a.PROPERTY_NAME_ASSIGNMENT,"name","value"),QualifiedReference:c(a.QUALIFIED_REFERENCE,"moduleExpression","identifier"),RequiresMember:c(a.REQUIRES_MEMBER,"name"),RestParameter:c(a.REST_PARAMETER,"identifier"),ReturnStatement:c(a.RETURN_STATEMENT,
"expression"),SetAccessor:c(a.SET_ACCESSOR,"propertyName","isStatic","parameter","body"),SpreadExpression:c(a.SPREAD_EXPRESSION,"expression"),SpreadPatternElement:c(a.SPREAD_PATTERN_ELEMENT,"lvalue"),SuperExpression:c(a.SUPER_EXPRESSION),SwitchStatement:c(a.SWITCH_STATEMENT,"expression","caseClauses"),ThisExpression:c(a.THIS_EXPRESSION),ThrowStatement:c(a.THROW_STATEMENT,"value"),TraitDeclaration:c(a.TRAIT_DECLARATION,"name","elements"),TryStatement:c(a.TRY_STATEMENT,"body","catchBlock","finallyBlock"),
UnaryExpression:c(a.UNARY_EXPRESSION,"operator","operand"),VariableDeclarationList:c(a.VARIABLE_DECLARATION_LIST,"declarationType","declarations"),VariableDeclaration:c(a.VARIABLE_DECLARATION,"lvalue","initializer"),VariableStatement:c(a.VARIABLE_STATEMENT,"declarations"),WhileStatement:c(a.WHILE_STATEMENT,"condition","body"),WithStatement:c(a.WITH_STATEMENT,"expression","body"),YieldStatement:c(a.YIELD_STATEMENT,"expression","isYieldFor")}});
traceur.define("util",function(){function c(){}c.prototype={hadError_:false,reportError:function(c,a,h){this.hadError_=true;var e=Array.prototype.slice.call(arguments,2);this.reportMessageInternal(c,"error",a,e)},reportWarning:function(c,a,h){var e=Array.prototype.slice.call(arguments,2);this.reportMessageInternal(c,"warn",a,e)},reportMessageInternal:function(c,a,h,e){c&&(h=c+": "+h);console[a].apply(console,[h].concat(e))},hadError:function(){return this.hadError_},clearError:function(){this.hadError_=
false}};return{ErrorReporter:c}});traceur.define("util",function(){function c(){}var f=traceur.util.ErrorReporter;traceur.inherits(c,f,{__proto__:f.prototype,reportMessageInternal:function(){}});return{MutedErrorReporter:c}});
traceur.define("syntax",function(){function c(b,a,d){this.errorReporter_=b;this.scanner_=a instanceof traceur.syntax.Scanner?a:new traceur.syntax.Scanner(b,a,d)}function f(a){return a===b.EQUAL}function a(a){return a===b.COMMA||a===b.CLOSE_SQUARE}function h(a){return a===b.COMMA||a===b.CLOSE_CURLY}var e=traceur.util.MutedErrorReporter,g=traceur.util.SourceRange,d=traceur.syntax.Keywords,b=traceur.syntax.TokenType,j=traceur.syntax.PredefinedName,i=traceur.syntax.trees.ArgumentList,k=traceur.syntax.trees.ArrayLiteralExpression,
n=traceur.syntax.trees.ArrayPattern,l=traceur.syntax.trees.AwaitStatement,o=traceur.syntax.trees.BinaryOperator,q=traceur.syntax.trees.Block,m=traceur.syntax.trees.BreakStatement,p=traceur.syntax.trees.CallExpression,u=traceur.syntax.trees.CaseClause,s=traceur.syntax.trees.Catch,w=traceur.syntax.trees.ClassDeclaration,x=traceur.syntax.trees.ClassExpression,v=traceur.syntax.trees.CommaExpression,t=traceur.syntax.trees.ConditionalExpression,C=traceur.syntax.trees.ContinueStatement,r=traceur.syntax.trees.DebuggerStatement,
A=traceur.syntax.trees.DefaultClause,y=traceur.syntax.trees.DefaultParameter,G=traceur.syntax.trees.DoWhileStatement,z=traceur.syntax.trees.EmptyStatement,F=traceur.syntax.trees.ExportDeclaration,E=traceur.syntax.trees.ExportPath,B=traceur.syntax.trees.ExportPathList,D=traceur.syntax.trees.ExportPathSpecifier,H=traceur.syntax.trees.ExportPathSpecifierSet,L=traceur.syntax.trees.ExportSpecifier,M=traceur.syntax.trees.ExportSpecifierSet,O=traceur.syntax.trees.ExpressionStatement,I=traceur.syntax.trees.FieldDeclaration,
S=traceur.syntax.trees.Finally,J=traceur.syntax.trees.ForEachStatement,N=traceur.syntax.trees.ForInStatement,Q=traceur.syntax.trees.ForStatement,T=traceur.syntax.trees.FormalParameterList,P=traceur.syntax.trees.FunctionDeclaration,R=traceur.syntax.trees.GetAccessor,X=traceur.syntax.trees.IdentifierExpression,U=traceur.syntax.IdentifierToken,Y=traceur.syntax.trees.IfStatement,Z=traceur.syntax.trees.ImportDeclaration,K=traceur.syntax.trees.ImportPath,ga=traceur.syntax.trees.ImportSpecifier,ba=traceur.syntax.trees.ImportSpecifierSet,
ha=traceur.syntax.trees.LabelledStatement,ca=traceur.syntax.trees.LiteralExpression,da=traceur.syntax.trees.MemberExpression,ea=traceur.syntax.trees.MemberLookupExpression,ia=traceur.syntax.trees.MissingPrimaryExpression,ja=traceur.syntax.trees.Mixin,ka=traceur.syntax.trees.MixinResolve,la=traceur.syntax.trees.MixinResolveList,ma=traceur.syntax.trees.ModuleDeclaration,na=traceur.syntax.trees.ModuleDefinition,oa=traceur.syntax.trees.ModuleExpression,pa=traceur.syntax.trees.ModuleRequire,V=traceur.syntax.trees.ModuleSpecifier,
W=traceur.syntax.trees.NewExpression,fa=traceur.syntax.trees.NullTree,ta=traceur.syntax.trees.ObjectLiteralExpression,ua=traceur.syntax.trees.ObjectPattern,va=traceur.syntax.trees.ObjectPatternField,$=traceur.syntax.trees.ParenExpression,wa=traceur.syntax.trees.ParseTreeType,xa=traceur.syntax.trees.PostfixExpression,ya=traceur.syntax.trees.Program,za=traceur.syntax.trees.PropertyNameAssignment,Aa=traceur.syntax.trees.QualifiedReference,Ba=traceur.syntax.trees.RequiresMember,Ca=traceur.syntax.trees.RestParameter,
Da=traceur.syntax.trees.ReturnStatement,Ea=traceur.syntax.trees.SetAccessor,qa=traceur.syntax.trees.SpreadExpression,ra=traceur.syntax.trees.SpreadPatternElement,sa=traceur.syntax.trees.SuperExpression,Fa=traceur.syntax.trees.SwitchStatement,Ga=traceur.syntax.trees.ThisExpression,Ha=traceur.syntax.trees.ThrowStatement,Ia=traceur.syntax.trees.TraitDeclaration,Ja=traceur.syntax.trees.TryStatement,Ka=traceur.syntax.trees.UnaryExpression,La=traceur.syntax.trees.VariableDeclaration,Ma=traceur.syntax.trees.VariableDeclarationList,
Na=traceur.syntax.trees.VariableStatement,Oa=traceur.syntax.trees.WhileStatement,Pa=traceur.syntax.trees.WithStatement,Qa=traceur.syntax.trees.YieldStatement;c.prototype={lastToken_:null,parseProgram:function(a){var d=this.getTreeStartLocation_(),a=this.parseProgramElements_(!!a);this.eat_(b.END_OF_FILE);return new ya(this.getTreeLocation_(d),a)},parseProgramElements_:function(a){for(var d=[];!this.peek_(b.END_OF_FILE);)d.push(this.parseProgramElement_(a));return d},peekProgramElement_:function(){return this.peekFunction_()||
this.peekVariableDeclarationList_()||this.peekImportDeclaration_()||this.peekExportDeclaration_()||this.peekModuleDeclaration_()||this.peekClassDeclaration_()||this.peekTraitDeclaration_()||this.peekStatement_()},parseProgramElement_:function(b){return this.peekVariableDeclarationList_()?this.parseVariableStatement_():this.peekImportDeclaration_(b)?this.parseImportDeclaration_(b):this.peekExportDeclaration_(b)?this.parseExportDeclaration_(b):this.peekModuleDeclaration_(b)?this.parseModuleDeclaration_(b):
this.parseStatement_()},peekModuleDefinition_:function(){return this.peekPredefinedString_(j.MODULE)&&this.peek_(b.IDENTIFIER,1)&&this.peek_(b.OPEN_CURLY,2)},parseModuleDefinition_:function(a){var d=this.getTreeStartLocation_();this.eatId_();var c=this.eatId_();this.eat_(b.OPEN_CURLY);for(var e=[];this.peekModuleElement_();)e.push(this.parseModuleElement_(a));this.eat_(b.CLOSE_CURLY);return new na(this.getTreeLocation_(d),c,e)},parseModuleSpecifier_:function(a){var d=this.getTreeStartLocation_(),
c=this.eatId_();this.eat_(b.EQUAL);a=this.parseModuleExpression_(a,false);return new V(this.getTreeLocation_(d),c,a)},parseModuleExpression_:function(a,d){for(var c=this.getTreeStartLocation_(),e=this.parseModuleReference_(a),g=[];this.peek_(b.PERIOD)&&this.peekIdName_(1);){if(d&&!this.peek_(b.PERIOD,2))break;this.eat_(b.PERIOD);g.push(this.eatIdName_())}return new oa(this.getTreeLocation_(c),e,g)},parseModuleReference_:function(a){var d=this.getTreeStartLocation_();return a&&this.peekPredefinedString_(j.REQUIRE)?
(this.eat_(b.IDENTIFIER),this.eat_(b.OPEN_PAREN),a=this.eat_(b.STRING),this.eat_(b.CLOSE_PAREN),new pa(this.getTreeLocation_(d),a)):this.parseIdentifierExpression_()},peekModuleElement_:function(){return this.peekProgramElement_()},parseModuleElement_:function(b){return this.parseProgramElement_(b)},peekImportDeclaration_:function(){return this.peek_(b.IMPORT)},parseImportDeclaration_:function(a){var d=this.getTreeStartLocation_();this.eat_(b.IMPORT);var c=[];for(c.push(this.parseImportPath_(a));this.peek_(b.COMMA);)this.eat_(b.COMMA),
c.push(this.parseImportPath_(a));this.eatPossibleImplicitSemiColon_();return new Z(this.getTreeLocation_(d),c)},parseImportPath_:function(a){var d=this.getTreeStartLocation_(),a=this.parseModuleExpression_(a,true);this.eat_(b.PERIOD);var c=this.parseImportSpecifierSet_();return new K(this.getTreeLocation_(d),a,c)},parseImportSpecifierSet_:function(){if(this.peek_(b.OPEN_CURLY)){var a=this.getTreeStartLocation_();this.eat_(b.OPEN_CURLY);for(var d=[this.parseImportSpecifier_()];this.peek_(b.COMMA);){this.eat_(b.COMMA);
if(this.peek_(b.CLOSE_CURLY))break;d.push(this.parseImportSpecifier_())}this.eat_(b.CLOSE_CURLY);return new ba(this.getTreeLocation_(a),d)}return this.peek_(b.STAR)?(d=this.eat_(b.STAR),new ba(this.getTreeLocation_(a),d)):this.parseIdentifierExpression_()},parseImportSpecifier_:function(){var a=this.getTreeStartLocation_(),d=this.eatIdName_(),c=null;this.peek_(b.COLON)&&(this.eat_(b.COLON),c=this.eatId_());return new ga(this.getTreeLocation_(a),d,c)},peekExportDeclaration_:function(){return this.peek_(b.EXPORT)},
parseExportDeclaration_:function(a){var d=this.getTreeStartLocation_();this.eat_(b.EXPORT);switch(this.peekType_()){case b.VAR:case b.CONST:a=this.parseVariableStatement_();break;case b.FUNCTION:case b.POUND:a=this.parseFunctionDeclaration_();break;case b.CLASS:a=this.parseClassDeclaration_();break;case b.IDENTIFIER:if(this.peekModuleDeclaration_(a))a=this.parseModuleDeclaration_(a);else if(this.peekTraitDeclaration_())a=this.parseTraitDeclaration_();else if(this.peekExportPath_())a=this.parseExportPathList_(),
this.eatPossibleImplicitSemiColon_();else throw Error("unreached");break;case b.OPEN_CURLY:a=this.parseExportPathList_();this.eatPossibleImplicitSemiColon_();break;default:return this.reportError_("Unexpected symbol '"+this.peekToken_()+"'"),null}return new F(this.getTreeLocation_(d),a)},parseExportPathList_:function(){for(var a=this.getTreeStartLocation_(),d=[this.parseExportPath_()];this.peek_(b.COMMA);)this.eat_(b.COMMA),d.push(this.parseExportPath_());return new B(this.getTreeEndLocation_(a),
d)},peekExportPath_:function(){return this.peek_(b.OPEN_CURLY)||this.peekId_()},parseExportPath_:function(){if(this.peek_(b.OPEN_CURLY))return this.parseExportPathSpecifierSet_();if(this.peek_(b.PERIOD,1)){var a=this.getTreeStartLocation_(),d=this.parseModuleExpression_(false,true);this.eat_(b.PERIOD);var c=this.parseExportSpecifierSet_();return new E(a,d,c)}return this.parseIdentifierExpression_()},peekExportSpecifierSet_:function(){return this.peek_(b.OPEN_CURLY)||this.peekIdName_()},parseExportSpecifierSet_:function(){if(!this.peek_(b.OPEN_CURLY))return this.parseIdentifierExpression_();
var a=this.getTreeStartLocation_();this.eat_(b.OPEN_CURLY);for(var d=[this.parseExportSpecifier_()];this.peek_(b.COMMA);){this.eat_(b.COMMA);if(this.peek_(b.CLOSE_CURLY))break;d.push(this.parseExportSpecifier_())}this.eat_(b.CLOSE_CURLY);return new M(this.getTreeLocation_(a),d)},parseExportSpecifier_:function(){var a=this.getTreeStartLocation_(),d=this.eatIdName_(),c=null;this.peek_(b.COLON)&&(this.eat_(b.COLON),c=this.eatIdName_());return new L(this.getTreeLocation_(a),d,c)},peekId_:function(){return this.peek_(b.IDENTIFIER)},
peekIdName_:function(a){a=this.peekType_(a);return a==b.IDENTIFIER||d.isKeyword(a)},peekExportPathSpecifierSet_:function(){return this.peek_(b.OPEN_CURLY)&&this.peekExportPathSpecifier_(1)},parseExportPathSpecifierSet_:function(){var a=this.getTreeStartLocation_();this.eat_(b.OPEN_CURLY);for(var d=[this.parseExportPathSpecifier_()];this.peek_(b.COMMA);){this.eat_(b.COMMA);if(this.peek_(b.CLOSE_CURLY))break;d.push(this.parseExportPathSpecifier_())}this.eat_(b.CLOSE_CURLY);return new H(this.getTreeLocation_(a),
d)},peekExportPathSpecifier_:function(b){return this.peekIdName_(b)},parseExportPathSpecifier_:function(){if(!this.peek_(b.COLON,1))return this.parseIdentifierExpression_();var a=this.getTreeStartLocation_(),d=this.eatIdName_();this.eat_(b.COLON);var c;c=this.peek_(b.PERIOD,1)?this.parseQualifiedReference_():this.parseIdentifierExpression_();return new D(this.getTreeLocation_(a),d,c)},parseQualifiedReference_:function(){var a=this.getTreeStartLocation_(),d=this.parseModuleExpression_(false,true);
this.eat_(b.PERIOD);var c=this.eatIdName_();return new Aa(this.getTreeLocation_(a),d,c)},peekModuleDeclaration_:function(){return this.peekPredefinedString_(j.MODULE)&&this.peek_(b.IDENTIFIER,1)&&(this.peek_(b.EQUAL,2)||this.peek_(b.OPEN_CURLY,2))},parseModuleDeclaration_:function(a){if(this.peekModuleDefinition_(a))return this.parseModuleDefinition_(a);var d=this.getTreeStartLocation_();this.eatId_();for(var c=[this.parseModuleSpecifier_(a)];this.peek_(b.COMMA);)this.eat_(b.COMMA),c.push(this.parseModuleSpecifier_(a));
this.eatPossibleImplicitSemiColon_();return new ma(this.getTreeLocation_(d),c)},peekTraitDeclaration_:function(){return this.peekPredefinedString_(j.TRAIT)},parseTraitDeclaration_:function(){var a=this.getTreeStartLocation_();this.eatId_();var d=this.eatId_();this.eat_(b.OPEN_CURLY);var c=this.parseTraitElements_();this.eat_(b.CLOSE_CURLY);return new Ia(this.getTreeLocation_(a),d,c)},parseTraitElements_:function(){for(var b=[];this.peekTraitElement_();)b.push(this.parseTraitElement_());return b},
peekTraitElement_:function(){switch(this.peekType_()){case b.FUNCTION:case b.POUND:case b.IDENTIFIER:return true;default:return false}},parseTraitElement_:function(){return this.peekGetAccessor_(false)?this.parseGetAccessor_():this.peekSetAccessor_(false)?this.parseSetAccessor_():this.peekMixin_()?this.parseMixin_():this.peekRequiresMember_()?this.parseRequiresMember_():this.parseMethodDeclaration_(false)},peekRequiresMember_:function(){return this.peekPredefinedString_(j.REQUIRES)&&this.peek_(b.IDENTIFIER,
1)},parseRequiresMember_:function(){var a=this.getTreeStartLocation_();this.eatId_();var d=this.eatId_();this.eat_(b.SEMI_COLON);return new Ba(this.getTreeLocation_(a),d)},peekMixin_:function(){return this.peekPredefinedString_(j.MIXIN)&&this.peek_(b.IDENTIFIER,1)},peekClassDeclaration_:function(){return this.peek_(b.CLASS)},parseClassDeclaration_:function(){var a=this.getTreeStartLocation_();this.eat_(b.CLASS);var d=this.eatId_(),c=null;this.peek_(b.COLON)&&(this.eat_(b.COLON),c=this.parseExpression_());
this.eat_(b.OPEN_CURLY);var e=this.parseClassElements_();this.eat_(b.CLOSE_CURLY);return new w(this.getTreeLocation_(a),d,c,e)},parseClassElements_:function(){for(var b=[];this.peekClassElement_();)b.push(this.parseClassElement_());return b},peekClassElement_:function(){switch(this.peekType_()){case b.FUNCTION:case b.POUND:case b.IDENTIFIER:case b.VAR:case b.CONST:case b.CLASS:case b.NEW:return true;default:return false}},parseClassElement_:function(){return this.peekConstructorDeclaration_()?this.parseConstructorDeclaration_():
this.peekMethodDeclaration_()?this.parseMethodDeclaration_(true):this.peekGetAccessor_(true)?this.parseGetAccessor_():this.peekSetAccessor_(true)?this.parseSetAccessor_():this.peekMixin_()?this.parseMixin_():this.peekRequiresMember_()?this.parseRequiresMember_():this.parseFieldDeclaration_()},parseFieldDeclaration_:function(){var a=this.getTreeStartLocation_(),d=this.eatOpt_(b.CLASS)!=null,c=this.peekType_(),e=false;switch(c){case b.CONST:this.eat_(b.CONST);e=true;break;case b.VAR:this.eat_(b.VAR)}var g=
[];for(g.push(this.parseVariableDeclaration_(d,c,"NORMAL"));this.peek_(b.COMMA);)this.eat_(b.COMMA),g.push(this.parseVariableDeclaration_(d,c,"NORMAL"));this.eat_(b.SEMI_COLON);return new I(this.getTreeLocation_(a),d,e,g)},parseMixin_:function(){var a=this.getTreeStartLocation_();this.eatId_();var d=this.eatId_(),c=null;this.peek_(b.OPEN_CURLY)&&(c=this.parseMixinResolves_());this.eat_(b.SEMI_COLON);return new ja(this.getTreeLocation_(a),d,c)},parseMixinResolves_:function(){var a=this.getTreeStartLocation_(),
d=[];for(this.eat_(b.OPEN_CURLY);this.peek_(b.IDENTIFIER);)if(d.push(this.parseMixinResolve_()),null==this.eatOpt_(b.COMMA))break;this.eat_(b.CLOSE_CURLY);return new la(this.getTreeLocation_(a),d)},parseMixinResolve_:function(){var a=this.getTreeStartLocation_(),d=this.eatId_();this.eat_(b.COLON);var c=this.eatId_();return new ka(this.getTreeLocation_(a),d,c)},parseMethodDeclaration_:function(a){var d=this.getTreeStartLocation_(),a=a&&this.eatOpt_(b.CLASS)!=null;this.peekFunction_()&&this.nextToken_();
return this.parseFunctionDeclarationTail_(d,a,this.eatId_())},peekMethodDeclaration_:function(){var a=this.peek_(b.CLASS)?1:0;return this.peekFunction_(a)||this.peek_(b.IDENTIFIER,a)&&this.peek_(b.OPEN_PAREN,a+1)},parseConstructorDeclaration_:function(){var a=this.getTreeStartLocation_(),d=this.eatOpt_(b.CLASS)!=null;return this.parseFunctionDeclarationTail_(a,d,this.eatIdName_())},peekConstructorDeclaration_:function(){var a=this.peek_(b.CLASS)?1:0;return this.peek_(b.NEW,a)&&this.peek_(b.OPEN_PAREN,
a+1)},parseSourceElement_:function(){return this.peekFunction_()?this.parseFunctionDeclaration_():this.peekClassDeclaration_()?this.parseClassDeclaration_():this.peekTraitDeclaration_()?this.parseTraitDeclaration_():this.peek_(b.LET)?this.parseVariableStatement_():this.parseStatementStandard_()},peekSourceElement_:function(){return this.peekFunction_()||this.peekClassDeclaration_()||this.peekTraitDeclaration_()||this.peekStatementStandard_()||this.peek_(b.LET)},peekFunction_:function(a){a=a||0;return this.peek_(b.FUNCTION,
a)||this.peek_(b.POUND,a)},parseFunctionDeclaration_:function(){var b=this.getTreeStartLocation_();this.nextToken_();return this.parseFunctionDeclarationTail_(b,false,this.eatId_())},parseFunctionDeclarationTail_:function(a,d,c){this.eat_(b.OPEN_PAREN);var e=this.parseFormalParameterList_();this.eat_(b.CLOSE_PAREN);var g=this.parseFunctionBody_();return new P(this.getTreeLocation_(a),c,d,e,g)},parseFunctionExpression_:function(){var a=this.getTreeStartLocation_();this.nextToken_();var d=this.eatIdOpt_();
this.eat_(b.OPEN_PAREN);var c=this.parseFormalParameterList_();this.eat_(b.CLOSE_PAREN);var e=this.parseFunctionBody_();return new P(this.getTreeLocation_(a),d,false,c,e)},parseFormalParameterList_:function(){for(var a=[],d=false;this.peek_(b.IDENTIFIER)||this.peek_(b.SPREAD);){if(this.peek_(b.SPREAD)){d=this.getTreeStartLocation_();this.eat_(b.SPREAD);a.push(new Ca(this.getTreeLocation_(d),this.eatId_()));break}else d||this.peek_(b.EQUAL,1)?(a.push(this.parseDefaultParameter_()),d=true):a.push(this.parseIdentifierExpression_());
this.peek_(b.CLOSE_PAREN)||this.eat_(b.COMMA)}return new T(null,a)},parseDefaultParameter_:function(){var a=this.getTreeStartLocation_(),d=this.parseIdentifierExpression_();this.eat_(b.EQUAL);var c=this.parseAssignmentExpression_();return new y(this.getTreeLocation_(a),d,c)},parseFunctionBody_:function(){var a=this.getTreeStartLocation_();this.eat_(b.OPEN_CURLY);var d=this.parseSourceElementList_();this.eat_(b.CLOSE_CURLY);return new q(this.getTreeLocation_(a),d)},parseSourceElementList_:function(){for(var b=
[];this.peekSourceElement_();)b.push(this.parseSourceElement_());return b},parseSpreadExpression_:function(){var a=this.getTreeStartLocation_();this.eat_(b.SPREAD);var d=this.parseAssignmentExpression_();return new qa(this.getTreeLocation_(a),d)},parseStatement_:function(){return this.parseSourceElement_()},parseStatementStandard_:function(){switch(this.peekType_()){case b.OPEN_CURLY:return this.parseBlock_();case b.AWAIT:return this.parseAwaitStatement_();case b.CONST:case b.VAR:return this.parseVariableStatement_();
case b.SEMI_COLON:return this.parseEmptyStatement_();case b.IF:return this.parseIfStatement_();case b.DO:return this.parseDoWhileStatement_();case b.WHILE:return this.parseWhileStatement_();case b.FOR:return this.parseForStatement_();case b.CONTINUE:return this.parseContinueStatement_();case b.BREAK:return this.parseBreakStatement_();case b.RETURN:return this.parseReturnStatement_();case b.YIELD:return this.parseYieldStatement_();case b.WITH:return this.parseWithStatement_();case b.SWITCH:return this.parseSwitchStatement_();
case b.THROW:return this.parseThrowStatement_();case b.TRY:return this.parseTryStatement_();case b.DEBUGGER:return this.parseDebuggerStatement_();default:return this.peekLabelledStatement_()?this.parseLabelledStatement_():this.parseExpressionStatement_()}},peekStatement_:function(){return this.peekSourceElement_()},peekStatementStandard_:function(){switch(this.peekType_()){case b.OPEN_CURLY:case b.AWAIT:case b.VAR:case b.CONST:case b.SEMI_COLON:case b.IF:case b.DO:case b.WHILE:case b.FOR:case b.CONTINUE:case b.BREAK:case b.RETURN:case b.YIELD:case b.WITH:case b.SWITCH:case b.THROW:case b.TRY:case b.DEBUGGER:case b.IDENTIFIER:case b.THIS:case b.CLASS:case b.SUPER:case b.NUMBER:case b.STRING:case b.NULL:case b.TRUE:case b.SLASH:case b.SLASH_EQUAL:case b.FALSE:case b.OPEN_SQUARE:case b.OPEN_PAREN:case b.NEW:case b.DELETE:case b.VOID:case b.TYPEOF:case b.PLUS_PLUS:case b.MINUS_MINUS:case b.PLUS:case b.MINUS:case b.TILDE:case b.BANG:return true;
default:return false}},parseBlock_:function(){var a=this.getTreeStartLocation_();this.eat_(b.OPEN_CURLY);var d=this.parseSourceElementList_();this.eat_(b.CLOSE_CURLY);return new q(this.getTreeLocation_(a),d)},parseStatementList_:function(){for(var b=[];this.peekStatement_();)b.push(this.parseStatement_());return b},parseVariableStatement_:function(){var b=this.getTreeStartLocation_(),a=this.parseVariableDeclarationList_();this.checkInitializers_(a);this.eatPossibleImplicitSemiColon_();return new Na(this.getTreeLocation_(b),
a)},parseVariableDeclarationListNoIn_:function(){return this.parseVariableDeclarationList_("NO_IN")},parseVariableDeclarationList_:function(a){var a=a||"NORMAL",d=this.peekType_();switch(d){case b.CONST:case b.LET:case b.VAR:this.eat_(d);break;default:throw Error("unreachable");}var c=this.getTreeStartLocation_(),e=[];for(e.push(this.parseVariableDeclaration_(false,d,a));this.peek_(b.COMMA);)this.eat_(b.COMMA),e.push(this.parseVariableDeclaration_(false,d,a));return new Ma(this.getTreeLocation_(c),
d,e)},parseVariableDeclaration_:function(a,d,c){var a=this.getTreeStartLocation_(),e;e=this.peekPattern_("INITIALIZER",f)?this.parsePattern_("INITIALIZER"):this.parseIdentifierExpression_();var g=null;this.peek_(b.EQUAL)?g=this.parseInitializer_(c):d==b.CONST?this.reportError_("const variables must have an initializer"):e.isPattern()&&this.reportError_("destructuring must have an initializer");return new La(this.getTreeLocation_(a),e,g)},parseInitializer_:function(a){this.eat_(b.EQUAL);return this.parseAssignment_(a)},
parseEmptyStatement_:function(){var a=this.getTreeStartLocation_();this.eat_(b.SEMI_COLON);return new z(this.getTreeLocation_(a))},parseExpressionStatement_:function(){var b=this.getTreeStartLocation_(),a=this.parseExpression_();this.eatPossibleImplicitSemiColon_();return new O(this.getTreeLocation_(b),a)},parseIfStatement_:function(){var a=this.getTreeStartLocation_();this.eat_(b.IF);this.eat_(b.OPEN_PAREN);var d=this.parseExpression_();this.eat_(b.CLOSE_PAREN);var c=this.parseStatement_(),e=null;
this.peek_(b.ELSE)&&(this.eat_(b.ELSE),e=this.parseStatement_());return new Y(this.getTreeLocation_(a),d,c,e)},parseDoWhileStatement_:function(){var a=this.getTreeStartLocation_();this.eat_(b.DO);var d=this.parseStatement_();this.eat_(b.WHILE);this.eat_(b.OPEN_PAREN);var c=this.parseExpression_();this.eat_(b.CLOSE_PAREN);this.eatPossibleImplicitSemiColon_();return new G(this.getTreeLocation_(a),d,c)},parseWhileStatement_:function(){var a=this.getTreeStartLocation_();this.eat_(b.WHILE);this.eat_(b.OPEN_PAREN);
var d=this.parseExpression_();this.eat_(b.CLOSE_PAREN);var c=this.parseStatement_();return new Oa(this.getTreeLocation_(a),d,c)},parseForStatement_:function(){var a=this.getTreeStartLocation_();this.eat_(b.FOR);this.eat_(b.OPEN_PAREN);if(this.peekVariableDeclarationList_()){var d=this.parseVariableDeclarationListNoIn_();if(this.peek_(b.IN)){d.declarations.length>1&&this.reportError_("for-in statement may not have more than one variable declaration");if(d.declarationType==b.LET||d.declarationType==
b.CONST){var c=d.declarations[0];c.initializer!=null&&this.reportError_("let/const in for-in statement may not have initializer")}return this.parseForInStatement_(a,d)}else return this.peek_(b.COLON)?(d.declarations.length>1&&this.reportError_("for-each statement may not have more than one variable declaration"),c=d.declarations[0],c.initializer!=null&&this.reportError_("for-each statement may not have initializer"),this.parseForEachStatement_(a,d)):(this.checkInitializers_(d),this.parseForStatement2_(a,
d))}if(this.peek_(b.SEMI_COLON))return this.parseForStatement2_(a,null);d=this.parseExpressionNoIn_();return this.peek_(b.IN)?this.parseForInStatement_(a,d):this.parseForStatement2_(a,d)},parseForEachStatement_:function(a,d){this.eat_(b.COLON);var c=this.parseExpression_();this.eat_(b.CLOSE_PAREN);var e=this.parseStatement_();return new J(this.getTreeLocation_(a),d,c,e)},checkInitializers_:function(a){if(a.declarationType==b.LET||a.declarationType==b.CONST)for(var d=0;d<a.declarations.length;d++)if(a.declarations[d].initializer==
null){this.reportError_("let/const in for statement must have an initializer");break}},peekVariableDeclarationList_:function(){switch(this.peekType_()){case b.VAR:case b.CONST:case b.LET:return true;default:return false}},parseForStatement2_:function(a,d){this.eat_(b.SEMI_COLON);var c=null;this.peek_(b.SEMI_COLON)||(c=this.parseExpression_());this.eat_(b.SEMI_COLON);var e=null;this.peek_(b.CLOSE_PAREN)||(e=this.parseExpression_());this.eat_(b.CLOSE_PAREN);var g=this.parseStatement_();return new Q(this.getTreeLocation_(a),
d,c,e,g)},parseForInStatement_:function(a,d){this.eat_(b.IN);var c=this.parseExpression_();this.eat_(b.CLOSE_PAREN);var e=this.parseStatement_();return new N(this.getTreeLocation_(a),d,c,e)},parseContinueStatement_:function(){var a=this.getTreeStartLocation_();this.eat_(b.CONTINUE);var d=null;this.peekImplicitSemiColon_()||(d=this.eatIdOpt_());this.eatPossibleImplicitSemiColon_();return new C(this.getTreeLocation_(a),d)},parseBreakStatement_:function(){var a=this.getTreeStartLocation_();this.eat_(b.BREAK);
var d=null;this.peekImplicitSemiColon_()||(d=this.eatIdOpt_());this.eatPossibleImplicitSemiColon_();return new m(this.getTreeLocation_(a),d)},parseReturnStatement_:function(){var a=this.getTreeStartLocation_();this.eat_(b.RETURN);var d=null;this.peekImplicitSemiColon_()||(d=this.parseExpression_());this.eatPossibleImplicitSemiColon_();return new Da(this.getTreeLocation_(a),d)},parseYieldStatement_:function(){var a=this.getTreeStartLocation_();this.eat_(b.YIELD);var d=null,c=false;this.peek_(b.FOR)&&
(this.eat_(b.FOR),c=true);this.peekImplicitSemiColon_()||(d=this.parseExpression_());this.eatPossibleImplicitSemiColon_();return new Qa(this.getTreeLocation_(a),d,c)},parseAwaitStatement_:function(){var a=this.getTreeStartLocation_();this.eat_(b.AWAIT);var d=null;this.peek_(b.IDENTIFIER)&&this.peek_(b.EQUAL,1)&&(d=this.eatId_(),this.eat_(b.EQUAL));var c=this.parseExpression_();this.eatPossibleImplicitSemiColon_();return new l(this.getTreeLocation_(a),d,c)},parseWithStatement_:function(){var a=this.getTreeStartLocation_();
this.eat_(b.WITH);this.eat_(b.OPEN_PAREN);var d=this.parseExpression_();this.eat_(b.CLOSE_PAREN);var c=this.parseStatement_();return new Pa(this.getTreeLocation_(a),d,c)},parseSwitchStatement_:function(){var a=this.getTreeStartLocation_();this.eat_(b.SWITCH);this.eat_(b.OPEN_PAREN);var d=this.parseExpression_();this.eat_(b.CLOSE_PAREN);this.eat_(b.OPEN_CURLY);var c=this.parseCaseClauses_();this.eat_(b.CLOSE_CURLY);return new Fa(this.getTreeLocation_(a),d,c)},parseCaseClauses_:function(){for(var a=
false,d=[];;){var c=this.getTreeStartLocation_();switch(this.peekType_()){case b.CASE:this.eat_(b.CASE);var e=this.parseExpression_();this.eat_(b.COLON);var g=this.parseCaseStatementsOpt_();d.push(new u(this.getTreeLocation_(c),e,g));break;case b.DEFAULT:a?this.reportError_("Switch statements may have at most one default clause"):a=true;this.eat_(b.DEFAULT);this.eat_(b.COLON);d.push(new A(this.getTreeLocation_(c),this.parseCaseStatementsOpt_()));break;default:return d}}},parseCaseStatementsOpt_:function(){return this.parseStatementList_()},
parseLabelledStatement_:function(){var a=this.getTreeStartLocation_(),d=this.eatId_();this.eat_(b.COLON);return new ha(this.getTreeLocation_(a),d,this.parseStatement_())},peekLabelledStatement_:function(){return this.peek_(b.IDENTIFIER)&&this.peek_(b.COLON,1)},parseThrowStatement_:function(){var a=this.getTreeStartLocation_();this.eat_(b.THROW);var d=null;this.peekImplicitSemiColon_()||(d=this.parseExpression_());this.eatPossibleImplicitSemiColon_();return new Ha(this.getTreeLocation_(a),d)},parseTryStatement_:function(){var a=
this.getTreeStartLocation_();this.eat_(b.TRY);var d=this.parseBlock_(),c=null;this.peek_(b.CATCH)&&(c=this.parseCatch_());var e=null;this.peek_(b.FINALLY)&&(e=this.parseFinallyBlock_());c==null&&e==null&&this.reportError_("'catch' or 'finally' expected.");return new Ja(this.getTreeLocation_(a),d,c,e)},parseCatch_:function(){var a=this.getTreeStartLocation_();this.eat_(b.CATCH);this.eat_(b.OPEN_PAREN);var d=this.eatId_();this.eat_(b.CLOSE_PAREN);var c=this.parseBlock_();return new s(this.getTreeLocation_(a),
d,c)},parseFinallyBlock_:function(){var a=this.getTreeStartLocation_();this.eat_(b.FINALLY);var d=this.parseBlock_();return new S(this.getTreeLocation_(a),d)},parseDebuggerStatement_:function(){var a=this.getTreeStartLocation_();this.eat_(b.DEBUGGER);this.eatPossibleImplicitSemiColon_();return new r(this.getTreeLocation_(a))},parsePrimaryExpression_:function(){switch(this.peekType_()){case b.CLASS:return this.parseClassExpression_();case b.SUPER:return this.parseSuperExpression_();case b.THIS:return this.parseThisExpression_();
case b.IDENTIFIER:return this.parseIdentifierExpression_();case b.NUMBER:case b.STRING:case b.TRUE:case b.FALSE:case b.NULL:return this.parseLiteralExpression_();case b.OPEN_SQUARE:return this.parseArrayLiteral_();case b.OPEN_CURLY:return this.parseObjectLiteral_();case b.OPEN_PAREN:return this.parseParenExpression_();case b.SLASH:case b.SLASH_EQUAL:return this.parseRegularExpressionLiteral_();default:return this.parseMissingPrimaryExpression_()}},parseClassExpression_:function(){var a=this.getTreeStartLocation_();
this.eat_(b.CLASS);return new x(this.getTreeLocation_(a))},parseSuperExpression_:function(){var a=this.getTreeStartLocation_();this.eat_(b.SUPER);return new sa(this.getTreeLocation_(a))},parseThisExpression_:function(){var a=this.getTreeStartLocation_();this.eat_(b.THIS);return new Ga(this.getTreeLocation_(a))},parseIdentifierExpression_:function(){var b=this.getTreeStartLocation_(),a=this.eatId_();return new X(this.getTreeLocation_(b),a)},parseLiteralExpression_:function(){var b=this.getTreeStartLocation_(),
a=this.nextLiteralToken_();return new ca(this.getTreeLocation_(b),a)},nextLiteralToken_:function(){return this.nextToken_()},parseRegularExpressionLiteral_:function(){var b=this.getTreeStartLocation_(),a=this.nextRegularExpressionLiteralToken_();return new ca(this.getTreeLocation_(b),a)},parseArrayLiteral_:function(){var a=this.getTreeStartLocation_(),d=[];for(this.eat_(b.OPEN_SQUARE);this.peek_(b.COMMA)||this.peek_(b.SPREAD)||this.peekAssignmentExpression_();)this.peek_(b.COMMA)?d.push(new fa):this.peek_(b.SPREAD)?
d.push(this.parseSpreadExpression_()):d.push(this.parseAssignmentExpression_()),this.peek_(b.CLOSE_SQUARE)||this.eat_(b.COMMA);this.eat_(b.CLOSE_SQUARE);return new k(this.getTreeLocation_(a),d)},parseObjectLiteral_:function(){var a=this.getTreeStartLocation_(),d=[];for(this.eat_(b.OPEN_CURLY);this.peekPropertyAssignment_();)if(d.push(this.parsePropertyAssignment_()),this.eatOpt_(b.COMMA)==null)break;this.eat_(b.CLOSE_CURLY);return new ta(this.getTreeLocation_(a),d)},peekPropertyAssignment_:function(){return this.peekPropertyName_(0)},
peekPropertyName_:function(a){a=this.peekType_(a);switch(a){case b.IDENTIFIER:case b.STRING:case b.NUMBER:return true;default:return d.isKeyword(a)}},parsePropertyAssignment_:function(){var a=this.peekType_();switch(a){case b.STRING:case b.NUMBER:return this.parsePropertyNameAssignment_();default:return traceur.assert(a==b.IDENTIFIER||d.isKeyword(a)),this.peekGetAccessor_(false)?this.parseGetAccessor_():this.peekSetAccessor_(false)?this.parseSetAccessor_():this.parsePropertyNameAssignment_()}},peekGetAccessor_:function(a){a=
a&&this.peek_(b.CLASS)?1:0;return this.peekPredefinedString_(j.GET,a)&&this.peekPropertyName_(a+1)},peekPredefinedString_:function(a,d){var c=d||0;return this.peek_(b.IDENTIFIER,c)&&this.peekToken_(c).value===a},parseGetAccessor_:function(){var a=this.getTreeStartLocation_(),d=this.eatOpt_(b.CLASS)!=null;this.eatId_();var c=this.nextToken_();this.eat_(b.OPEN_PAREN);this.eat_(b.CLOSE_PAREN);var e=this.parseFunctionBody_();return new R(this.getTreeLocation_(a),c,d,e)},peekSetAccessor_:function(a){a=
a&&this.peek_(b.CLASS)?1:0;return this.peekPredefinedString_(j.SET,a)&&this.peekPropertyName_(a+1)},parseSetAccessor_:function(){var a=this.getTreeStartLocation_(),d=this.eatOpt_(b.CLASS)!=null;this.eatId_();var c=this.nextToken_();this.eat_(b.OPEN_PAREN);var e=this.eatId_();this.eat_(b.CLOSE_PAREN);var g=this.parseFunctionBody_();return new Ea(this.getTreeLocation_(a),c,d,e,g)},parsePropertyNameAssignment_:function(){var a=this.getTreeStartLocation_(),d=this.nextToken_();this.eat_(b.COLON);var c=
this.parseAssignmentExpression_();return new za(this.getTreeLocation_(a),d,c)},parseParenExpression_:function(){var a=this.getTreeStartLocation_();this.eat_(b.OPEN_PAREN);var d=this.parseExpression_();this.eat_(b.CLOSE_PAREN);return new $(this.getTreeLocation_(a),d)},parseMissingPrimaryExpression_:function(){var b=this.getTreeStartLocation_();this.reportError_("primary expression expected");var a=this.nextToken_();return new ia(this.getTreeLocation_(b),a)},parseExpressionNoIn_:function(){return this.parse_("NO_IN")},
parseExpression_:function(){return this.parse_("NORMAL")},peekExpression_:function(){switch(this.peekType_()){case b.BANG:case b.CLASS:case b.DELETE:case b.FALSE:case b.FUNCTION:case b.IDENTIFIER:case b.MINUS:case b.MINUS_MINUS:case b.NEW:case b.NULL:case b.NUMBER:case b.OPEN_CURLY:case b.OPEN_PAREN:case b.OPEN_SQUARE:case b.PLUS:case b.PLUS_PLUS:case b.SLASH:case b.SLASH_EQUAL:case b.STRING:case b.SUPER:case b.THIS:case b.TILDE:case b.TRUE:case b.TYPEOF:case b.VOID:return true;default:return false}},
parse_:function(a){var d=this.getTreeStartLocation_(),c=this.parseAssignment_(a);if(this.peek_(b.COMMA)){var e=[];for(e.push(c);this.peek_(b.COMMA);)this.eat_(b.COMMA),e.push(this.parseAssignment_(a));return new v(this.getTreeLocation_(d),e)}return c},parseAssignmentExpression_:function(){return this.parseAssignment_("NORMAL")},peekAssignmentExpression_:function(){return this.peekExpression_()},parseAssignment_:function(b){var a=this.getTreeStartLocation_(),d=this.peekParenPatternAssignment_()?this.parseParenPattern_():
this.parseConditional_(b);if(this.peekAssignmentOperator_()){!d.isLeftHandSideExpression()&&!d.isPattern()&&this.reportError_("Left hand side of assignment must be new, call, member, function, primary expressions or destructuring pattern");var c=this.nextToken_(),b=this.parseAssignment_(b);return new o(this.getTreeLocation_(a),d,c,b)}return d},peekAssignmentOperator_:function(){switch(this.peekType_()){case b.EQUAL:case b.STAR_EQUAL:case b.SLASH_EQUAL:case b.PERCENT_EQUAL:case b.PLUS_EQUAL:case b.MINUS_EQUAL:case b.LEFT_SHIFT_EQUAL:case b.RIGHT_SHIFT_EQUAL:case b.UNSIGNED_RIGHT_SHIFT_EQUAL:case b.AMPERSAND_EQUAL:case b.CARET_EQUAL:case b.BAR_EQUAL:return true;
default:return false}},parseConditional_:function(a){var d=this.getTreeStartLocation_(),c=this.parseLogicalOR_(a);if(this.peek_(b.QUESTION)){this.eat_(b.QUESTION);var e=this.parseAssignment_(a);this.eat_(b.COLON);a=this.parseAssignment_(a);return new t(this.getTreeLocation_(d),c,e,a)}return c},parseLogicalOR_:function(a){for(var d=this.getTreeStartLocation_(),c=this.parseLogicalAND_(a);this.peek_(b.OR);)var e=this.eat_(b.OR),g=this.parseLogicalAND_(a),c=new o(this.getTreeLocation_(d),c,e,g);return c},
parseLogicalAND_:function(a){for(var d=this.getTreeStartLocation_(),c=this.parseBitwiseOR_(a);this.peek_(b.AND);)var e=this.eat_(b.AND),g=this.parseBitwiseOR_(a),c=new o(this.getTreeLocation_(d),c,e,g);return c},parseBitwiseOR_:function(a){for(var d=this.getTreeStartLocation_(),c=this.parseBitwiseXOR_(a);this.peek_(b.BAR);)var e=this.eat_(b.BAR),g=this.parseBitwiseXOR_(a),c=new o(this.getTreeLocation_(d),c,e,g);return c},parseBitwiseXOR_:function(a){for(var d=this.getTreeStartLocation_(),c=this.parseBitwiseAND_(a);this.peek_(b.CARET);)var e=
this.eat_(b.CARET),g=this.parseBitwiseAND_(a),c=new o(this.getTreeLocation_(d),c,e,g);return c},parseBitwiseAND_:function(a){for(var d=this.getTreeStartLocation_(),c=this.parseEquality_(a);this.peek_(b.AMPERSAND);)var e=this.eat_(b.AMPERSAND),g=this.parseEquality_(a),c=new o(this.getTreeLocation_(d),c,e,g);return c},parseEquality_:function(b){for(var a=this.getTreeStartLocation_(),d=this.parseRelational_(b);this.peekEqualityOperator_();)var c=this.nextToken_(),e=this.parseRelational_(b),d=new o(this.getTreeLocation_(a),
d,c,e);return d},peekEqualityOperator_:function(){switch(this.peekType_()){case b.EQUAL_EQUAL:case b.NOT_EQUAL:case b.EQUAL_EQUAL_EQUAL:case b.NOT_EQUAL_EQUAL:return true;default:return false}},parseRelational_:function(b){for(var a=this.getTreeStartLocation_(),d=this.parseShiftExpression_();this.peekRelationalOperator_(b);)var c=this.nextToken_(),e=this.parseShiftExpression_(),d=new o(this.getTreeLocation_(a),d,c,e);return d},peekRelationalOperator_:function(a){switch(this.peekType_()){case b.OPEN_ANGLE:case b.CLOSE_ANGLE:case b.GREATER_EQUAL:case b.LESS_EQUAL:case b.INSTANCEOF:return true;
case b.IN:return a=="NORMAL";default:return false}},parseShiftExpression_:function(){for(var b=this.getTreeStartLocation_(),a=this.parseAdditiveExpression_();this.peekShiftOperator_();)var d=this.nextToken_(),c=this.parseAdditiveExpression_(),a=new o(this.getTreeLocation_(b),a,d,c);return a},peekShiftOperator_:function(){switch(this.peekType_()){case b.LEFT_SHIFT:case b.RIGHT_SHIFT:case b.UNSIGNED_RIGHT_SHIFT:return true;default:return false}},parseAdditiveExpression_:function(){for(var b=this.getTreeStartLocation_(),
a=this.parseMultiplicativeExpression_();this.peekAdditiveOperator_();)var d=this.nextToken_(),c=this.parseMultiplicativeExpression_(),a=new o(this.getTreeLocation_(b),a,d,c);return a},peekAdditiveOperator_:function(){switch(this.peekType_()){case b.PLUS:case b.MINUS:return true;default:return false}},parseMultiplicativeExpression_:function(){for(var b=this.getTreeStartLocation_(),a=this.parseUnaryExpression_();this.peekMultiplicativeOperator_();)var d=this.nextToken_(),c=this.parseUnaryExpression_(),
a=new o(this.getTreeLocation_(b),a,d,c);return a},peekMultiplicativeOperator_:function(){switch(this.peekType_()){case b.STAR:case b.SLASH:case b.PERCENT:return true;default:return false}},parseUnaryExpression_:function(){var b=this.getTreeStartLocation_();if(this.peekUnaryOperator_()){var a=this.nextToken_(),d=this.parseUnaryExpression_();return new Ka(this.getTreeLocation_(b),a,d)}return this.parsePostfixExpression_()},peekUnaryOperator_:function(){switch(this.peekType_()){case b.DELETE:case b.VOID:case b.TYPEOF:case b.PLUS_PLUS:case b.MINUS_MINUS:case b.PLUS:case b.MINUS:case b.TILDE:case b.BANG:return true;
default:return false}},parsePostfixExpression_:function(){for(var b=this.getTreeStartLocation_(),a=this.parseLeftHandSideExpression_();this.peekPostfixOperator_();)var d=this.nextToken_(),a=new xa(this.getTreeLocation_(b),a,d);return a},peekPostfixOperator_:function(){if(this.peekImplicitSemiColon_())return false;switch(this.peekType_()){case b.PLUS_PLUS:case b.MINUS_MINUS:return true;default:return false}},parseLeftHandSideExpression_:function(){var a=this.getTreeStartLocation_(),d=this.parseNewExpression_();
if(!(d instanceof W)||d.args!=null)for(;this.peekCallSuffix_();)switch(this.peekType_()){case b.OPEN_PAREN:var c=this.parseArguments_(),d=new p(this.getTreeLocation_(a),d,c);break;case b.OPEN_SQUARE:this.eat_(b.OPEN_SQUARE);c=this.parseExpression_();this.eat_(b.CLOSE_SQUARE);d=new ea(this.getTreeLocation_(a),d,c);break;case b.PERIOD:this.eat_(b.PERIOD),d=new da(this.getTreeLocation_(a),d,this.eatIdName_())}return d},peekCallSuffix_:function(){return this.peek_(b.OPEN_PAREN)||this.peek_(b.OPEN_SQUARE)||
this.peek_(b.PERIOD)},parseMemberExpressionNoNew_:function(){var a=this.getTreeStartLocation_(),d;for(d=this.peekFunction_()?this.parseFunctionExpression_():this.parsePrimaryExpression_();this.peekMemberExpressionSuffix_();)if(this.peek_(b.OPEN_SQUARE)){this.eat_(b.OPEN_SQUARE);var c=this.parseExpression_();this.eat_(b.CLOSE_SQUARE);d=new ea(this.getTreeLocation_(a),d,c)}else this.eat_(b.PERIOD),d=new da(this.getTreeLocation_(a),d,this.eatIdName_());return d},peekMemberExpressionSuffix_:function(){return this.peek_(b.OPEN_SQUARE)||
this.peek_(b.PERIOD)},parseNewExpression_:function(){if(this.peek_(b.NEW)){var a=this.getTreeStartLocation_();this.eat_(b.NEW);var d=this.parseNewExpression_(),c=null;this.peek_(b.OPEN_PAREN)&&(c=this.parseArguments_());return new W(this.getTreeLocation_(a),d,c)}else return this.parseMemberExpressionNoNew_()},parseArguments_:function(){var a=this.getTreeStartLocation_(),d=[];for(this.eat_(b.OPEN_PAREN);this.peekAssignmentOrSpread_();)d.push(this.parseAssignmentOrSpead_()),this.peek_(b.CLOSE_PAREN)||
this.eat_(b.COMMA);this.eat_(b.CLOSE_PAREN);return new i(this.getTreeLocation_(a),d)},peekAssignmentOrSpread_:function(){return this.peek_(b.SPREAD)||this.peekAssignmentExpression_()},parseAssignmentOrSpead_:function(){return this.peek_(b.SPREAD)?this.parseSpreadExpression_():this.parseAssignmentExpression_()},peekParenPatternAssignment_:function(){if(!this.peekParenPatternStart_())return false;var a=this.createLookaheadParser_();a.parseParenPattern_();return!a.errorReporter_.hadError()&&a.peek_(b.EQUAL)},
peekParenPatternStart_:function(){for(var a=0;this.peek_(b.OPEN_PAREN,a);)a++;return this.peekPatternStart_(a)},peekPatternStart_:function(a){a=a||0;return this.peek_(b.OPEN_SQUARE,a)||this.peek_(b.OPEN_CURLY,a)},parseParenPattern_:function(a){var d=a||"ANY";return this.peek_(b.OPEN_PAREN)?(a=this.getTreeStartLocation_(),this.eat_(b.OPEN_PAREN),d=this.parseParenPattern_(d),this.eat_(b.CLOSE_PAREN),new $(this.getTreeLocation_(a),d)):this.parsePattern_(d)},peekPattern_:function(b,a){if(!this.peekPatternStart_())return false;
var d=this.createLookaheadParser_();d.parsePattern_(b);return!d.errorReporter_.hadError()&&a(d.peekType_())},peekParenPattern_:function(b,a){if(!this.peekParenPatternStart_())return false;var d=this.createLookaheadParser_();d.parsePattern_(b);return!d.errorReporter_.hadError()&&a(d.peekType_())},parsePattern_:function(a){switch(this.peekType_()){case b.OPEN_SQUARE:return this.parseArrayPattern_(a);default:return this.parseObjectPattern_(a)}},peekPatternElement_:function(){return this.peekExpression_()||
this.peek_(b.SPREAD)},parsePatternElement_:function(a,d){if(this.peekParenPattern_(a,d))return this.parseParenPattern_(a);var c=false,e=this.getTreeStartLocation_();this.peek_(b.SPREAD)&&(this.eat_(b.SPREAD),c=true);var g=this.parseLeftHandSideExpression_();a=="INITIALIZER"&&g.type!=wa.IDENTIFIER_EXPRESSION&&this.reportError_("lvalues in initializer patterns must be identifiers");return c?new ra(this.getTreeLocation_(e),g):g},parseArrayPattern_:function(d){var c=this.getTreeStartLocation_(),e=[];
for(this.eat_(b.OPEN_SQUARE);this.peek_(b.COMMA)||this.peekPatternElement_();)if(this.peek_(b.COMMA))this.eat_(b.COMMA),e.push(new fa);else{var g=this.parsePatternElement_(d,a);e.push(g);if(g.isSpreadPatternElement())break;else if(this.peek_(b.COMMA))this.eat_(b.COMMA);else break}this.eat_(b.CLOSE_SQUARE);return new n(this.getTreeLocation_(c),e)},parseObjectPattern_:function(a){var d=this.getTreeStartLocation_(),c=[];for(this.eat_(b.OPEN_CURLY);this.peekObjectPatternField_(a);)if(c.push(this.parseObjectPatternField_(a)),
this.peek_(b.COMMA))this.eat_(b.COMMA);else break;this.eat_(b.CLOSE_CURLY);return new ua(this.getTreeLocation_(d),c)},peekObjectPatternField_:function(){return this.peek_(b.IDENTIFIER)},parseObjectPatternField_:function(a){var d=this.getTreeStartLocation_(),c=this.eatId_(),e=null;this.peek_(b.COLON)&&(this.eat_(b.COLON),e=this.parsePatternElement_(a,h),e.isSpreadPatternElement()&&this.reportError_("Rest can not be used in object patterns"));return new va(this.getTreeLocation_(d),c,e)},eatPossibleImplicitSemiColon_:function(){this.peek_(b.SEMI_COLON)&&
this.peekToken_().location.start.line==this.getLastLine_()?this.eat_(b.SEMI_COLON):this.peekImplicitSemiColon_()||this.reportError_("Semi-colon expected")},peekImplicitSemiColon_:function(){return this.getNextLine_()>this.getLastLine_()||this.peek_(b.SEMI_COLON)||this.peek_(b.CLOSE_CURLY)||this.peek_(b.END_OF_FILE)},getLastLine_:function(){return this.lastToken_.location.end.line},getNextLine_:function(){return this.peekToken_().location.start.line},eatOpt_:function(b){return this.peek_(b)?this.eat_(b):
null},eatIdOpt_:function(){return this.peek_(b.IDENTIFIER)?this.eatId_():null},eatId_:function(){return this.eat_(b.IDENTIFIER)},eatIdName_:function(){var a=this.nextToken_();return a.type!=b.IDENTIFIER?!d.isKeyword(a.type)?(this.reportExpectedError_(a,"identifier"),null):new U(a.location,a.type):a},eat_:function(b){var a=this.nextToken_();return a.type!=b?(this.reportExpectedError_(a,b),null):a},reportExpectedError_:function(b,a){this.reportError_(b,"'"+a+"' expected")},getTreeStartLocation_:function(){return this.peekToken_().location.start},
getTreeEndLocation_:function(){return this.lastToken_.location.end},getTreeLocation_:function(b){return new g(b,this.getTreeEndLocation_())},nextToken_:function(){return this.lastToken_=this.scanner_.nextToken()},nextRegularExpressionLiteralToken_:function(){var b=this.scanner_.nextRegularExpressionLiteralToken();return this.lastToken_=b},peek_:function(b,a){return this.peekType_(a||0)==b},peekType_:function(b){return this.peekToken_(b||0).type},peekToken_:function(b){return this.scanner_.peekToken(b||
0)},createLookaheadParser_:function(){return new c(new e,this.scanner_.getFile(),this.scanner_.getOffset())},reportError_:function(b){arguments.length==1?this.errorReporter_.reportError(this.scanner_.getPosition(),arguments[0]):this.errorReporter_.reportError(arguments[0].getStart(),arguments[1])}};return{Parser:c}});
traceur.define("syntax",function(){function c(){}var f=traceur.syntax.trees.getTreeNameForType;c.prototype={visitAny:function(a){if(a!==null)this["visit"+f(a.type)](a)},visit:function(a){this.visitAny(a)},visitList:function(a){for(var c=0;c<a.length;c++)this.visitAny(a[c])},visitArgumentList:function(a){this.visitList(a.args)},visitArrayLiteralExpression:function(a){this.visitList(a.elements)},visitArrayPattern:function(a){this.visitList(a.elements)},visitAwaitStatement:function(a){this.visitAny(a.expression)},
visitBinaryOperator:function(a){this.visitAny(a.left);this.visitAny(a.right)},visitBlock:function(a){this.visitList(a.statements)},visitBreakStatement:function(){},visitCallExpression:function(a){this.visitAny(a.operand);this.visitAny(a.args)},visitCaseClause:function(a){this.visitAny(a.expression);this.visitList(a.statements)},visitCatch:function(a){this.visitAny(a.catchBody)},visitClassDeclaration:function(a){this.visitAny(a.superClass);this.visitList(a.elements)},visitClassExpression:function(){},
visitCommaExpression:function(a){this.visitList(a.expressions)},visitConditionalExpression:function(a){this.visitAny(a.condition);this.visitAny(a.left);this.visitAny(a.right)},visitContinueStatement:function(){},visitDebuggerStatement:function(){},visitDefaultClause:function(a){this.visitList(a.statements)},visitDefaultParameter:function(a){this.visitAny(a.identifier);this.visitAny(a.expression)},visitDoWhileStatement:function(a){this.visitAny(a.body);this.visitAny(a.condition)},visitEmptyStatement:function(){},
visitExportDeclaration:function(a){this.visitAny(a.declaration)},visitExportPath:function(a){this.visitAny(a.moduleExpression);this.visitAny(a.specifier)},visitExportPathList:function(a){this.visitList(a.paths)},visitExportPathSpecifier:function(a){this.visitAny(a.specifier)},visitExportPathSpecifierSet:function(a){this.visitList(a.specifiers)},visitExportSpecifier:function(){},visitExportSpecifierSet:function(a){this.visitList(a.specifiers)},visitExpressionStatement:function(a){this.visitAny(a.expression)},
visitFieldDeclaration:function(a){this.visitList(a.declarations)},visitFinally:function(a){this.visitAny(a.block)},visitForEachStatement:function(a){this.visitAny(a.initializer);this.visitAny(a.collection);this.visitAny(a.body)},visitForInStatement:function(a){this.visitAny(a.initializer);this.visitAny(a.collection);this.visitAny(a.body)},visitForStatement:function(a){this.visitAny(a.initializer);this.visitAny(a.condition);this.visitAny(a.increment);this.visitAny(a.body)},visitFormalParameterList:function(){},
visitFunctionDeclaration:function(a){this.visitAny(a.formalParameterList);this.visitAny(a.functionBody)},visitGetAccessor:function(a){this.visitAny(a.body)},visitIdentifierExpression:function(){},visitIfStatement:function(a){this.visitAny(a.condition);this.visitAny(a.ifClause);this.visitAny(a.elseClause)},visitImportDeclaration:function(a){this.visitList(a.importPathList)},visitImportPath:function(a){a.importSpecifierSet!==null&&this.visitList(a.importSpecifierSet)},visitImportSpecifier:function(){},
visitLabelledStatement:function(a){this.visitAny(a.statement)},visitLiteralExpression:function(){},visitMemberExpression:function(a){this.visitAny(a.operand)},visitMemberLookupExpression:function(a){this.visitAny(a.operand);this.visitAny(a.memberExpression)},visitMissingPrimaryExpression:function(){},visitMixin:function(a){this.visitAny(a.mixinResolves)},visitMixinResolve:function(){},visitMixinResolveList:function(a){this.visitList(a.resolves)},visitModuleDeclaration:function(a){this.visitList(a.specifiers)},
visitModuleDefinition:function(a){this.visitList(a.elements)},visitModuleExpression:function(a){this.visitAny(a.reference)},visitModuleRequire:function(){},visitModuleSpecifier:function(a){this.visitAny(a.expression)},visitNewExpression:function(a){this.visitAny(a.operand);this.visitAny(a.args)},visitNullTree:function(){},visitObjectLiteralExpression:function(a){this.visitList(a.propertyNameAndValues)},visitObjectPattern:function(a){this.visitList(a.fields)},visitObjectPatternField:function(a){this.visitAny(a.element)},
visitParenExpression:function(a){this.visitAny(a.expression)},visitPostfixExpression:function(a){this.visitAny(a.operand)},visitProgram:function(a){this.visitList(a.programElements)},visitPropertyNameAssignment:function(a){this.visitAny(a.value)},visitQualifiedReference:function(a){this.visitAny(a.moduleExpression)},visitRequiresMember:function(){},visitRestParameter:function(){},visitReturnStatement:function(a){this.visitAny(a.expression)},visitSetAccessor:function(a){this.visitAny(a.body)},visitSpreadExpression:function(a){this.visitAny(a.expression)},
visitSpreadPatternElement:function(a){this.visitAny(a.lvalue)},visitStateMachine:function(){throw Error("State machines should not live outside of the GeneratorTransformer.");},visitSuperExpression:function(){},visitSwitchStatement:function(a){this.visitAny(a.expression);this.visitList(a.caseClauses)},visitThisExpression:function(){},visitThrowStatement:function(a){this.visitAny(a.value)},visitTraitDeclaration:function(a){this.visitList(a.elements)},visitTryStatement:function(a){this.visitAny(a.body);
this.visitAny(a.catchBlock);this.visitAny(a.finallyBlock)},visitUnaryExpression:function(a){this.visitAny(a.operand)},visitVariableDeclaration:function(a){this.visitAny(a.lvalue);this.visitAny(a.initializer)},visitVariableDeclarationList:function(a){this.visitList(a.declarations)},visitVariableStatement:function(a){this.visitAny(a.declarations)},visitWhileStatement:function(a){this.visitAny(a.condition);this.visitAny(a.body)},visitWithStatement:function(a){this.visitAny(a.expression);this.visitAny(a.body)},
visitYieldStatement:function(a){this.visitAny(a.expression)}};return{ParseTreeVisitor:c}});
traceur.define("util",function(){function c(){this.strings_=[];this.length=0}c.prototype={append:function(c){c=c.toString();this.length+=c.length;this.strings_.push(c);return this},toString:function(){return this.strings_.join("")},lastChar:function(){var c=this.strings_[this.strings_.length-1];c&&(c=c[c.length-1]);return c},deleteLastChar:function(){var c=this.strings_.length-1,a=this.strings_[c];a&&(this.strings_[c]=a.substring(0,a.length-1))}};return{StringBuilder:c}});
traceur.define("semantics",function(){function c(c,d){a.call(this);this.includeFunctionScope_=c;this.scope_=d||null;this.block_=null;this.identifiers_=Object.create(null)}var f=traceur.syntax.ParseTreeType,a=traceur.syntax.ParseTreeVisitor,h=traceur.syntax.TokenType,f=traceur.syntax.trees.ParseTreeType;c.variablesInBlock=function(a,d){var b=new c(d,a);b.visitAny(a);return b.identifiers_};c.variablesInFunction=function(a){var d=new c(true,a.functionBody);d.bindVariablesInFunction_(a);return d.identifiers_};
var e=a.prototype;traceur.inherits(c,a,{__proto__:e,bindVariablesInFunction_:function(a){for(var d=a.formalParameterList.parameters,b=0;b<d.length;b++)this.bindParameter_(d[b]);this.visitAny(a.functionBody)},visitBlock:function(a){var d=this.block_;this.block_=a;a.statements.forEach(function(b){b.type==f.FUNCTION_DECLARATION?this.bindFunctionDeclaration_(b):this.visitAny(b)},this);this.block_=d},bindFunctionDeclaration_:function(a){a.name!=null&&this.block_==this.scope_&&this.bind_(a.name)},visitFunctionDeclaration:function(){},
visitForEachStatement:function(){throw Error("foreach statements should be transformed before this pass");},visitForInStatement:function(a){a.initializer!=null&&a.initializer.type==f.VARIABLE_DECLARATION_LIST?this.visitForDeclarations_(a.initializer):this.visitAny(a.initializer);this.visitAny(a.collection);this.visitAny(a.body)},visitForStatement:function(a){a.initializer!=null&&a.initializer.type==f.VARIABLE_DECLARATION_LIST?this.visitForDeclarations_(a.initializer):this.visitAny(a.initializer);
this.visitAny(a.condition);this.visitAny(a.increment);this.visitAny(a.body)},visitForDeclarations_:function(a){if(a.declarationType==h.VAR)this.visitAny(a);else for(var a=a.declarations,d=0;d<a.length;d++)this.visitAny(a[d].initializer)},visitVariableDeclarationList:function(a){if(a.declarationType==h.VAR&&this.includeFunctionScope_||a.declarationType!=h.VAR&&this.block_==this.scope_)e.visitVariableDeclarationList.call(this,a);else for(var a=a.declarations,d=0;d<a.length;d++)this.visitAny(a[d].initializer)},
visitVariableDeclaration:function(a){this.bindVariableDeclaration_(a.lvalue);e.visitVariableDeclaration.call(this,a)},bind_:function(a){this.identifiers_[a.value]=true},bindParameter_:function(a){a.isRestParameter()?this.bind_(a.identifier):this.bindVariableDeclaration_(a)},bindVariableDeclaration_:function(a){switch(a.type){case f.IDENTIFIER_EXPRESSION:this.bind_(a.identifierToken);break;case f.ARRAY_PATTERN:a=a.elements;for(a=0;a<elements.length;a++)this.bindVariableDeclaration_(elements[a]);break;
case f.SPREAD_PATTERN_ELEMENT:this.bindVariableDeclaration_(a.lvalue);break;case f.OBJECT_PATTERN:for(var d=a.fields,a=0;a<d.length;a++)this.bindVariableDeclaration_(d[a]);break;case f.OBJECT_PATTERN_FIELD:a.element==null?this.bind_(a.identifier):this.bindVariableDeclaration_(a.element);break;case f.PAREN_EXPRESSION:this.bindVariableDeclaration_(a.expression);break;default:throw Error("unreachable");}}});return{VariableBinder:c}});
traceur.define("semantics.symbols",function(){return{SymbolType:{CLASS:"CLASS",EXPORT:"EXPORT",FIELD:"FIELD",METHOD:"METHOD",MODULE:"MODULE",PROPERTY:"PROPERTY",REQUIRES:"REQUIRES",TRAIT:"TRAIT"}}});
traceur.define("semantics.symbols",function(){function c(a,c,e){this.type=a;this.tree=c;this.name=e}var f=traceur.assert;c.prototype={asClass:function(){f(this instanceof traceur.semantics.symbols.ClassSymbol);return this},asExport:function(){f(this instanceof traceur.semantics.symbols.ExportSymbol);return this},asField:function(){f(this instanceof traceur.semantics.symbols.FieldSymbol);return this},asMethod:function(){f(this instanceof traceur.semantics.symbols.MethodSymbol);return this},asMixinMember:function(){f(this instanceof
traceur.semantics.symbols.MixinMemberSymbol);return this},asModuleSymbol:function(){f(this instanceof traceur.semantics.symbols.ModuleSymbol);return this},asProperty:function(){f(this instanceof traceur.semantics.symbols.PropertySymbol);return this},asRequires:function(){f(this instanceof traceur.semantics.symbols.RequiresSymbol);return this},asTrait:function(){f(this instanceof traceur.semantics.symbols.TraitSymbol);return this},getRelatedLocations:function(){return[this.tree]}};return{Symbol:c}});
traceur.define("semantics.symbols",function(){function c(a,c,g,d,b){f.call(this,a,c,g);this.containingAggregate=d;this.isStatic=b;d.addMember(this)}var f=traceur.semantics.symbols.Symbol,a=traceur.semantics.symbols.SymbolType;traceur.inherits(c,f,{__proto__:f.prototype,getImplementation:function(){return this},isRequires:function(){return this.getImplementation().type==a.REQUIRES},getQualifiedName:function(){return this.containingAggregate.name+"."+name}});return{MemberSymbol:c}});
traceur.define("semantics.symbols",function(){function c(c,g,d,b){f.call(this,a.METHOD,c,g,d,b);this.tree=c}var f=traceur.semantics.symbols.MemberSymbol,a=traceur.semantics.symbols.SymbolType,h=traceur.syntax.PredefinedName;traceur.inherits(c,f,{__proto__:f.prototype,isConstructor:function(){return this.name==h.NEW}});return{MethodSymbol:c}});
traceur.define("semantics.symbols",function(){function c(c,e,g){f.call(this,a.MODULE,g,c);this.children_=Object.create(null);this.exports_=Object.create(null);this.parent=e;this.tree=g}var f=traceur.semantics.symbols.Symbol,a=traceur.semantics.symbols.SymbolType;traceur.inherits(c,f,{__proto__:f.prototype,addModule:function(a){this.addModuleWithName(a,a.name)},addModuleWithName:function(a,c){this.children_[c]=a},hasModule:function(a){return a in this.children_},getModule:function(a){return this.children_[a]},
hasExport:function(a){return a in this.exports_},getExport:function(a){return this.exports_[a]},addExport:function(a,c){this.exports_[a]=c},getExports:function(){var a=this.exports_;return Object.keys(a).map(function(c){return a[c]})}});return{ModuleSymbol:c}});traceur.define("semantics.symbols",function(){function c(c,e,g){f.call(this,a.EXPORT,c,e);this.relatedTree=g}var f=traceur.semantics.symbols.Symbol,a=traceur.semantics.symbols.SymbolType;traceur.inherits(c,f,{__proto__:f.prototype});return{ExportSymbol:c}});
traceur.define("semantics.symbols",function(){function c(c,e,g,d){f.call(this,a.FIELD,e,g,d,c.isStatic);this.field=c;this.tree=e}var f=traceur.semantics.symbols.MemberSymbol,a=traceur.semantics.symbols.SymbolType;traceur.inherits(c,f,{__proto__:f.prototype,isConst:function(){return this.field.isConst}});return{FieldSymbol:c}});
traceur.define("semantics.symbols",function(){function c(c){this.property=c}c.prototype={getName:function(){return this.property.name},getContainingAggregate:function(){return this.property.containingAggregate},isStatic:function(){return this.property.isStatic}};return{PropertyAccessor:c}});
traceur.define("semantics.symbols",function(){function c(a,c){f.call(this,a);this.tree=c}var f=traceur.semantics.symbols.PropertyAccessor,f=traceur.semantics.symbols.PropertyAccessor;traceur.inherits(c,f,{__proto__:f.prototype});return{GetAccessor:c}});traceur.define("semantics.symbols",function(){function c(a,c){f.call(this,a);this.tree=c}var f=traceur.semantics.symbols.PropertyAccessor,f=traceur.semantics.symbols.PropertyAccessor;traceur.inherits(c,f,{__proto__:f.prototype});return{SetAccessor:c}});
traceur.define("semantics.symbols",function(){function c(c,e,g,d){f.call(this,a.PROPERTY,c,e,g,d)}var f=traceur.semantics.symbols.MemberSymbol,a=traceur.semantics.symbols.SymbolType;traceur.inherits(c,f,{__proto__:f.prototype});return{PropertySymbol:c}});
traceur.define("semantics.symbols",function(){var c;function f(a){return Object.keys(a).map(function(d){return a[d]})}function a(a,d,e){h.call(this,a,d,e);this.state_=c;this.instanceMembers=Object.create(null);this.staticMembers=Object.create(null);this.mixins=[]}var h=traceur.semantics.symbols.Symbol,e=traceur.syntax.PredefinedName,g=traceur.semantics.symbols.FieldSymbol,d=traceur.semantics.symbols.MethodSymbol;c=1;traceur.inherits(a,h,{__proto__:h.prototype,isDeclaringMembers:function(){return this.state_==
2},isMembersDeclared:function(){return this.state_==3},beginDeclaringMembers:function(){this.state_=2},endDeclaringMembers:function(){if(!this.isDeclaringMembers())throw Error();this.state_=3},lookupInstanceSymbol:function(a){return this.getInstanceMember(a)},hasInstanceMember:function(a){return a in this.instanceMembers},hasStaticMember:function(a){return a in this.staticMembers},getInstanceMember:function(a){return this.instanceMembers[a]},getStaticMember:function(a){return this.staticMembers[a]},
addMember:function(a){var d=a.isStatic?this.staticMembers:this.instanceMembers;delete d[a.name];d[a.name]=a},getInstanceMembers:function(){return f(this.instanceMembers)},getStaticMembers:function(){return f(this.staticMembers)},getInstanceMethods:function(){return this.getInstanceMembers().filter(function(a){return a instanceof d})},getInstanceFields:function(){return this.getInstanceMembers().filter(function(a){return a instanceof g})},getConstructor:function(){return this.getInstanceMember(e.NEW)},
getStaticConstructor:function(){return this.getStaticMember(e.NEW)},hasConstructor:function(){return!!this.getConstructor()}});return{AggregateSymbol:a}});traceur.define("semantics.symbols",function(){function c(c,e){f.call(this,a.CLASS,e,c);this.tree=e}var f=traceur.semantics.symbols.AggregateSymbol,a=traceur.semantics.symbols.SymbolType;traceur.inherits(c,f,{__proto__:f.prototype});return{ClassSymbol:c}});
traceur.define("semantics.symbols",function(){function c(a){return Object.keys(a).map(function(c){return a[c]})}function f(){this.sourceFiles_=Object.create(null);this.parseTrees_=new a;this.rootModule_=new h(null,null,null)}var a=traceur.util.ObjectMap,h=traceur.semantics.symbols.ModuleSymbol;f.prototype={createClone:function(){var a=new f,c=a.sourceFiles_,d=this.sourceFiles_;for(key in d)c[key]=d[key];a.parseTrees_.addAll(this.parseTrees_);a.objectClass_=objectClass_;return a},hasFile:function(a){return a in
this.sourceFiles_},addFile:function(a){this.sourceFiles_[a.name]=a},getFile:function(a){return this.sourceFiles_[a]},getSourceFiles:function(){return c(this.sourceFiles_)},getSourceTrees:function(){return this.parseTrees_.values()},setParseTree:function(a,c){if(this.sourceFiles_[a.name]!=a)throw Error();this.parseTrees_.put(a,c)},getParseTree:function(a){return this.parseTrees_.get(a)},getRootModule:function(){return this.rootModule_}};return{Project:f}});
traceur.define("semantics.symbols",function(){function c(c,e){f.call(this,a.TRAIT,e,c);this.tree=e}var f=traceur.semantics.symbols.AggregateSymbol,a=traceur.semantics.symbols.SymbolType;traceur.inherits(c,f,{__proto__:f.prototype});return{TraitSymbol:c}});
traceur.define("semantics.symbols",function(){function c(c,e,g){var d;typeof e=="string"?d=null:(d=e,e=d.name);f.call(this,a.REQUIRES,c,e,g,false);this.from_=d}var f=traceur.semantics.symbols.MemberSymbol,a=traceur.semantics.symbols.SymbolType;traceur.inherits(c,f,{__proto__:f.prototype});return{RequiresSymbol:c}});
traceur.define("semantics",function(){function c(a){this.reporter_=a}var f=traceur.syntax.PredefinedName,a=traceur.syntax.TokenType,h=traceur.syntax.trees.GetAccessor,e=traceur.syntax.trees.ParseTreeType,g=traceur.syntax.trees.SetAccessor,d=traceur.semantics.symbols.ClassSymbol,b=traceur.semantics.symbols.TraitSymbol,j=traceur.semantics.symbols.SymbolType,i=traceur.semantics.symbols.MethodSymbol,k=traceur.semantics.symbols.PropertySymbol,n=traceur.semantics.symbols.FieldSymbol,h=traceur.semantics.symbols.GetAccessor,
g=traceur.semantics.symbols.SetAccessor,l=traceur.semantics.symbols.RequiresSymbol;c.analyzeClass=function(a,b){return(new c(a)).declareAggregate_(b,d)};c.analyzeTrait=function(a,d){return(new c(a)).declareAggregate_(d,b)};c.prototype={declareAggregate_:function(a,b){var d=new b(a.name.value,a);this.declareAggregateMembers_(d);return d},declareAggregateMembers_:function(a){a.tree.elements.forEach(function(b){this.declareAggregateMember_(a,b)},this)},declareAggregateMember_:function(a,b){switch(b.type){case e.FUNCTION_DECLARATION:this.declareFunctionMember_(a,
b);break;case e.FIELD_DECLARATION:this.declareFieldMembers_(a,b);break;case e.GET_ACCESSOR:this.declareAccessor_(a,b,"get",h);break;case e.SET_ACCESSOR:this.declareAccessor_(a,b,"set",g);break;case e.MIXIN:a.mixins.push(b);break;case e.REQUIRES_MEMBER:this.declareRequiresMember_(a,b);break;default:throw Error("Unrecognized parse tree in class declaration:"+b.type);}},declareRequiresMember_:function(a,b){var d=b.name.value;this.checkForDuplicateMemberDeclaration_(a,b,d,false)||new l(b,d,a)},declareFieldMembers_:function(a,
b){b.declarations.forEach(function(d){this.declareFieldMember_(a,b,d)},this)},declareFieldMember_:function(a,b,d){var c=null;switch(d.lvalue.type){case e.IDENTIFIER_EXPRESSION:c=d.lvalue.identifierToken.value;break;default:this.reportError_(d,"Cannot use destructuring in a field declaration")}f.NEW==c?this.reportError_(d,'Cannot name a field "new"'):this.checkForDuplicateMemberDeclaration_(a,d,c,b.isStatic)||new n(b,d,c,a)},declareAccessor_:function(a,b,d,c){var e=this.getPropertyName_(b,b.propertyName);
e!=null&&(a=this.getOrCreateProperty_(a,e,b,b.isStatic),a!=null&&(a[d]!=null?(this.reportError_(b,'Duplicate "%s" accessor "%s"',d,e),this.reportRelatedError_(a[d].tree)):a[d]=new c(a,b)))},getOrCreateProperty_:function(a,b,d,c){if(c&&!a.hasStaticMember(b)||!c&&!a.hasInstanceMember(b))return new k(d,b,a,c);c=c?a.getStaticMember(b):a.getInstanceMember(b);return c.type!=j.PROPERTY?(this.reportDuplicateMember_(a,d,b),null):c},getPropertyName_:function(b,d){var c;switch(d.type){case a.IDENTIFIER:c=d.value;
break;case a.STRING:c=d.value;break;case a.NUMBER:throw Error("TODO: Property with numeric names");default:throw Error("Unexpected property name type");}return c==f.NEW?(this.reportError_(b,'Cannot name a property "new"'),null):c},declareFunctionMember_:function(a,b){var d=b.name.value;return!this.checkForDuplicateMemberDeclaration_(a,b,d,b.isStatic)?new i(b,d,a,b.isStatic):null},checkForDuplicateMemberDeclaration_:function(a,b,d,c){return c&&a.hasStaticMember(d)||!c&&a.hasInstanceMember(d)?(this.reportDuplicateMember_(a,
b,d),true):false},reportDuplicateMember_:function(a,b,d){this.reportError_(b,'Duplicate member "%s"',d);this.reportRelatedError_(a.getInstanceMember(d))},reportError_:function(a,b,d){if(a instanceof Symbol)a=a.tree;var c=Array.prototype.slice.call(arguments,2);this.reporter_.reportError(a.location.start,b,c)},reportRelatedError_:function(a){a instanceof Symbol?symbol.getRelatedLocations().forEach(function(a){this.reportError_(a,"Location related to previous error")},this):this.reportError_(tree,"Location related to previous error")}};
return{ClassAnalyzer:c}});
traceur.define("codegeneration",function(){function c(a,b){f.call(this);this.highlighted_=a;this.showLineNumbers_=b;this.result_=new g;this.currentLine_=new g}var f=traceur.syntax.ParseTreeVisitor,a=traceur.syntax.PredefinedName,h=traceur.syntax.Keywords,e=traceur.syntax.TokenType,g=traceur.util.StringBuilder,h=traceur.syntax.Keywords,a=traceur.syntax.PredefinedName;c.write=function(a,b){var e,f=null;arguments.length===1?e=false:arguments.length===2?e=arguments[1]:(e=arguments[2],f=arguments[1]);
e=new c(f,e);e.visitAny(a);e.currentLine_.length>0&&e.writeln_();return e.result_.toString()};traceur.inherits(c,f,{__proto__:f.prototype,currentLineComment_:null,indentDepth_:0,visitAny:function(a){a!=null&&a==this.highlighted_&&this.write_("\u001b[41m");if(a!=null&&a.location!=null&&a.location.start!=null&&this.showLineNumbers_)this.currentLineComment_="Line: "+(a.location.start.line+1);f.prototype.visitAny.call(this,a);a!=null&&a==this.highlighted_&&this.write_("\u001b[0m")},visitArgumentList:function(a){this.write_(e.OPEN_PAREN);
this.writeList_(a.args,e.COMMA,false);this.write_(e.CLOSE_PAREN)},visitArrayLiteralExpression:function(a){this.write_(e.OPEN_SQUARE);this.writeList_(a.elements,e.COMMA,false);this.write_(e.CLOSE_SQUARE)},visitArrayPattern:function(a){this.write_(e.OPEN_SQUARE);this.writeList_(a.elements,e.COMMA,false);this.write_(e.CLOSE_SQUARE)},visitAwaitStatement:function(a){this.write_(e.AWAIT);a.identifier!=null&&(this.write_(a.identifier),this.write_(e.EQUAL));this.visitAny(a.expression);this.write_(e.SEMI_COLON)},
visitBinaryOperator:function(a){this.visitAny(a.left);this.write_(a.operator);this.visitAny(a.right)},visitBlock:function(a){this.write_(e.OPEN_CURLY);this.writelnList_(a.statements);this.write_(e.CLOSE_CURLY)},visitBreakStatement:function(a){this.write_(e.BREAK);a.name!=null&&this.write_(a.name);this.write_(e.SEMI_COLON)},visitCallExpression:function(a){this.visitAny(a.operand);this.visitAny(a.args)},visitCaseClause:function(a){this.write_(e.CASE);this.visitAny(a.expression);this.write_(e.COLON);
this.indentDepth_++;this.writelnList_(a.statements);this.indentDepth_--},visitCatch:function(a){this.write_(e.CATCH);this.write_(e.OPEN_PAREN);this.write_(a.exceptionName);this.write_(e.CLOSE_PAREN);this.visitAny(a.catchBody)},visitClassDeclaration:function(a){this.write_(e.CLASS);this.write_(a.name);a.superClass!=null&&(this.write_(e.COLON),this.visitAny(a.superClass));this.write_(e.OPEN_CURLY);this.writelnList_(a.elements);this.write_(e.CLOSE_CURLY)},visitClassExpression:function(){this.write_(e.CLASS)},
visitCommaExpression:function(a){this.writeList_(a.expressions,e.COMMA,false)},visitConditionalExpression:function(a){this.visitAny(a.condition);this.write_(e.QUESTION);this.visitAny(a.left);this.write_(e.COLON);this.visitAny(a.right)},visitContinueStatement:function(a){this.write_(e.CONTINUE);a.name!=null&&this.write_(a.name);this.write_(e.SEMI_COLON)},visitDebuggerStatement:function(){this.write_(e.DEBUGGER);this.write_(e.SEMI_COLON)},visitDefaultClause:function(a){this.write_(e.DEFAULT);this.write_(e.COLON);
this.indentDepth_++;this.writelnList_(a.statements);this.indentDepth_--},visitDefaultParameter:function(a){this.visitAny(a.identifier);this.write_(e.EQUAL);this.visitAny(a.expression)},visitDoWhileStatement:function(a){this.write_(e.DO);this.visitAny(a.body);this.write_(e.WHILE);this.write_(e.OPEN_PAREN);this.visitAny(a.condition);this.write_(e.CLOSE_PAREN);this.write_(e.SEMI_COLON)},visitEmptyStatement:function(){this.write_(e.SEMI_COLON)},visitExportDeclaration:function(a){this.write_(e.EXPORT);
this.visitAny(a.declaration)},visitExportPathList:function(a){this.writeList_(a.paths,e.COMMA,false)},visitExportPath:function(a){a.moduleExpression&&(this.visitAny(a.moduleExpression),this.write_(e.PERIOD));this.visitAny(a.specifier)},visitExportPathSpecifier:function(a){this.write_(a.identifier);a.specifier&&(this.write_(e.COLON),this.visitAny(a.specifier))},visitExportSpecifier:function(a){this.write_(a.lhs);a.rhs&&(this.write_(e.COLON),this.write_(a.rhs))},visitExportSpecifierSet:function(a){this.write_(e.OPEN_CURLY);
this.writeList_(a.specifiers,e.COMMA,false);this.write_(e.CLOSE_CURLY)},visitExportPathSpecifierSet:function(a){this.write_(e.OPEN_CURLY);this.writeList_(a.specifiers,e.COMMA,false);this.write_(e.CLOSE_CURLY)},visitExpressionStatement:function(a){this.visitAny(a.expression);this.write_(e.SEMI_COLON)},visitFieldDeclaration:function(a){a.isStatic&&this.write_(e.CLASS);a.isConst&&this.write_(e.CONST);this.writeList_(a.declarations,e.COMMA,false);this.write_(e.SEMI_COLON)},visitFinally:function(a){this.write_(e.FINALLY);
this.visitAny(a.block)},visitForEachStatement:function(a){this.write_(e.FOR);this.write_(e.OPEN_PAREN);this.visitAny(a.initializer);this.write_(e.COLON);this.visitAny(a.collection);this.write_(e.CLOSE_PAREN);this.visitAny(a.body)},visitForInStatement:function(a){this.write_(e.FOR);this.write_(e.OPEN_PAREN);this.visitAny(a.initializer);this.write_(e.IN);this.visitAny(a.collection);this.write_(e.CLOSE_PAREN);this.visitAny(a.body)},visitForStatement:function(a){this.write_(e.FOR);this.write_(e.OPEN_PAREN);
this.visitAny(a.initializer);this.write_(e.SEMI_COLON);this.visitAny(a.condition);this.write_(e.SEMI_COLON);this.visitAny(a.increment);this.write_(e.CLOSE_PAREN);this.visitAny(a.body)},visitFormalParameterList:function(a){for(var b=true,c=0;c<a.parameters.length;c++){var f=a.parameters[c];b?b=false:this.write_(e.COMMA);this.visitAny(f)}},visitFunctionDeclaration:function(a){a.isStatic&&this.write_(e.CLASS);this.write_(h.FUNCTION);a.name!=null&&this.write_(a.name);this.write_(e.OPEN_PAREN);this.visitAny(a.formalParameterList);
this.write_(e.CLOSE_PAREN);this.visitAny(a.functionBody)},visitGetAccessor:function(d){d.isStatic&&this.write_(e.CLASS);this.write_(a.GET);this.write_(d.propertyName);this.write_(e.OPEN_PAREN);this.write_(e.CLOSE_PAREN);this.visitAny(d.body)},visitIdentifierExpression:function(a){this.write_(a.identifierToken)},visitIfStatement:function(a){this.write_(e.IF);this.write_(e.OPEN_PAREN);this.visitAny(a.condition);this.write_(e.CLOSE_PAREN);this.visitAny(a.ifClause);a.elseClause!=null&&(this.write_(e.ELSE),
this.visitAny(a.elseClause))},visitImportDeclaration:function(a){this.write_(e.IMPORT);this.writeList_(a.importPathList,e.COMMA,false);this.write_(e.SEMI_COLON)},visitImportPath:function(a){this.writeTokenList_(a.qualifiedPath,e.PERIOD,false);switch(a.kind){case ALL:this.write_(e.PERIOD);this.write_(e.STAR);break;case SET:this.write_(e.PERIOD),this.write_(e.OPEN_CURLY),this.writeList_(a.importSpecifierSet,e.COMMA,false),this.write_(e.CLOSE_CURLY)}},visitImportSpecifier:function(a){this.write_(a.importedName);
a.destinationName!=null&&(this.write_(e.COLON),this.write_(a.destinationName))},visitLabelledStatement:function(a){this.write_(a.name);this.write_(e.COLON);this.visitAny(a.statement)},visitLiteralExpression:function(a){this.write_(a.literalToken)},visitMemberExpression:function(a){this.visitAny(a.operand);this.write_(e.PERIOD);this.write_(a.memberName)},visitMemberLookupExpression:function(a){this.visitAny(a.operand);this.write_(e.OPEN_SQUARE);this.visitAny(a.memberExpression);this.write_(e.CLOSE_SQUARE)},
visitMissingPrimaryExpression:function(){this.write_("MissingPrimaryExpression")},visitMixin:function(d){this.write_(a.MIXIN);this.write_(d.name);this.visitAny(d.mixinResolves);this.write_(e.SEMI_COLON)},visitMixinResolve:function(a){this.write_(a.from);this.write_(e.COLON);this.write_(a.to)},visitMixinResolveList:function(a){this.write_(e.OPEN_CURLY);this.writeList_(a.resolves,e.COMMA,false);this.write_(e.CLOSE_CURLY)},visitModuleDeclaration:function(d){this.write_(a.MODULE);this.writeList_(d.specifiers,
e.COMMA,false);this.write_(e.SEMI_COLON)},visitModuleDefinition:function(d){this.write_(a.MODULE);this.write_(d.name);this.write_(e.OPEN_CURLY);this.writeln_();this.writeList_(d.elements,null,true);this.write_(e.CLOSE_CURLY);this.writeln_()},visitModuleExpression:function(a){this.visitAny(a.reference);for(var b=0;b<a.identifiers.length;b++)this.write_(e.PERIOD),this.write_(a.identifiers[b])},visitModuleRequire:function(d){this.write_(a.REQUIRE);this.write_(e.OPEN_PAREN);this.write_(d.url);this.write_(e.CLOSE_PAREN)},
visitModuleSpecifier:function(a){this.write_(a.identifier);this.write_(e.EQUAL);this.visitAny(a.expression)},visitNewExpression:function(a){this.write_(e.NEW);this.visitAny(a.operand);this.visitAny(a.args)},visitNullTree:function(){},visitObjectLiteralExpression:function(a){this.write_(e.OPEN_CURLY);a.propertyNameAndValues.length>1&&this.writeln_();this.writelnList_(a.propertyNameAndValues,e.COMMA);a.propertyNameAndValues.length>1&&this.writeln_();this.write_(e.CLOSE_CURLY)},visitObjectPattern:function(a){this.write_(e.OPEN_CURLY);
this.writelnList_(a.fields,e.COMMA);this.write_(e.CLOSE_CURLY)},visitObjectPatternField:function(a){this.write_(a.identifier);a.element!=null&&(this.write_(e.COLON),this.visitAny(a.element))},visitParenExpression:function(a){this.write_(e.OPEN_PAREN);f.prototype.visitParenExpression.call(this,a);this.write_(e.CLOSE_PAREN)},visitPostfixExpression:function(a){this.visitAny(a.operand);this.write_(a.operator)},visitProgram:function(a){this.writelnList_(a.programElements)},visitPropertyNameAssignment:function(a){this.write_(a.name);
this.write_(e.COLON);this.visitAny(a.value)},visitQualifiedReference:function(a){this.visitAny(a.moduleExpression);this.write_(e.PERIOD);this.write_(a.identifier)},visitRequiresMember:function(d){this.write_(a.REQUIRES);this.write_(d.name);this.write_(e.SEMI_COLON)},visitReturnStatement:function(a){this.write_(e.RETURN);this.visitAny(a.expression);this.write_(e.SEMI_COLON)},visitRestParameter:function(a){this.write_(e.SPREAD);this.write_(a.identifier)},visitSetAccessor:function(d){d.isStatic&&this.write_(e.CLASS);
this.write_(a.SET);this.write_(d.propertyName);this.write_(e.OPEN_PAREN);this.write_(d.parameter);this.write_(e.CLOSE_PAREN);this.visitAny(d.body)},visitSpreadExpression:function(a){this.write_(e.SPREAD);this.visitAny(a.expression)},visitSpreadPatternElement:function(a){this.write_(e.SPREAD);this.visitAny(a.lvalue)},visitStateMachine:function(){throw Error("State machines cannot be converted to source");},visitSuperExpression:function(){this.write_(e.SUPER)},visitSwitchStatement:function(a){this.write_(e.SWITCH);
this.write_(e.OPEN_PAREN);this.visitAny(a.expression);this.write_(e.CLOSE_PAREN);this.write_(e.OPEN_CURLY);this.writelnList_(a.caseClauses);this.write_(e.CLOSE_CURLY)},visitThisExpression:function(){this.write_(e.THIS)},visitTraitDeclaration:function(d){this.write_(a.TRAIT);this.write_(d.name);this.write_(e.OPEN_CURLY);this.visitList(d.elements);this.write_(e.CLOSE_CURLY)},visitThrowStatement:function(a){this.write_(e.THROW);this.visitAny(a.value);this.write_(e.SEMI_COLON)},visitTryStatement:function(a){this.write_(e.TRY);
this.visitAny(a.body);this.visitAny(a.catchBlock);this.visitAny(a.finallyBlock)},visitUnaryExpression:function(a){this.write_(a.operator);this.visitAny(a.operand)},visitVariableDeclarationList:function(a){this.write_(a.declarationType);this.writeList_(a.declarations,e.COMMA,false)},visitVariableDeclaration:function(a){this.visitAny(a.lvalue);a.initializer!=null&&(this.write_(e.EQUAL),this.visitAny(a.initializer))},visitVariableStatement:function(a){f.prototype.visitVariableStatement.call(this,a);
this.write_(e.SEMI_COLON)},visitWhileStatement:function(a){this.write_(e.WHILE);this.write_(e.OPEN_PAREN);this.visitAny(a.condition);this.write_(e.CLOSE_PAREN);this.visitAny(a.body)},visitWithStatement:function(a){this.write_(e.WITH);this.write_(e.OPEN_PAREN);this.visitAny(a.expression);this.write_(e.CLOSE_PAREN);this.visitAny(a.body)},visitYieldStatement:function(a){this.write_(e.YIELD);a.isYieldFor&&this.write_(e.FOR);this.visitAny(a.expression);this.write_(e.SEMI_COLON)},writeln_:function(){if(this.currentLineComment_!=
null){for(;this.currentLine_.length<80;)this.currentLine_.append(" ");this.currentLine_.append(" // ").append(this.currentLineComment_);this.currentLineComment_=null}this.result_.append(this.currentLine_.toString());this.result_.append("\n");this.currentLine_=new g},writelnList_:function(a,b){b?this.writeList_(a,b,true):(a.length>0&&this.writeln_(),this.writeList_(a,null,true),a.length>0&&this.writeln_())},writeList_:function(a,b,c){for(var e=true,f=0;f<a.length;f++){var g=a[f];e?e=false:(b!=null&&
this.write_(b),c&&this.writeln_());this.visitAny(g)}},writeTokenList_:function(a,b,c){for(var e=true,f=0;f<a.length;f++){var g=a[f];e?e=false:(b!=null&&this.write_(b),c&&this.writeln_());this.write_(g)}},write_:function(a){a===e.CLOSE_CURLY&&this.indentDepth_--;var b=true,c=true;switch(a){case e.PERIOD:case e.OPEN_SQUARE:case e.OPEN_PAREN:case e.CLOSE_SQUARE:c=b=false;break;case e.COLON:case e.COMMA:case e.SEMI_COLON:case e.CLOSE_PAREN:b=false}if(a!=null){if(this.currentLine_.length==0)for(var b=
0,f=this.indentDepth_*2;b<f;++b)this.currentLine_.append(" ");else b==false&&this.currentLine_.lastChar()==" "&&this.currentLine_.deleteLastChar();this.currentLine_.append(a.toString());c&&this.currentLine_.append(" ")}a===e.OPEN_CURLY&&this.indentDepth_++}});return{ParseTreeWriter:c}});
traceur.define("syntax",function(){function c(){h.call(this)}function f(a,c){this.tree=a;this.message=c}var a=traceur.syntax.trees.ParseTreeType,h=traceur.syntax.ParseTreeVisitor,e=traceur.codegeneration.ParseTreeWriter,g=traceur.syntax.TokenType,d=traceur.syntax.trees.NewExpression;traceur.inherits(f,Error,{__proto__:Error.prototype});c.validate=function(a){var d=new c;try{d.visitAny(a)}catch(g){if(!(g instanceof f))throw g;d=null;if(g.tree!==null)d=g.tree.location;if(d===null)d=a.location;throw Error("Parse tree validation failure '"+
g.message+"' at "+(d!==null?d.start.toString():"(unknown)")+":\n\n"+e.write(a,g.tree,true)+"\n");}};traceur.inherits(c,h,{__proto__:h.prototype,fail_:function(a,c){throw new f(a,c);},check_:function(a,c,d){a||this.fail_(c,d)},checkVisit_:function(a,c,d){this.check_(a,c,d);this.visitAny(c)},visitArgumentList:function(a){for(var c=0;c<a.args.length;c++){var d=a.args[c];this.checkVisit_(d.isAssignmentOrSpread(),d,"assignment or spread expected")}},visitArrayLiteralExpression:function(a){for(var c=0;c<
a.elements.length;c++){var d=a.elements[c];this.checkVisit_(d.isNull()||d.isAssignmentOrSpread(),d,"assignment or spread expected")}},visitArrayPattern:function(a){for(var c=0;c<a.elements.length;c++){var d=a.elements[c];this.checkVisit_(d.isNull()||d.isLeftHandSideExpression()||d.isPattern()||d.isSpreadPatternElement(),d,"null, sub pattern, left hand side expression or spread expected");d.isSpreadPatternElement()&&this.check_(c===a.elements.length-1,d,"spread in array patterns must be the last element")}},
visitAwaitStatement:function(a){this.checkVisit_(a.expression.isExpression(),a.expression,"await must be expression")},visitBinaryOperator:function(a){switch(a.operator.type){case g.EQUAL:case g.STAR_EQUAL:case g.SLASH_EQUAL:case g.PERCENT_EQUAL:case g.PLUS_EQUAL:case g.MINUS_EQUAL:case g.LEFT_SHIFT_EQUAL:case g.RIGHT_SHIFT_EQUAL:case g.UNSIGNED_RIGHT_SHIFT_EQUAL:case g.AMPERSAND_EQUAL:case g.CARET_EQUAL:case g.BAR_EQUAL:this.check_(a.left.isLeftHandSideExpression()||a.left.isPattern(),a.left,"left hand side expression or pattern expected");
this.check_(a.right.isAssignmentExpression(),a.right,"assignment expression expected");break;case g.AND:case g.OR:case g.BAR:case g.CARET:case g.AMPERSAND:case g.EQUAL_EQUAL:case g.NOT_EQUAL:case g.EQUAL_EQUAL_EQUAL:case g.NOT_EQUAL_EQUAL:case g.OPEN_ANGLE:case g.CLOSE_ANGLE:case g.GREATER_EQUAL:case g.LESS_EQUAL:case g.INSTANCEOF:case g.IN:case g.LEFT_SHIFT:case g.RIGHT_SHIFT:case g.UNSIGNED_RIGHT_SHIFT:case g.PLUS:case g.MINUS:case g.STAR:case g.SLASH:case g.PERCENT:this.check_(a.left.isAssignmentExpression(),
a.left,"assignment expression expected");this.check_(a.right.isAssignmentExpression(),a.right,"assignment expression expected");break;default:this.fail_(a,"unexpected binary operator")}this.visitAny(a.left);this.visitAny(a.right)},visitBlock:function(a){for(var c=0;c<a.statements.length;c++){var d=a.statements[c];this.checkVisit_(d.isSourceElement(),d,"statement or function declaration expected")}},visitCallExpression:function(a){this.check_(a.operand.isLeftHandSideExpression()||a.operand.isMemberExpression(),
a.operand,"left hand side expression or member expression expected");a.operand instanceof d&&this.check_(a.operand.args!==null,a.operand,"new args expected");this.visitAny(a.operand);this.visitAny(a.args)},visitCaseClause:function(a){this.checkVisit_(a.expression.isExpression(),a.expression,"expression expected");for(var c=0;c<a.statements.length;c++){var d=a.statements[c];this.checkVisit_(d.isStatement(),d,"statement expected")}},visitCatch:function(b){this.checkVisit_(b.catchBody.type===a.BLOCK,
b.catchBody,"block expected")},visitClassDeclaration:function(b){for(var c=0;c<b.elements.length;c++){var d=b.elements[c];switch(d.type){case a.FUNCTION_DECLARATION:case a.GET_ACCESSOR:case a.SET_ACCESSOR:case a.MIXIN:case a.REQUIRES_MEMBER:case a.FIELD_DECLARATION:break;default:this.fail_(d,"class element expected")}this.visitAny(d)}},visitCommaExpression:function(a){for(var c=0;c<a.expressions.length;c++){var d=a.expressions[c];this.checkVisit_(d.isAssignmentExpression(),d,"expression expected")}},
visitConditionalExpression:function(a){this.checkVisit_(a.condition.isAssignmentExpression(),a.condition,"expression expected");this.checkVisit_(a.left.isAssignmentExpression(),a.left,"expression expected");this.checkVisit_(a.right.isAssignmentExpression(),a.right,"expression expected")},visitDefaultClause:function(a){for(var c=0;c<a.statements.length;c++){var d=a.statements[c];this.checkVisit_(d.isStatement(),d,"statement expected")}},visitDoWhileStatement:function(a){this.checkVisit_(a.body.isStatement(),
a.body,"statement expected");this.checkVisit_(a.condition.isExpression(),a.condition,"expression expected")},visitExportDeclaration:function(b){var c=b.declaration.type;this.checkVisit_(c==a.VARIABLE_STATEMENT||c==a.FUNCTION_DECLARATION||c==a.MODULE_DEFINITION||c==a.MODULE_DECLARATION||c==a.CLASS_DECLARATION||c==a.TRAIT_DECLARATION||c==a.EXPORT_PATH_LIST,b.declaration,"expected valid export tree")},visitExportPath:function(b){this.checkVisit_(b.moduleExpression.type==a.MODULE_EXPRESSION,b.moduleExpression,
"module expression expected");var c=b.specifier.type;this.checkVisit_(c==a.EXPORT_SPECIFIER_SET||c==a.IDENTIFIER_EXPRESSION,b.specifier,"specifier set or identifier expected")},visitExportPathList:function(b){this.check_(b.paths.length>0,b,"expected at least one path");for(var c=0;c<b.paths.length;c++){var d=b.paths[c],e=d.type;this.checkVisit_(e==a.EXPORT_PATH||e==a.EXPORT_PATH_SPECIFIER_SET||e==a.IDENTIFIER_EXPRESSION,d,"expected valid export path")}},visitExportPathSpecifierSet:function(a){this.check_(a.specifiers.length>
0,a,"expected at least one specifier");this.visitList(a.specifiers)},visitExportSpecifierSet:function(b){this.check_(b.specifiers.length>0,b,"expected at least one identifier");for(var c=0;c<b.specifiers.length;c++){var d=b.specifiers[c];this.checkVisit_(d.type==a.EXPORT_SPECIFIER,d,"expected valid export specifier")}},visitExpressionStatement:function(a){this.checkVisit_(a.expression.isExpression(),a.expression,"expression expected")},visitFieldDeclaration:function(b){for(var c=0;c<b.declarations.length;c++){var d=
b.declarations[c];this.checkVisit_(d.type===a.VARIABLE_DECLARATION,d,"variable declaration expected")}},visitFinally:function(b){this.checkVisit_(b.block.type===a.BLOCK,b.block,"block expected")},visitForEachStatement:function(a){this.checkVisit_(a.initializer.declarations.length<=1,a.initializer,"for-each statement may not have more than one variable declaration");this.checkVisit_(a.collection.isExpression(),a.collection,"expression expected");this.checkVisit_(a.body.isStatement(),a.body,"statement expected")},
visitForInStatement:function(b){b.initializer.type===a.VARIABLE_DECLARATION_LIST?this.checkVisit_(b.initializer.declarations.length<=1,b.initializer,"for-in statement may not have more than one variable declaration"):this.checkVisit_(b.initializer.isExpression(),b.initializer,"variable declaration or expression expected");this.checkVisit_(b.collection.isExpression(),b.collection,"expression expected");this.checkVisit_(b.body.isStatement(),b.body,"statement expected")},visitFormalParameterList:function(b){for(var c=
0;c<b.parameters.length;c++){var d=b.parameters[c];switch(d.type){case a.REST_PARAMETER:this.checkVisit_(c===b.parameters.length-1,d,"rest parameters must be the last parameter in a parameter list");case a.IDENTIFIER_EXPRESSION:break;case a.DEFAULT_PARAMETER:break;default:this.fail_(d,"parameters must be identifiers or rest parameters")}this.visitAny(d)}},visitForStatement:function(b){b.initializer!==null&&!b.initializer.isNull()&&this.checkVisit_(b.initializer.isExpression()||b.initializer.type===
a.VARIABLE_DECLARATION_LIST,b.initializer,"variable declaration list or expression expected");b.condition!==null&&this.checkVisit_(b.condition.isExpression(),b.condition,"expression expected");b.increment!==null&&this.checkVisit_(b.condition.isExpression(),b.increment,"expression expected");this.checkVisit_(b.body.isStatement(),b.body,"statement expected")},visitGetAccessor:function(b){this.checkVisit_(b.body.type===a.BLOCK,b.body,"block expected")},visitIfStatement:function(a){this.checkVisit_(a.condition.isExpression(),
a.condition,"expression expected");this.checkVisit_(a.ifClause.isStatement(),a.ifClause,"statement expected");a.elseClause!==null&&this.checkVisit_(a.elseClause.isStatement(),a.elseClause,"statement expected")},visitLabelledStatement:function(a){this.checkVisit_(a.statement.isStatement(),a.statement,"statement expected")},visitMemberExpression:function(a){this.check_(a.operand.isMemberExpression(),a.operand,"member expression expected");a.operand instanceof d&&this.check_(a.operand.args!==null,a.operand,
"new args expected");this.visitAny(a.operand)},visitMemberLookupExpression:function(a){this.check_(a.operand.isLeftHandSideExpression(),a.operand,"left hand side expression expected");a.operand instanceof d&&this.check_(a.operand.args!==null,a.operand,"new args expected");this.visitAny(a.operand)},visitMissingPrimaryExpression:function(a){this.fail_(a,"parse tree contains errors")},visitMixinResolveList:function(b){for(var c=0;c<b.resolves.length;c++){var d=b.resolves[c];this.check_(d.type===a.MIXIN_RESOLVE,
d,"mixin resolve expected")}},visitModuleDeclaration:function(b){for(var c=0;c<b.specifiers.length;c++){var d=b.specifiers[c];this.checkVisit_(d.type==a.MODULE_SPECIFIER,d,"module specifier expected")}},visitModuleDefinition:function(b){for(var c=0;c<b.elements.length;c++){var d=b.elements[c];this.checkVisit_(d.isStatement()&&d.type!==a.BLOCK||d.type===a.CLASS_DECLARATION||d.type===a.EXPORT_DECLARATION||d.type===a.IMPORT_DECLARATION||d.type===a.MODULE_DEFINITION||d.type===a.MODULE_DECLARATION||d.type===
a.TRAIT_DECLARATION,d,"module element expected")}},visitModuleRequire:function(a){this.check_(a.url.type==g.STRING,a.url,"string expected")},visitModuleSpecifier:function(b){this.checkVisit_(b.expression.type==a.MODULE_EXPRESSION,b.expression,"module expression expected")},visitNewExpression:function(a){this.checkVisit_(a.operand.isLeftHandSideExpression(),a.operand,"left hand side expression expected");this.visitAny(a.args)},visitObjectLiteralExpression:function(b){for(var c=0;c<b.propertyNameAndValues.length;c++){var d=
b.propertyNameAndValues[c];switch(d.type){case a.GET_ACCESSOR:case a.SET_ACCESSOR:case a.PROPERTY_NAME_ASSIGNMENT:break;default:this.fail_(d,"accessor or property name assignment expected")}this.visitAny(d)}},visitObjectPattern:function(b){for(var c=0;c<b.fields.length;c++){var d=b.fields[c];this.checkVisit_(d.type===a.OBJECT_PATTERN_FIELD,d,"object pattern field expected")}},visitObjectPatternField:function(a){a.element!==null&&this.checkVisit_(a.element.isLeftHandSideExpression()||a.element.isPattern(),
a.element,"left hand side expression or pattern expected")},visitParenExpression:function(a){a.expression.isPattern()?this.visitAny(a.expression):this.checkVisit_(a.expression.isExpression(),a.expression,"expression expected")},visitPostfixExpression:function(a){this.checkVisit_(a.operand.isAssignmentExpression(),a.operand,"assignment expression expected")},visitProgram:function(a){for(var c=0;c<a.programElements.length;c++){var d=a.programElements[c];this.checkVisit_(d.isProgramElement(),d,"global program element expected")}},
visitPropertyNameAssignment:function(a){this.checkVisit_(a.value.isAssignmentExpression(),a.value,"assignment expression expected")},visitQualifiedReference:function(b){this.checkVisit_(b.moduleExpression.type==a.MODULE_EXPRESSION,b.moduleExpression,"module expression expected")},visitReturnStatement:function(a){a.expression!==null&&this.checkVisit_(a.expression.isExpression(),a.expression,"expression expected")},visitSetAccessor:function(b){this.checkVisit_(b.body.type===a.BLOCK,b.body,"block expected")},
visitSpreadExpression:function(a){this.checkVisit_(a.expression.isAssignmentExpression(),a.expression,"assignment expression expected")},visitStateMachine:function(a){this.fail_(a,"State machines are never valid outside of the GeneratorTransformer pass.")},visitSwitchStatement:function(b){this.checkVisit_(b.expression.isExpression(),b.expression,"expression expected");for(var c=0,d=0;d<b.caseClauses.length;d++){var e=b.caseClauses[d];e.type===a.DEFAULT_CLAUSE?(++c,this.checkVisit_(c<=1,e,"no more than one default clause allowed")):
this.checkVisit_(e.type===a.CASE_CLAUSE,e,"case or default clause expected")}},visitTraitDeclaration:function(b){for(var c=0;c<b.elements.length;c++){var d=b.elements[c];switch(d.type){case a.FUNCTION_DECLARATION:case a.GET_ACCESSOR:case a.SET_ACCESSOR:case a.MIXIN:case a.REQUIRES_MEMBER:break;default:this.fail_(d,"trait element expected")}this.visitAny(d)}},visitThrowStatement:function(a){a.value!==null&&this.checkVisit_(a.value.isExpression(),a.value,"expression expected")},visitTryStatement:function(b){this.checkVisit_(b.body.type===
a.BLOCK,b.body,"block expected");b.catchBlock!==null&&!b.catchBlock.isNull()&&this.checkVisit_(b.catchBlock.type===a.CATCH,b.catchBlock,"catch block expected");b.finallyBlock!==null&&!b.finallyBlock.isNull()&&this.checkVisit_(b.finallyBlock.type===a.FINALLY,b.finallyBlock,"finally block expected");(b.catchBlock===null||b.catchBlock.isNull())&&(b.finallyBlock===null||b.finallyBlock.isNull())&&this.fail_(b,"either catch or finally must be present")},visitUnaryExpression:function(a){this.checkVisit_(a.operand.isAssignmentExpression(),
a.operand,"assignment expression expected")},visitVariableDeclaration:function(a){a.initializer!==null&&this.checkVisit_(a.initializer.isAssignmentExpression(),a.initializer,"assignment expression expected")},visitWhileStatement:function(a){this.checkVisit_(a.condition.isExpression(),a.condition,"expression expected");this.checkVisit_(a.body.isStatement(),a.body,"statement expected")},visitWithStatement:function(a){this.checkVisit_(a.expression.isExpression(),a.expression,"expression expected");this.checkVisit_(a.body.isStatement(),
a.body,"statement expected")},visitYieldStatement:function(a){a.expression!==null&&this.checkVisit_(a.expression.isExpression(),a.expression,"expression expected")}});return{ParseTreeValidator:c}});
traceur.define("codegeneration",function(){function c(a){return new S(a,null)}function f(a){return new L(null,a)}function a(a){return new M(J.STRING,'"'+a+'"',null)}function h(a){return new S(a?J.TRUE:J.FALSE,null)}function e(){return new M(J.NULL,"null",null)}function g(a){return new M(J.NUMBER,String(a),null)}function d(a,c){if(typeof a=="string"){var d=Wa(arguments,t);return new V(null,d)}if(typeof a=="number")return b(a,false);if(a instanceof L)return new V(null,[t(a)]);d=a.map(t);return new V(null,
d)}function b(a,b){for(var c=[],d=0;d<a;d++){var e=I.getParameterName(d);c.push(d==a-1&&b?F(e):t(e))}return new V(null,c)}function j(){return new V(null,[])}function i(a,b){if(typeof a=="number")return k(d(a));var c;c=a instanceof Array?a:aa(arguments);return new Q(null,c)}function k(a){a=a.parameters.map(function(a){return a.isRestParameter()?E(t(a.identifier)):a});return new Q(null,a)}function n(){return new Q(null,[])}function l(a){return new T(null,a)}function o(a,b){return new R(null,a,c(J.EQUAL),
b)}function q(a){a instanceof N&&(a=aa(arguments));return new X(null,a)}function m(a){return x(p(a))}function p(a){return s(z(v(j(),a)),G())}function u(a,b){var c=b||n();return new Y(null,a,c)}function s(a,b,c,d){c instanceof N&&(c=aa(arguments,2));var e=[];e.push(b);e.push.apply(e,c);return u(y(a,I.CALL),i(e))}function w(a,b){return x(o(a,b))}function x(a){return new ka(null,a)}function v(a,b){return new W(null,null,false,a,b)}function t(a){typeof a=="string"&&(a=f(a));return new ta(null,a)}function C(b){return new $(null,
a(b))}function r(a){return new $(null,h(a))}function A(a){return new $(null,g(a))}function y(a,b,c){if(typeof a=="string"||a instanceof L)a=t(a);typeof b=="string"&&(b=f(b));for(var d=new wa(null,a,b),e=2;e<arguments.length;e++)d=y(d,arguments[e]);return d}function G(a){return a?y(G(),a):new Ma(null)}function z(a){return new Ea(null,a)}function F(a){typeof a=="string"&&(a=f(a));return new Fa(null,a)}function E(a){return new Ja(null,a)}function B(a,b,c){if(b instanceof Array)return new Ra(null,a,b);
typeof b=="string"&&(b=f(b));return B(a,[D(b,c)])}function D(a,b){if(typeof a=="string"||a instanceof L)a=t(a);return new Sa(null,a,b)}function H(a,b,c){if(a instanceof Ra)return new Ta(null,a);typeof b=="string"&&(b=f(b));a=B(a,b,c);return H(a)}var L=traceur.syntax.IdentifierToken,M=traceur.syntax.LiteralToken,O=traceur.syntax.ParseTreeType,I=traceur.syntax.PredefinedName,S=traceur.syntax.Token,J=traceur.syntax.TokenType,N=traceur.syntax.trees.ParseTree,O=traceur.syntax.trees.ParseTreeType,Q=traceur.syntax.trees.ArgumentList,
T=traceur.syntax.trees.ArrayLiteralExpression,P=traceur.syntax.trees.ArrayPattern,R=traceur.syntax.trees.BinaryOperator,X=traceur.syntax.trees.Block,U=traceur.syntax.trees.BreakStatement,Y=traceur.syntax.trees.CallExpression,Z=traceur.syntax.trees.CaseClause,K=traceur.syntax.trees.Catch,ga=traceur.syntax.trees.ClassDeclaration,ba=traceur.syntax.trees.CommaExpression,ha=traceur.syntax.trees.ConditionalExpression,ca=traceur.syntax.trees.ContinueStatement,da=traceur.syntax.trees.DefaultClause,ea=traceur.syntax.trees.DefaultParameter,
ia=traceur.syntax.trees.DoWhileStatement,ja=traceur.syntax.trees.EmptyStatement,ka=traceur.syntax.trees.ExpressionStatement,la=traceur.syntax.trees.FieldDeclaration,ma=traceur.syntax.trees.Finally,na=traceur.syntax.trees.ForEachStatement,oa=traceur.syntax.trees.ForInStatement,pa=traceur.syntax.trees.ForStatement,V=traceur.syntax.trees.FormalParameterList,W=traceur.syntax.trees.FunctionDeclaration,fa=traceur.syntax.trees.GetAccessor,ta=traceur.syntax.trees.IdentifierExpression,ua=traceur.syntax.trees.IfStatement,
va=traceur.syntax.trees.LabelledStatement,$=traceur.syntax.trees.LiteralExpression,wa=traceur.syntax.trees.MemberExpression,xa=traceur.syntax.trees.MemberLookupExpression,ya=traceur.syntax.trees.Mixin,za=traceur.syntax.trees.MixinResolveList,Aa=traceur.syntax.trees.NewExpression,Ba=traceur.syntax.trees.ObjectLiteralExpression,Ca=traceur.syntax.trees.ObjectPattern,Da=traceur.syntax.trees.ObjectPatternField,Ea=traceur.syntax.trees.ParenExpression,qa=traceur.syntax.trees.PostfixExpression,ra=traceur.syntax.trees.Program,
sa=traceur.syntax.trees.PropertyNameAssignment,Fa=traceur.syntax.trees.RestParameter,Ga=traceur.syntax.trees.ReturnStatement,Ha=traceur.syntax.trees.YieldStatement,Ia=traceur.syntax.trees.SetAccessor,Ja=traceur.syntax.trees.SpreadExpression,Ka=traceur.syntax.trees.SpreadPatternElement,La=traceur.syntax.trees.SwitchStatement,Ma=traceur.syntax.trees.ThisExpression,Na=traceur.syntax.trees.ThrowStatement,Oa=traceur.syntax.trees.TraitDeclaration,Pa=traceur.syntax.trees.TryStatement,Qa=traceur.syntax.trees.UnaryExpression,
Ra=traceur.syntax.trees.VariableDeclarationList,Sa=traceur.syntax.trees.VariableDeclaration,Ta=traceur.syntax.trees.VariableStatement,Ua=traceur.syntax.trees.WhileStatement,Va=traceur.syntax.trees.WithStatement,aa=Array.prototype.slice.call.bind(Array.prototype.slice),Wa=Array.prototype.map.call.bind(Array.prototype.map);return{ParseTreeFactory:{createArgumentList:i,createArgumentListFromParameterList:k,createArrayLiteralExpression:l,createArrayPattern:function(a){return new P(null,a)},createAssignStateStatement:function(a){return w(t(I.STATE),
A(a))},createAssignmentExpression:o,createAssignmentStatement:w,createBinaryOperator:function(a,b,c){return new R(null,a,b,c)},createBlock:q,createBooleanLiteral:r,createBooleanLiteralToken:h,createBoundCall:function(a,b){return u(y(a.type==O.FUNCTION_DECLARATION?z(a):a,I.BIND),i(b))},createBreakStatement:function(){return new U(null,null)},createCallCall:s,createCallCallStatement:function(a,b,c){var d=aa(arguments,2);return x(s(a,b,d))},createCallExpression:u,createCallStatement:function(a,b){return b?
x(u(a,b)):x(u(a))},createCaseClause:function(a,b){return new Z(null,a,b)},createCatch:function(a,b){return new K(null,a,b)},createClassDeclaration:function(a,b,c){return new ga(null,a,b,c)},createCommaExpression:function(a){return new ba(null,a)},createConditionalExpression:function(a,b,c){return new ha(null,a,b,c)},createContinueStatement:function(){return new ca(null,null)},createDefaultClause:function(a){return new da(null,a)},createDefaultParameter:function(a,b){return new ea(null,a,b)},createDoWhileStatement:function(a,
b){return new ia(null,a,b)},createEmptyArgumentList:n,createEmptyArrayLiteralExpression:function(){return l([])},createEmptyBlock:function(){return q([])},createEmptyList:function(){return[]},createEmptyParameterList:j,createEmptyParameters:function(){return[]},createEmptyStatement:function(){return new ja(null)},createExpressionStatement:x,createFalseLiteral:function(){return r(false)},createFieldDeclaration:function(a,b,c){return new la(null,a,b,c)},createFinally:function(a){return new ma(null,
a)},createForEachStatement:function(a,b,c){return new na(null,a,b,c)},createForInStatement:function(a,b,c){return new oa(null,a,b,c)},createForStatement:function(a,b,c,d){return new pa(null,a,b,c,d)},createFunctionDeclaration:function(a,b,c){typeof a=="string"&&(a=f(a));return new W(null,a,false,b,c)},createFunctionExpression:v,createFunctionExpressionFormals:function(a,b){a instanceof Array&&(a=d(a));return new W(null,null,false,a,b)},createGetAccessor:function(a,b,c){typeof a=="string"&&(a=f(a));
return new fa(null,a,b,c)},createIdentifierExpression:t,createIdentifierToken:f,createIfStatement:function(a,b,c){return new ua(null,a,b,c||null)},createLabelledStatement:function(a,b){return new va(null,a,b)},createLookupGetter:function(a,b){return u(y(a,I.PROTOTYPE,I.LOOKUP_GETTER),i(C(b)))},createMemberExpression:y,createMemberLookupExpression:function(a,b){return new xa(null,a,b)},createMixin:function(a,b){return new ya(null,a,b)},createMixinResolveList:function(a){return new za(null,a)},createNewExpression:function(a,
b){return new Aa(null,a,b)},createNullLiteral:function(){return new $(null,e())},createNullLiteralToken:e,createNumberLiteral:A,createNumberLiteralToken:g,createObjectFreeze:function(a){return u(y(I.OBJECT,I.FREEZE),i(a))},createObjectLiteralExpression:function(a){a instanceof N&&(a=aa(arguments));return new Ba(null,a)},createObjectPattern:function(a){return new Ca(null,a)},createObjectPatternField:function(a,b){return new Da(null,a,b)},createOperatorToken:c,createParameterList:d,createParameterListWithRestParams:function(a){return b(a,
true)},createParameterReference:function(a){return t(I.getParameterName(a))},createParameters:function(a){if(a instanceof L)return[a.value];var b=[];a.parameters.forEach(function(a){a.isRestParameter()||b.push(a.identifierToken.value)});return b},createParenExpression:z,createPostfixExpression:function(a,b){return new qa(null,a,b)},createProgram:function(a){return new ra(null,a)},createPropertyNameAssignment:function(a,b){typeof a=="string"&&(a=f(a));return new sa(null,a,b)},createPropertyNameToken:function(a){return f(a)},
createRestParameter:F,createReturnStatement:function(a){return new Ga(null,a)},createScopedBlock:m,createScopedExpression:p,createScopedStatements:function(a){a instanceof N&&(a=aa(arguments));return m(q(a))},createSetAccessor:function(a,b,c,d){typeof a=="string"&&(a=f(a));typeof c=="string"&&(c=f(c));return new Ia(null,a,b,c,d)},createSpreadExpression:E,createSpreadPatternElement:function(a){return new Ka(null,a)},createStatementList:function(a,b){if(a instanceof Array){var c=a.slice();c.push.apply(c,
aa(arguments,1));return c}return aa(arguments)},createStringLiteral:C,createStringLiteralToken:a,createSwitchStatement:function(a,b){return new La(null,a,b)},createThisExpression:G,createThrowStatement:function(a){return new Na(null,a)},createTraitDeclaration:function(a,b){return new Oa(null,a,b)},createTrueLiteral:function(){return r(true)},createTryStatement:function(a,b,c){var d,e;arguments.length>2?(d=arguments[1],e=arguments[2]):(d=null,e=arguments[1]);return new Pa(null,a,d,e)},createUnaryExpression:function(a,
b){return new Qa(null,a,b)},createUndefinedExpression:function(){return t(I.UNDEFINED)},createUseStrictDirective:function(){return x(C("use strict"))},createVariableDeclaration:D,createVariableDeclarationList:B,createVariableStatement:H,createWhileStatement:function(a,b){return new Ua(null,a,b)},createWithStatement:function(a,b){return new Va(null,a,b)},createYieldStatement:function(a,b){return new Ha(null,a,b)}}}});
traceur.define("codegeneration",function(){function c(){}var f=traceur.codegeneration.ParseTreeFactory,a=f.createArgumentList,h=f.createArrayLiteralExpression,e=f.createArrayPattern,g=f.createBinaryOperator,d=f.createBlock,b=f.createCallExpression,j=f.createCaseClause,i=f.createCatch,k=f.createClassDeclaration,n=f.createCommaExpression,l=f.createConditionalExpression,o=f.createDefaultClause,q=f.createDefaultParameter,m=f.createDoWhileStatement,p=f.createExpressionStatement,p=f.createExpressionStatement,
u=f.createFieldDeclaration,s=f.createFinally,w=f.createForEachStatement,x=f.createForInStatement,v=f.createForStatement,t=f.createFunctionDeclaration,C=f.createGetAccessor,r=f.createIfStatement,A=f.createLabelledStatement,y=f.createMemberExpression,G=f.createMemberLookupExpression,z=f.createMixin,F=f.createMixinResolveList,E=f.createNewExpression,B=f.createObjectLiteralExpression,D=f.createObjectPattern,H=f.createObjectPatternField,L=f.createParenExpression,M=f.createPostfixExpression,O=f.createPropertyNameAssignment,
I=f.createReturnStatement,S=f.createSetAccessor,J=f.createSpreadExpression,N=f.createSpreadPatternElement,Q=f.createSwitchStatement,T=f.createThrowStatement,P=f.createTraitDeclaration,R=f.createTryStatement,X=f.createUnaryExpression,U=f.createVariableDeclaration,Y=f.createVariableDeclarationList,Z=f.createVariableStatement,K=f.createWhileStatement,ga=f.createWithStatement,ba=f.createYieldStatement,ha=traceur.syntax.trees.AwaitStatement,ca=traceur.syntax.trees.ExportDeclaration,da=traceur.syntax.trees.ExportPathList,
ea=traceur.syntax.trees.ExportPath,ia=traceur.syntax.trees.ExportPathSpecifierSet,ja=traceur.syntax.trees.ExportSpecifierSet,ka=traceur.syntax.trees.ImportDeclaration,la=traceur.syntax.trees.ImportPath,ma=traceur.syntax.trees.ModuleDeclaration,na=traceur.syntax.trees.ModuleDefinition,oa=traceur.syntax.trees.ModuleExpression,pa=traceur.syntax.trees.ModuleSpecifier,V=traceur.syntax.trees.Program,W=traceur.syntax.trees.QualifiedReference,fa=traceur.syntax.trees.getTreeNameForType;c.prototype={transformAny:function(a){return a==
null?null:this["transform"+fa(a.type)](a)},transformList:function(a){if(a==null||a.length==0)return a;for(var b=null,c=0;c<a.length;c++){var d=a[c],e=this.transformAny(d);if(b!=null||d!=e)b==null&&(b=a.slice(0,c)),b.push(e)}return b||a},toSourceElement:function(a){return a.isSourceElement()?a:p(a)},transformSourceElements:function(a){if(a==null||a.length==0)return a;for(var b=null,c=0;c<a.length;c++){var d=a[c],e=this.toSourceElement(this.transformAny(d));if(b!=null||d!=e)b==null&&(b=a.slice(0,c)),
b.push(e)}return b||a},transformArgumentList:function(b){var c=this.transformList(b.args);return c==b.args?b:a(c)},transformArrayLiteralExpression:function(a){var b=this.transformList(a.elements);return b==a.elements?a:h(b)},transformArrayPattern:function(a){var b=this.transformList(a.elements);return b==a.elements?a:e(b)},transformAwaitStatement:function(a){var b=this.transformAny(a.expression);return a.expression==b?a:new ha(null,a.identifier,b)},transformBinaryOperator:function(a){var b=this.transformAny(a.left),
c=this.transformAny(a.right);return b==a.left&&c==a.right?a:g(b,a.operator,c)},transformBlock:function(a){var b=this.transformList(a.statements);return b==a.statements?a:d(b)},transformBreakStatement:function(a){return a},transformCallExpression:function(a){var c=this.transformAny(a.operand),d=this.transformAny(a.args);return c==a.operand&&d==a.args?a:b(c,d)},transformCaseClause:function(a){var b=this.transformAny(a.expression),c=this.transformList(a.statements);return b==a.expression&&c==a.statements?
a:j(b,c)},transformCatch:function(a){var b=this.transformAny(a.catchBody);return b==a.catchBody?a:i(a.exceptionName,b)},transformClassDeclaration:function(a){var b=this.transformAny(a.superClass),c=this.transformList(a.elements);return b==a.superClass&&c==a.elements?a:k(a.name,b,c)},transformClassExpression:function(a){return a},transformCommaExpression:function(a){var b=this.transformList(a.expressions);return b==a.expressions?a:n(b)},transformConditionalExpression:function(a){var b=this.transformAny(a.condition),
c=this.transformAny(a.left),d=this.transformAny(a.right);return b==a.condition&&c==a.left&&d==a.right?a:l(b,c,d)},transformContinueStatement:function(a){return a},transformDebuggerStatement:function(a){return a},transformDefaultClause:function(a){var b=this.transformList(a.statements);return b==a.statements?a:o(b)},transformDefaultParameter:function(a){var b=this.transformAny(a.expression);return b==a.expression?a:q(a.identifier,b)},transformDoWhileStatement:function(a){var b=this.transformAny(a.body),
c=this.transformAny(a.condition);return b==a.body&&c==a.condition?a:m(b,c)},transformEmptyStatement:function(a){return a},transformExportDeclaration:function(a){var b=this.transformAny(a.declaration);return a.declaration==b?a:new ca(null,b)},transformExportPathList:function(a){var b=this.transformList(a.paths);return b==a.paths?a:new da(null,b)},transformExportPath:function(a){var b=this.transformAny(a.moduleExpresion),c=this.transformAny(a.specifier);return b==a.moduleExpresion&&c==a.specifier?a:
new ea(null,b,c)},transformExportSpecifier:function(a){return a},transformExportSpecifierSet:function(a){var b=this.transformList(a.specifiers);return b==a.specifiers?a:new ja(null,b)},transformExportPathSpecifierSet:function(a){var b=this.transformList(a.specifiers);return b==a.specifiers?a:new ia(null,b)},transformExportPathSpecifier:function(a){return a},transformExpressionStatement:function(a){var b=this.transformAny(a.expression);return b==a.expression?a:p(b)},transformFieldDeclaration:function(a){var b=
this.transformList(a.declarations);return b==a.declarations?a:u(a.isStatic,a.isConst,b)},transformFinally:function(a){var b=this.transformAny(a.block);return b==a.block?a:s(b)},transformForEachStatement:function(a){var b=this.transformAny(a.initializer),c=this.transformAny(a.collection),d=this.transformAny(a.body);return b==a.initializer&&c==a.collection&&d==a.body?a:w(b,c,d)},transformForInStatement:function(a){var b=this.transformAny(a.initializer),c=this.transformAny(a.collection),d=this.transformAny(a.body);
return b==a.initializer&&c==a.collection&&d==a.body?a:x(b,c,d)},transformForStatement:function(a){var b=this.transformAny(a.initializer),c=this.transformAny(a.condition),d=this.transformAny(a.increment),e=this.transformAny(a.body);return b==a.initializer&&c==a.condition&&d==a.increment&&e==a.body?a:v(b,c,d,e)},transformFormalParameterList:function(a){return a},transformFunctionDeclaration:function(a){var b=this.transformAny(a.formalParameterList),c=this.transformAny(a.functionBody);return b==a.formalParameterList&&
c==a.functionBody?a:t(a.name,b,c)},transformGetAccessor:function(a){var b=this.transformAny(a.body);return b==a.body?a:C(a.propertyName,a.isStatic,b)},transformIdentifierExpression:function(a){return a},transformIfStatement:function(a){var b=this.transformAny(a.condition),c=this.transformAny(a.ifClause),d=this.transformAny(a.elseClause);return b==a.condition&&c==a.ifClause&&d==a.elseClause?a:r(b,c,d)},transformImportDeclaration:function(a){var b=this.transformList(a.importPathList);return b==a.importPathList?
a:new ka(null,b)},transformImportPath:function(a){if(a.importSpecifierSet!=null){var b=this.transformList(a.importSpecifierSet);if(b!=a.importSpecifierSet)return new la(null,a.qualifiedPath,b)}return a},transformImportSpecifier:function(a){return a},transformLabelledStatement:function(a){var b=this.transformAny(a.statement);return b==a.statement?a:A(a.name,b)},transformLiteralExpression:function(a){return a},transformMemberExpression:function(a){var b=this.transformAny(a.operand);return b==a.operand?
a:y(b,a.memberName)},transformMemberLookupExpression:function(a){var b=this.transformAny(a.operand),c=this.transformAny(a.memberExpression);return b==a.operand&&c==a.memberExpression?a:G(b,c)},transformMissingPrimaryExpression:function(){throw Error("Should never transform trees that had errors during parse");},transformMixin:function(a){var b=this.transformAny(a.mixinResolves);return b==a.mixinResolves?a:z(a.name,b)},transformMixinResolve:function(a){return a},transformMixinResolveList:function(a){var b=
this.transformList(a.resolves);return b==a.resolves?a:F(b)},transformModuleDeclaration:function(a){var b=this.transformList(a.specifiers);return b==a.specifiers?a:new ma(null,b)},transformModuleDefinition:function(a){var b=this.transformList(a.elements);return b==a.elements?a:new na(null,a.name,b)},transformModuleExpression:function(a){var b=this.transformAny(a.reference);return b==a.reference?a:new oa(null,b,a.identifiers)},transformModuleRequire:function(a){return a},transformModuleSpecifier:function(a){var b=
this.transformAny(a.expression);return b==a.expression?a:new pa(null,a.identifier,b)},transformNewExpression:function(a){var b=this.transformAny(a.operand),c=this.transformAny(a.args);return b==a.operand&&c==a.args?a:E(b,c)},transformNullTree:function(a){return a},transformObjectLiteralExpression:function(a){var b=this.transformList(a.propertyNameAndValues);return b==a.propertyNameAndValues?a:B(b)},transformObjectPattern:function(a){var b=this.transformList(a.fields);return b==a.fields?a:D(b)},transformObjectPatternField:function(a){var b=
this.transformAny(a.element);return b==a.element?a:H(a.identifier,b)},transformParenExpression:function(a){var b=this.transformAny(a.expression);return b==a.expression?a:L(b)},transformPostfixExpression:function(a){var b=this.transformAny(a.operand);return b==a.operand?a:M(b,a.operator)},transformProgram:function(a){var b=this.transformList(a.programElements);return b==a.programElements?a:new V(null,b)},transformPropertyNameAssignment:function(a){var b=this.transformAny(a.value);return b==a.value?
a:O(a.name,b)},transformQualifiedReference:function(a){var b=this.transformAny(a.moduleExpression);return b==a.moduleExpression?a:new W(null,b,a.identifier)},transformRequiresMember:function(a){return a},transformRestParameter:function(a){return a},transformReturnStatement:function(a){var b=this.transformAny(a.expression);return b==a.expression?a:I(b)},transformSetAccessor:function(a){var b=this.transformAny(a.body);return b==a.body?a:S(a.propertyName,a.isStatic,a.parameter,b)},transformSpreadExpression:function(a){var b=
this.transformAny(a.expression);return b==a.expression?a:J(b)},transformSpreadPatternElement:function(a){var b=this.transformAny(a.lvalue);return b==a.lvalue?a:N(b)},transformStateMachine:function(){throw Error();},transformSuperExpression:function(a){return a},transformSwitchStatement:function(a){var b=this.transformAny(a.expression),c=this.transformList(a.caseClauses);return b==a.expression&&c==a.caseClauses?a:Q(b,c)},transformThisExpression:function(a){return a},transformThrowStatement:function(a){var b=
this.transformAny(a.value);return b==a.value?a:T(b)},transformTraitDeclaration:function(a){var b=this.transformList(a.elements);return b==a.elements?a:P(a.name,b)},transformTryStatement:function(a){var b=this.transformAny(a.body),c=this.transformAny(a.catchBlock),d=this.transformAny(a.finallyBlock);return b==a.body&&c==a.catchBlock&&d==a.finallyBlock?a:R(b,c,d)},transformUnaryExpression:function(a){var b=this.transformAny(a.operand);return b==a.operand?a:X(a.operator,b)},transformVariableDeclaration:function(a){var b=
this.transformAny(a.lvalue),c=this.transformAny(a.initializer);return b==a.lvalue&&c==a.initializer?a:U(b,c)},transformVariableDeclarationList:function(a){var b=this.transformList(a.declarations);return b==a.declarations?a:Y(a.declarationType,b)},transformVariableStatement:function(a){var b=this.transformAny(a.declarations);return b==a.declarations?a:Z(b)},transformWhileStatement:function(a){var b=this.transformAny(a.condition),c=this.transformAny(a.body);return b==a.condition&&c==a.body?a:K(b,c)},
transformWithStatement:function(a){var b=this.transformAny(a.expression),c=this.transformAny(a.body);return b==a.expression&&c==a.body?a:ga(b,c)},transformYieldStatement:function(a){var b=this.transformAny(a.expression),c=a.isYieldFor;return b==a.expression?a:ba(b,c)}};return{ParseTreeTransformer:c}});
traceur.define("codegeneration",function(){function c(a,b){f.call(this);this.oldName_=a;this.newName_=b;Object.freeze(this)}var f=traceur.codegeneration.ParseTreeTransformer,a=traceur.semantics.VariableBinder,h=a.variablesInFunction,e=a.variablesInBlock,g=traceur.codegeneration.ParseTreeFactory.createIdentifierExpression,d=traceur.syntax.PredefinedName;c.rename=function(a,b,d){return(new c(b,d)).transformAny(a)};var b=f.prototype;traceur.inherits(c,f,{__proto__:b,transformBlock:function(a){return this.oldName_ in
e(a)?a:b.transformBlock.call(this,a)},transformIdentifierExpression:function(a){return this.oldName_==a.identifierToken.value?g(this.newName_):a},transformFunctionDeclaration:function(a){this.oldName_==a.name&&(a=createFunctionDeclaration(this.newName_,a.formalParameterList,a.functionBody));return this.oldName_ in h(a)||d.ARGUMENTS==this.oldName_?a:b.transformFunctionDeclaration.call(this,a)},transformCatch:function(a){return this.oldName_==a.exceptionName.value?a:b.transformCatch.call(this,a)}});
return{AlphaRenamer:c}});
traceur.define("codegeneration",function(){function c(a){this.rvalue=a}function f(a){this.rvalue=a;this.statements=[]}function a(a){this.rvalue=a;this.declarations=[]}function h(){}var e=traceur.codegeneration.ParseTreeTransformer,g=traceur.codegeneration.ParseTreeFactory,d=traceur.codegeneration.AlphaRenamer,b=traceur.syntax.PredefinedName,j=traceur.syntax.TokenType,i=traceur.syntax.trees.ParseTreeType,k=g.createArgumentList,n=g.createAssignmentStatement,l=g.createBlock,o=g.createCallCall,q=g.createCallExpression,
m=g.createFunctionExpression,p=g.createIdentifierExpression,u=g.createMemberExpression,s=g.createMemberLookupExpression,w=g.createNumberLiteral,x=g.createParameterList,v=g.createParameterReference,t=g.createParenExpression,C=g.createReturnStatement,r=g.createThisExpression,A=g.createVariableDeclaration,y=g.createVariableDeclarationList;traceur.inherits(f,c,{__proto__:c.prototype,assign:function(a,b){this.statements.push(n(a,b))}});traceur.inherits(a,c,{__proto__:c.prototype,assign:function(a,b){this.declarations.push(A(a,
b))}});h.transformTree=function(a){return(new h).transformAny(a)};var G=e.prototype;traceur.inherits(h,e,{__proto__:G,transformArrayPattern:function(){throw Error("unreachable");},transformObjectPattern:function(){throw Error("unreachable");},transformBinaryOperator:function(a){return a.operator.type==j.EQUAL&&a.left.isPattern()?this.transformAny(this.desugarAssignment_(a.left,a.right)):G.transformBinaryOperator.call(this,a)},desugarAssignment_:function(a,c){var e=new f(v(0));this.desugarPattern_(e,
a);e.statements.push(C(e.rvalue));e=m(x(b.getParameterName(0),b.CAPTURED_ARGUMENTS),d.rename(l(e.statements),b.ARGUMENTS,b.CAPTURED_ARGUMENTS));return o(t(e),r(),c,p(b.ARGUMENTS))},transformVariableDeclarationList:function(a){if(!this.destructuringInDeclaration_(a))return G.transformVariableDeclarationList.call(this,a);var b=[];a.declarations.forEach(function(a){a.lvalue.isPattern()?b.push.apply(b,this.desugarVariableDeclaration_(a)):b.push(a)},this);return this.transformVariableDeclarationList(y(a.declarationType,
b))},destructuringInDeclaration_:function(a){return a.declarations.some(function(a){return a.lvalue.isPattern()})},desugarVariableDeclaration_:function(b){var c=new a(p(this.gensym_(b.lvalue)));c.assign(c.rvalue,b.initializer);this.desugarPattern_(c,b.lvalue);return c.declarations},desugarPattern_:function(a,c){switch(c.type){case i.ARRAY_PATTERN:for(var d=c,e=0;e<d.elements.length;e++){var f=d.elements[e];f.isNull()||(f.isSpreadPatternElement()?a.assign(f.lvalue,q(u(b.ARRAY,b.PROTOTYPE,b.SLICE,b.CALL),
k(a.rvalue,w(e)))):a.assign(f,s(a.rvalue,w(e))))}break;case i.OBJECT_PATTERN:c.fields.forEach(function(b){var c=u(a.rvalue,b.identifier);a.assign(b.element==null?p(b.identifier):b.element,c)});break;case i.PAREN_EXPRESSION:this.desugarPattern_(a,c.expression);break;default:throw Error("unreachable");}},gensym_:function(a){a=this.collectLvalueIdentifiers_(Object.create(null),a);a=Object.keys(a).sort();return"destructuring$"+a.join("$")},collectLvalueIdentifiers_:function(a,b){switch(b.type){case i.IDENTIFIER_EXPRESSION:a[b.identifierToken.value]=
true;break;case i.ARRAY_PATTERN:b.elements.forEach(function(b){this.collectLvalueIdentifiers_(a,b)},this);break;case i.OBJECT_PATTERN:b.fields.forEach(function(b){b.element==null?a[b.identifier.value]=true:this.collectLvalueIdentifiers_(a,b.element)},this);break;case i.PAREN_EXPRESSION:this.collectLvalueIdentifiers_(a,b.expression);break;default:throw Error("unreachable");}return a}});return{DestructuringTransformer:h}});
traceur.define("codegeneration",function(){function c(){g.call(this)}var f=traceur.syntax.TokenType,a=traceur.syntax.PredefinedName,h=traceur.syntax.trees.ParseTreeType,e=traceur.syntax.trees.FormalParameterList,g=traceur.codegeneration.ParseTreeTransformer,d=traceur.codegeneration.ParseTreeFactory,b=d.createVariableStatement,j=d.createConditionalExpression,i=d.createBinaryOperator,k=d.createMemberExpression,n=d.createOperatorToken,l=d.createNumberLiteral,o=d.createMemberLookupExpression,q=d.createIdentifierExpression,
m=d.createFunctionDeclaration,p=d.createBlock;c.transformTree=function(a){return(new c).transformAny(a)};traceur.inherits(c,g,{__proto__:g.prototype,transformFunctionDeclaration:function(a){var b=g.prototype.transformFunctionDeclaration.call(this,a);return this.hasDefaultParameters_(b.formalParameterList)?this.desugarDefaultParameters_(a):b},hasDefaultParameters_:function(a){return a.parameters.some(function(a){return a.type==h.DEFAULT_PARAMETER})},desugarDefaultParameters_:function(c){for(var d=
c.formalParameterList.parameters.filter(function(a){return a.type!=h.DEFAULT_PARAMETER}),d=new e(c.formalParameterList.location,d),g=[],x=0;x<c.formalParameterList.parameters.length;x++){var v=c.formalParameterList.parameters[x];v.type==h.DEFAULT_PARAMETER&&g.push(b(f.VAR,v.identifier.identifierToken,j(i(k(a.ARGUMENTS,a.LENGTH),n(f.CLOSE_ANGLE),l(x)),o(q(a.ARGUMENTS),l(x)),v.expression)))}g.push.apply(g,c.functionBody.statements);return m(c.name,d,p(g))}});return{DefaultParametersTransformer:c}});
traceur.define("codegeneration",function(){function c(){f.call(this)}var f=traceur.codegeneration.ParseTreeTransformer,a=traceur.codegeneration.ParseTreeFactory.createArgumentList,h=traceur.codegeneration.ParseTreeFactory.createBlock,e=traceur.codegeneration.ParseTreeFactory.createCallExpression,g=traceur.codegeneration.ParseTreeFactory.createFunctionDeclaration,d=traceur.codegeneration.ParseTreeFactory.createIdentifierExpression,b=traceur.codegeneration.ParseTreeFactory.createMemberExpression,j=
traceur.codegeneration.ParseTreeFactory.createNumberLiteral,i=traceur.codegeneration.ParseTreeFactory.createVariableStatement,k=traceur.syntax.PredefinedName,n=traceur.syntax.TokenType,l=traceur.syntax.trees.FormalParameterList;c.transformTree=function(a){return(new c).transformAny(a)};traceur.inherits(c,f,{__proto__:f.prototype,transformFunctionDeclaration:function(a){var b=a.formalParameterList.parameters;return b.length>0&&b[b.length-1].isRestParameter()?this.desugarRestParameters_(a):f.prototype.transformFunctionDeclaration.call(this,
a)},desugarRestParameters_:function(c){var f=new l(c.formalParameterList.location,c.formalParameterList.parameters.slice(0,c.formalParameterList.parameters.length-1)),m=e(b(k.ARRAY,k.PROTOTYPE,"slice",k.CALL),a(d(k.ARGUMENTS),j(c.formalParameterList.parameters.length-1))),p=c.formalParameterList.parameters,m=i(n.VAR,p[p.length-1].identifier.value,m),p=[];p.push(m);p.push.apply(p,c.functionBody.statements);return g(c.name,f,this.transformAny(h(p)))}});return{RestParameterTransformer:c}});
traceur.define("codegeneration",function(){function c(a){return a.some(function(a){return a.type==r.SPREAD_EXPRESSION})}function f(a){var b=[];a.forEach(function(a){a.type==r.SPREAD_EXPRESSION?(b.push(j(true)),b.push(a.expression)):(b.push(j(false)),b.push(a))});return d(b)}function a(a){a=f(a);return i(n(C,x,v),g(a))}function h(c,d,e){e=b(u(i(n(e,w),g(m(0),m(1)))));e=p(k(q(2),e));return i(e,g(d,a(c.args.args)))}function e(){}var g=traceur.codegeneration.ParseTreeFactory.createArgumentList,d=traceur.codegeneration.ParseTreeFactory.createArrayLiteralExpression,
b=traceur.codegeneration.ParseTreeFactory.createBlock,j=traceur.codegeneration.ParseTreeFactory.createBooleanLiteral,i=traceur.codegeneration.ParseTreeFactory.createCallExpression,k=traceur.codegeneration.ParseTreeFactory.createFunctionExpression,n=traceur.codegeneration.ParseTreeFactory.createMemberExpression,l=traceur.codegeneration.ParseTreeFactory.createMemberLookupExpression,o=traceur.codegeneration.ParseTreeFactory.createNullLiteral,q=traceur.codegeneration.ParseTreeFactory.createParameterList,
m=traceur.codegeneration.ParseTreeFactory.createParameterReference,p=traceur.codegeneration.ParseTreeFactory.createParenExpression,u=traceur.codegeneration.ParseTreeFactory.createReturnStatement,s=traceur.codegeneration.ParseTreeTransformer,w=traceur.syntax.PredefinedName.APPLY,x=traceur.syntax.PredefinedName.RUNTIME,v=traceur.syntax.PredefinedName.SPREAD,t=traceur.syntax.PredefinedName.SPREAD_NEW,C=traceur.syntax.PredefinedName.TRACEUR,r=traceur.syntax.trees.ParseTreeType;e.transformTree=function(a){return(new e).transformAny(a)};
traceur.inherits(e,s,{__proto__:s.prototype,transformArrayLiteralExpression:function(b){return c(b.elements)?a(b.elements):s.prototype.transformArrayLiteralExpression.call(this,b)},transformCallExpression:function(b){if(c(b.args.args))if(b.operand.type==r.MEMBER_EXPRESSION)var d=b.operand,b=h(b,d.operand,n(m(0),d.memberName));else b.operand.type==r.MEMBER_LOOKUP_EXPRESSION?(d=b.operand,b=h(b,d.operand,l(m(0),d.memberExpression))):b=i(n(b.operand,w),g(o(),a(b.args.args)));else b=s.prototype.transformCallExpression.call(this,
b);return b},transformNewExpression:function(a){return a.args!=null&&c(a.args.args)?i(n(C,x,t),g(a.operand,f(a.args.args))):s.prototype.transformNewExpression.call(this,a)}});return{SpreadTransformer:e}});traceur.define("codegeneration",function(){function c(){this.identifierIndex=0}c.prototype={generateUniqueIdentifier:function(){return"$__"+this.identifierIndex++}};return{UniqueIdentifierGenerator:c}});
traceur.define("codegeneration",function(){function c(b){a.call(this);this.identifierGenerator_=b;Object.freeze(this)}var f=traceur.syntax.TokenType,a=traceur.codegeneration.ParseTreeTransformer,h=traceur.syntax.PredefinedName,e=traceur.codegeneration.ParseTreeFactory,g=e.createBlock,d=e.createCallExpression,b=e.createCallStatement,j=e.createFinally,i=e.createIfStatement,k=e.createMemberExpression,n=e.createTryStatement,l=e.createVariableStatement,o=e.createWhileStatement;c.transformTree=function(a,
b){return(new c(a)).transformAny(b)};traceur.inherits(c,a,{__proto__:a.prototype,transformForEachStatement:function(c){var e=a.prototype.transformForEachStatement.call(this,c),p=this.identifierGenerator_.generateUniqueIdentifier(),c=l(f.VAR,p,d(k(e.collection,h.ITERATOR))),e=g(l(e.initializer.declarationType,e.initializer.declarations[0].lvalue.identifierToken,k(p,h.CURRENT)),e.body),e=o(d(k(p,h.MOVE_NEXT)),e),p=i(k(p,h.CLOSE),b(k(p,h.CLOSE)));return g(c,n(g(e),null,j(g(p))))}});return{ForEachTransformer:c}});
traceur.define("codegeneration",function(){function c(b){var c=b.name,d=b.tree;switch(d.type){case l:b=f(b.relatedTree,d.rhs||d.lhs);break;case n:b=(new a).transformAny(d.specifier);break;case q:b=b.relatedTree?f(b.relatedTree,d.identifierToken):d;break;case w:b=(new a).transformAny(d);break;default:b=E(c)}b=F(G(),r(I(b)));b=L(O(g.GET,b),O(g.ENUMERABLE,N()));return z(y(B(g.OBJECT,g.DEFINE_PROPERTY),C(J(),S(c),b)))}function f(b,c){var d=(new a).transformAny(b);return B(d,c)}function a(){t.call(this)}
function h(a,d){var f=a.getModule(d.name.value),n=[];n.push(Q());f.getExports().forEach(function(a){n.push(c(a))});n.push(z(H(J())));d.elements.forEach(function(a){switch(a.type){case p:n.push(e(f,a));break;case u:n.push(h(f,a));break;case i:a=a.declaration;switch(a.type){case u:n.push(h(f,a));break;case p:n.push(e(f,a));break;case k:break;case j:case o:case x:case v:n.push(a);break;default:throw Error("unreachable");}break;case m:throw Error("Not implemented");default:n.push(a)}});n.push(I(J()));
var O=y(B(g.OBJECT,g.CREATE),C(D()));return R(b.VAR,f.name,A(M(F(G(),r(n))),O))}function e(c,d){var e=new a,e=d.specifiers.map(e.transformAny,e),e=P(b.VAR,e);return R(e)}var g=traceur.syntax.PredefinedName,d=traceur.syntax.trees.Program,b=traceur.syntax.TokenType,j=traceur.syntax.trees.ParseTreeType.CLASS_DECLARATION,i=traceur.syntax.trees.ParseTreeType.EXPORT_DECLARATION,k=traceur.syntax.trees.ParseTreeType.EXPORT_PATH_LIST,n=traceur.syntax.trees.ParseTreeType.EXPORT_PATH_SPECIFIER,l=traceur.syntax.trees.ParseTreeType.EXPORT_SPECIFIER,
o=traceur.syntax.trees.ParseTreeType.FUNCTION_DECLARATION,q=traceur.syntax.trees.ParseTreeType.IDENTIFIER_EXPRESSION,m=traceur.syntax.trees.ParseTreeType.IMPORT_DECLARATION,p=traceur.syntax.trees.ParseTreeType.MODULE_DECLARATION,u=traceur.syntax.trees.ParseTreeType.MODULE_DEFINITION,s=traceur.syntax.trees.ParseTreeType.MODULE_REQUIRE,w=traceur.syntax.trees.ParseTreeType.QUALIFIED_REFERENCE,x=traceur.syntax.trees.ParseTreeType.TRAIT_DECLARATION,v=traceur.syntax.trees.ParseTreeType.VARIABLE_STATEMENT,
t=traceur.codegeneration.ParseTreeTransformer,C=traceur.codegeneration.ParseTreeFactory.createArgumentList,r=traceur.codegeneration.ParseTreeFactory.createBlock,A=traceur.codegeneration.ParseTreeFactory.createCallCall,y=traceur.codegeneration.ParseTreeFactory.createCallExpression,G=traceur.codegeneration.ParseTreeFactory.createEmptyParameterList,z=traceur.codegeneration.ParseTreeFactory.createExpressionStatement,F=traceur.codegeneration.ParseTreeFactory.createFunctionExpression,E=traceur.codegeneration.ParseTreeFactory.createIdentifierExpression,
B=traceur.codegeneration.ParseTreeFactory.createMemberExpression,D=traceur.codegeneration.ParseTreeFactory.createNullLiteral,H=traceur.codegeneration.ParseTreeFactory.createObjectFreeze,L=traceur.codegeneration.ParseTreeFactory.createObjectLiteralExpression,M=traceur.codegeneration.ParseTreeFactory.createParenExpression,O=traceur.codegeneration.ParseTreeFactory.createPropertyNameAssignment,I=traceur.codegeneration.ParseTreeFactory.createReturnStatement,S=traceur.codegeneration.ParseTreeFactory.createStringLiteral,
J=traceur.codegeneration.ParseTreeFactory.createThisExpression,N=traceur.codegeneration.ParseTreeFactory.createTrueLiteral,Q=traceur.codegeneration.ParseTreeFactory.createUseStrictDirective,T=traceur.codegeneration.ParseTreeFactory.createVariableDeclaration,P=traceur.codegeneration.ParseTreeFactory.createVariableDeclarationList,R=traceur.codegeneration.ParseTreeFactory.createVariableStatement;traceur.inherits(a,t,{__proto__:t.prototype,transformModuleExpression:function(a){var b=a.reference;if(b.type==
s)throw Error("Not implemented");return a.identifiers.length==0?b:B(b,a.identifiers)},transformModuleSpecifier:function(a){var b=this.transformAny(a.expression);return T(a.identifier,b)},transformQualifiedReference:function(a){return f(a.moduleExpression,a.identifier)}});a.transform=function(a,b){var c=a.getRootModule(),f=b.programElements.map(function(a){switch(a.type){case u:return h(c,a);case p:return e(c,a);default:return a}});return new d(b.location,f)};return{ModuleTransformer:a}});
traceur.define("codegeneration",function(){function c(a,b){f.call(this);if(b instanceof l)this.method_=b,b=b.containingAggregate;this.reporter_=a;this.aggregate_=b;Object.freeze(this)}var f=traceur.codegeneration.ParseTreeTransformer,a=traceur.syntax.PredefinedName,h=traceur.syntax.trees.ParseTreeType,e=traceur.syntax.trees.FunctionDeclaration,g=traceur.codegeneration.ParseTreeFactory,d=g.createArrayLiteralExpression,b=g.createCallCall,j=g.createIdentifierExpression,i=g.createMemberExpression,k=g.createStringLiteral,
n=g.createThisExpression,l=traceur.semantics.symbols.MethodSymbol,o=traceur.semantics.symbols.SymbolType,q=f.prototype;traceur.inherits(c,f,{__proto__:q,transformFunctionDeclaration:function(a){var b=new c(this.context_);return new e(null,a.name,a.isStatic,a.formalParameterList,b.transformBlock(a.functionBody))},transformCallExpression:function(c){if(c.operand.type==h.SUPER_EXPRESSION&&this.method_&&!this.method_.isStatic){var e=this.method_.name;if(e==a.NEW)e=a.CONSTRUCTOR;return b(i(a.TRACEUR,a.RUNTIME,
a.SUPER_CALL),n(),j(this.aggregate_.name),k(e),d(c.args.args))}return c.operand.type==h.MEMBER_EXPRESSION&&c.operand.operand.type==h.SUPER_EXPRESSION?(e=c.operand,this.validateSuperMember_(e),b(i(a.TRACEUR,a.RUNTIME,a.SUPER_CALL),n(),j(this.aggregate_.name),k(e.memberName.value),d(c.args.args))):q.transformCallExpression.call(this,c)},transformMemberExpression:function(c){switch(c.operand.type){case h.SUPER_EXPRESSION:return this.validateSuperMember_(c),b(i(a.TRACEUR,a.RUNTIME,a.SUPER_GET),n(),j(this.aggregate_.name),
k(c.memberName.value));case h.CLASS_EXPRESSION:var d=getClassExpression(c.operand);if(d==null)return null;var e=c.memberName.value;return d.getStaticMember(e)==null?(this.reportError_(c,'Class "%s" does not contain a member named "%s"',d.name,e),null):q.transformMemberExpression.call(this,c);default:return q.transformMemberExpression.call(this,c)}},validateSuperMember_:function(a){this.aggregate_==null&&this.reportError_(a.operand,'"super" expression not allowed outside a class declaration');this.aggregate_.type!=
o.CLASS&&this.reportError_(a.operand,'"super" expressions may only be used inside class members.')},transformSuperExpression:function(a){this.reportError_(a,'"super" may only be used on the LHS of a member access expression before a call (TODO wording)');return a},transformClassExpression:function(a){a=this.getClassExpression_(a);return a==null?null:j(a.name)},getClassExpression_:function(a){return this.aggregate_==null||this.aggregate_.type!=o.CLASS?(this.reportError_(a,'Cannot use "class" primary expressions outside of a class declaration.'),
null):this.aggregate_},reportError_:function(a,b,c){var d=Array.prototype.slice.call(arguments);d[0]=a.location.start;this.reporter_.reportError.apply(this.reporter_,d)}});return{FunctionTransformer:c}});
traceur.define("codegeneration",function(){function c(a){this.reporter_=a}var f=traceur.syntax.TokenType,a=traceur.syntax.PredefinedName,h=traceur.semantics.ClassAnalyzer,e=traceur.codegeneration.ParseTreeTransformer,g=traceur.codegeneration.FunctionTransformer,d=traceur.semantics.symbols.SymbolType,b=traceur.codegeneration.ParseTreeFactory,j=b.createArgumentList,i=b.createArrayLiteralExpression,k=b.createAssignmentStatement,n=b.createBlock,l=b.createBooleanLiteral,o=b.createCallExpression,q=b.createCallStatement,
m=b.createEmptyParameterList,p=b.createEmptyParameters,u=b.createFunctionDeclaration,s=b.createFunctionExpression,w=b.createFunctionExpressionFormals,x=b.createGetAccessor,v=b.createIdentifierExpression,t=b.createMemberExpression,C=b.createNullLiteral,r=b.createObjectLiteralExpression,A=b.createParameters,y=b.createPropertyNameAssignment,G=b.createSetAccessor,z=b.createStringLiteral,F=b.createThisExpression,E=b.createTrueLiteral,B=b.createUndefinedExpression,D=b.createVariableStatement;c.transform=
function(a,b){return(new c(a)).transformAny(b)};var H=e.prototype;traceur.inherits(c,e,{__proto__:H,transformTraitDeclaration:function(b){b=H.transformTraitDeclaration.call(this,b);b=h.analyzeTrait(this.reporter_,b);return D(f.LET,b.name,o(t(a.TRACEUR,a.RUNTIME,a.CREATE_TRAIT),j(r(this.transformInstanceMembers_(b)),this.createMixins_(b))))},transformClassDeclaration:function(b){var b=H.transformClassDeclaration.call(this,b),b=h.analyzeClass(this.reporter_,b),c=F(),d=b.tree.superClass;d||(d=C());return D(f.LET,
b.name,o(t(a.TRACEUR,a.RUNTIME,a.CREATE_CLASS),j(z(b.name),d,this.createStaticConstructor_(b),this.createConstructor_(b),this.createFieldInitializerMethod_(b),r(this.transformInstanceMembers_(b)),u(a.STATIC,m(),n(this.createStaticMembers_(c,b))),this.createMixins_(b))))},createMixins_:function(a){return a.mixins.length==0?C():i(a.mixins.map(this.createMixin_,this))},createMixin_:function(b){var c=v(b.name),b=b.mixinResolves;if(!b||b.resolves.length==0)return c;b=b.resolves.map(function(b){return y(b.from,
b.to==a.REQUIRES?t(a.TRACEUR,a.RUNTIME,a.TRAIT,a.REQUIRED):z(b.to))});return o(t(a.TRACEUR,a.RUNTIME,a.TRAIT,a.RESOLVE),j(r(b),c))},createStaticMembers_:function(a,b){var c=[];b.getStaticMembers().forEach(function(b){switch(b.type){case d.METHOD:c.push(this.transformStaticMethodAssignment_(a,b));break;case d.PROPERTY:c.push(this.transformStaticAccessor_(a,b));break;case d.FIELD:break;default:throw Error("Unexpected member type");}},this);b.getStaticMembers().forEach(function(b){switch(b.type){case d.METHOD:case d.PROPERTY:break;
case d.FIELD:c.push(this.transformStaticField_(a,b));break;default:throw Error("Unexpected member type");}},this);return c},transformStaticAccessor_:function(b,c){var d=c.get,e=c.set,f=c.containingAggregate,g=[];g.push(y(a.ENUMERABLE,E()));g.push(y(a.CONFIGURABLE,E()));d!=null&&g.push(y(a.GET,this.transformStaticMethod_(f,p(),d.tree.body)));e!=null&&g.push(y(a.SET,this.transformStaticMethod_(f,A(e.tree.parameter),e.tree.body)));return q(t(a.OBJECT,a.DEFINE_PROPERTY),j(b,z(c.name),r(g)))},transformStaticMethodAssignment_:function(a,
b){return k(t(a,b.name),this.transformStaticMethod_(b.containingAggregate,A(b.tree.formalParameterList),b.tree.functionBody))},transformStaticMethod_:function(a,b,c){return w(b,this.createFunctionTransformer_(a).transformBlock(c))},transformStaticField_:function(a,b){var c;c=b.tree.initializer==null?B():this.transformStaticFieldInitializer_(b,b.tree.initializer);return k(t(a,b.name),c)},transformStaticFieldInitializer_:function(a,b){return this.createFunctionTransformer_(a.containingAggregate).transformAny(b)},
transformInstanceMembers_:function(b){var c=[];b.getInstanceMembers().forEach(function(b){switch(b.type){case d.METHOD:b.isConstructor()||c.push(this.transformInstanceMethod_(b));break;case d.PROPERTY:b.get!=null&&c.push(this.transformInstanceGetAccessor_(b.get));b.set!=null&&c.push(this.transformInstanceSetAccessor_(b.set));break;case d.FIELD:break;case d.REQUIRES:c.push(y(b.name,t(a.TRACEUR,a.RUNTIME,a.TRAIT,a.REQUIRED)));break;default:throw Error("Unexpected member type");}},this);return c},transformInstanceGetAccessor_:function(a){var b=
this.createFunctionTransformer_(a.getContainingAggregate());return x(a.getName(),false,b.transformBlock(a.tree.body))},transformInstanceSetAccessor_:function(a){var b=this.createFunctionTransformer_(a.getContainingAggregate());return G(a.getName(),false,a.tree.parameter,b.transformBlock(a.tree.body))},transformInstanceMethod_:function(a){return y(a.name,s(a.tree.formalParameterList,this.transformMethodBody_(a)))},transformMethodBody_:function(a){var b=a.tree.functionBody;return this.createFunctionTransformer_(a).transformBlock(b)},
createFieldInitializerMethod_:function(b){b=this.transformFieldInitializers_(b);return b.length==0?B():u(a.INIT,m(),n(b))},createStaticConstructor_:function(a){var b=a.getStaticConstructor();return b?(b=b.tree,this.transformStaticMethod_(a,A(b.formalParameterList),b.functionBody)):C()},createConstructor_:function(a){return(a=a.getConstructor())?s(a.tree.formalParameterList,this.transformMethodBody_(a)):C()},transformFieldInitializers_:function(b){var c=this.createFunctionTransformer_(b);return b.getInstanceFields().map(function(b){var d;
d=b.tree.initializer==null?B():c.transformAny(b.tree.initializer);return q(t(a.OBJECT,a.DEFINE_PROPERTY),j(F(),z(b.name),r(y(a.VALUE,d),y(a.WRITABLE,l(!b.isConst())),y(a.ENUMERABLE,E()),y(a.CONFIGURABLE,E()))))})},createFunctionTransformer_:function(a){return new g(this.reporter_,a)}});return{ClassTransformer:c}});
traceur.define("codegeneration",function(){function c(){i.call(this)}function f(a,b){this.parent=a;this.type=b}function a(a,b){this.oldName=a;this.newName=b}function h(a,b){a.forEach(function(a){b=j.rename(b,a.oldName,a.newName)});return b}function e(a){return a.type==b.BLOCK?a:l(a)}var g=traceur.syntax.TokenType,d=traceur.syntax.trees.NullTree,b=traceur.syntax.trees.ParseTreeType,j=traceur.codegeneration.AlphaRenamer,i=traceur.codegeneration.ParseTreeTransformer,k=traceur.codegeneration.ParseTreeFactory,
n=k.createAssignmentExpression,l=k.createBlock,o=k.createCatch,q=k.createEmptyStatement,m=k.createExpressionStatement,p=k.createFinally,u=k.createForInStatement,s=k.createForStatement,w=k.createFunctionDeclaration,x=k.createGetAccessor,v=k.createIdentifierExpression,t=k.createIdentifierToken,C=k.createParenExpression,r=k.createSetAccessor,A=k.createThrowStatement,y=k.createTryStatement,G=k.createUndefinedExpression,z=k.createVariableDeclaration,F=k.createVariableDeclarationList,E=k.createVariableStatement,
B=g.CONST,D=g.LET,H=g.VAR;c.transformTree=function(a){return(new c).transformAny(a)};f.prototype={blockVariables:null,addBlockScopedVariable:function(a){if(!this.blockVariables)this.blockVariables=Object.create(null);this.blockVariables[a]=true}};var L=i.prototype;traceur.inherits(c,i,{__proto__:L,scope_:null,createProgramScope_:function(){return new f(this.scope__,"PROGRAM")},createFunctionScope_:function(){if(this.scope_==null)throw Error("Top level function scope found.");return new f(this.scope_,
"FUNCTION")},createBlockScope_:function(){if(this.scope_==null)throw Error("Top level block scope found.");return new f(this.scope_,"BLOCK")},push_:function(a){return this.scope_=a},pop_:function(a){if(this.scope_!=a)throw Error("BlockBindingTransformer scope mismatch");this.scope_=a.parent},transformBlock:function(a){var b=this.push_(this.createBlockScope_()),c=this.transformSourceElements(a.statements);b.blockVariables!=null?a=e(this.rewriteAsCatch_(b.blockVariables,l(c))):c!=a.statements&&(a=l(c));
this.pop_(b);return a},rewriteAsCatch_:function(a,b){for(var c in a)b=y(l(A(G())),o(t(c),e(b)),null);return b},transformClassDeclaration:function(){throw Error("ClassDeclaration should be transformed away.");},transformForInStatement:function(a){var c=a.body,d;if(a.initializer!=null&&a.initializer.type==b.VARIABLE_DECLARATION_LIST){d=a.initializer;if(d.declarations.length!=1)throw Error("for .. in has != 1 variables");var e=d.declarations[0],f=this.getVariableName_(e);switch(d.declarationType){case D:case B:if(e.initializer!=
null)throw Error("const/let in for-in may not have an initializer");d=F(g.VAR,"$"+f,null);c=this.prependToBlock_(E(g.LET,f,v("$"+f)),c);break;case H:d=this.transformVariables_(d);break;default:throw Error("Unreachable.");}}else d=this.transformAny(a.initializer);f=a;e=this.transformAny(a.collection);c=this.transformAny(c);if(d!=a.initializer||e!=a.collection||c!=a.body)f=u(d,e,c);return f},prependToBlock_:function(a,c){if(c.type==b.BLOCK){var d=[];d.push(a);d.push.apply(d,c.statements);return l(d)}else return l(a,
c)},transformForStatement:function(a){var c;if(a.initializer!=null&&a.initializer.type==b.VARIABLE_DECLARATION_LIST)switch(c=a.initializer,c.declarationType){case D:case B:return this.transformForLet_(a,c);case H:c=this.transformVariables_(c);break;default:throw Error("Reached unreachable.");}else c=this.transformAny(a.initializer);var d=this.transformAny(a.condition),e=this.transformAny(a.increment),f=this.transformAny(a.body),g=a;if(c!=a.initializer||d!=a.condition||e!=a.increment||f!=a.body)g=
s(c,d,e,f);return g},transformForLet_:function(b,c){var e=[],f=[],k=[],i=[];c.declarations.forEach(function(b){var c=this.getVariableName_(b),d="$"+c,b=h(i,b.initializer);k.push(z(d,b));e.push(z(c,v(d)));f.push(m(n(v(d),v(c))));i.push(new a(c,d))},this);var j=h(i,b.condition),q=h(i,b.increment);return this.transformAny(l(E(F(g.LET,k)),s(new d,j,q,l(E(F(g.LET,e)),y(b.body,new d,p(l(f)))))))},transformFunctionDeclaration:function(a){var b=this.transformFunctionBody_(a.functionBody);return a.name!=null&&
this.scope_.type=="BLOCK"?(this.scope_.addBlockScopedVariable(a.name.value),C(n(v(a.name),w(a.name,a.formalParameterList,b)))):b!=a.functionBody?w(a.name,a.formalParameterList,b):a},transformGetAccessor:function(a){var b=this.transformFunctionBody_(a.body);b!=a.body&&(a=x(a.propertyName,a.isStatic,b));return a},transformMixin:function(){throw Error("Mixin should be transformed away.");},transformProgram:function(a){var b=this.push_(this.createProgramScope_()),a=L.transformProgram.call(this,a);this.pop_(b);
return a},transformSetAccessor:function(a){var b=this.transformFunctionBody_(a.body);b!=a.body&&(a=r(a.propertyName,a.isStatic,a.parameter,b));return a},transformTraitDeclaration:function(){throw Error("Trait should be transformed away.");},transformVariableDeclaration:function(){throw Error("Should never see variable declaration tree.");},transformVariableDeclarationList:function(){throw Error("Should never see variable declaration list.");},transformVariableStatement:function(a){if(this.scope_.type==
"BLOCK")switch(a.declarations.declarationType){case B:case D:return this.transformBlockVariables_(a.declarations)}var b=this.transformVariables_(a.declarations);b!=a.declarations&&(a=E(b));return a},transformBlockVariables_:function(a){var b=[];a.declarations.forEach(function(c){switch(a.declarationType){case D:case B:break;default:throw Error("Only let/const allowed here.");}var d=this.getVariableName_(c);this.scope_.addBlockScopedVariable(d);c=this.transformAny(c.initializer);c!=null&&b.push(n(v(d),
c))},this);switch(b.length){case 0:return q();case 1:return m(b[0]);default:for(var c=0;c<b.length;c++)b[c]=m(b[c]);return l(b)}},transformVariables_:function(a){for(var b=a.declarations,c=null,d=0;d<b.length;d++){var e=b[d],f=this.getVariableName_(e),h=this.transformAny(e.initializer);if(c!=null||h!=e.initializer)c==null&&(c=[],c.push.apply(c,b.slice(0,d))),c.push(z(t(f),h))}if(c!=null||a.declarationType==g.LET)a=F(a.declarationType==g.LET?g.VAR:a.declarationType,c!=null?c:a.declarations);return a},
transformFunctionBody_:function(a){var b=this.push_(this.createFunctionScope_()),a=this.transformBlockStatements_(a);this.pop_(b);return a},transformBlockStatements_:function(a){var b=this.transformSourceElements(a.statements);this.scope_.blockVariables!=null?a=e(this.rewriteAsCatch_(this.scope_.blockVariables,l(b))):b!=a.statements&&(a=l(b));return a},getVariableName_:function(a){a=a.lvalue;if(a.type==b.IDENTIFIER_EXPRESSION)return a.identifierToken.value;else throw Error("Unexpected destructuring declaration found.");
}});return{BlockBindingTransformer:c}});
traceur.define("codegeneration.generator",function(){function c(a){h.call(this);this.identifierGenerator_=a;Object.freeze(this)}var f=traceur.syntax.TokenType,a=traceur.syntax.trees.ParseTreeType,h=traceur.codegeneration.ParseTreeTransformer,e=traceur.syntax.PredefinedName,g=traceur.codegeneration.ParseTreeFactory,d=g.createArgumentList,b=g.createAssignmentStatement,j=g.createBinaryOperator,i=g.createBlock,k=g.createCallStatement,n=g.createContinueStatement,l=g.createEmptyArrayLiteralExpression,o=
g.createForInStatement,q=g.createForStatement,m=g.createIdentifierExpression,p=g.createIfStatement,u=g.createMemberExpression,s=g.createMemberLookupExpression,w=g.createNumberLiteral,x=g.createOperatorToken,v=g.createParenExpression,t=g.createPostfixExpression,C=g.createUnaryExpression,r=g.createVariableDeclarationList,A=g.createVariableStatement;c.transformTree=function(a,b){return(new c(a)).transformAny(b)};traceur.inherits(c,h,{__proto__:h.prototype,transformForInStatement:function(c){var g=[],
h=this.transformAny(c.body);h.type==a.BLOCK?g.push.apply(g,h.statements):g.push(h);var h=[],F=this.identifierGenerator_.generateUniqueIdentifier();h.push(A(f.VAR,F,l()));var E=this.identifierGenerator_.generateUniqueIdentifier();h.push(A(f.VAR,E,c.collection));var B=this.identifierGenerator_.generateUniqueIdentifier();h.push(o(r(f.VAR,B,null),m(E),k(u(F,e.PUSH),d(m(B)))));var B=this.identifierGenerator_.generateUniqueIdentifier(),D=s(m(F),m(B)),H;if(c.initializer.type==a.VARIABLE_DECLARATION_LIST)c=
c.initializer,H=c.declarations[0].lvalue,c=A(c.declarationType,H.identifierToken,D);else if(c.initializer.type==a.IDENTIFIER_EXPRESSION)H=c.initializer,c=b(c.initializer,D);else throw Error("Invalid left hand side of for in loop");D=[];D.push(c);D.push(p(C(x(f.BANG),v(j(H,x(f.IN),m(E)))),n(),null));D.push.apply(D,g);h.push(q(r(f.VAR,B,w(0)),j(m(B),x(f.OPEN_ANGLE),u(F,e.LENGTH)),t(m(B),x(f.PLUS_PLUS)),i(D)));return i(h)}});return{ForInTransformPass:c}});
traceur.define("codegeneration.generator",function(){function c(a){this.id=a}var f=traceur.syntax.PredefinedName,a=traceur.codegeneration.ParseTreeFactory,h=a.createCaseClause,e=a.createStatementList,g=a.createBreakStatement,e=a.createStatementList,d=a.createAssignmentStatement,b=a.createAssignStateStatement,j=a.createIdentifierExpression,i=a.createNumberLiteral;c.INVALID_STATE=-1;c.generateJump=function(a,b){return e(c.generateAssignState(a,b),g())};c.generateJumpThroughFinally=function(a,b){return e(c.generateAssignStateOutOfFinally_(b,
a),g())};c.generateAssignState=function(a,d){return a!=null&&a.tryStates.indexOf(d)<0?c.generateAssignStateOutOfFinally(a,d):e(b(d))};c.generateAssignStateOutOfFinally=function(a,b){return c.generateAssignStateOutOfFinally_(b,a.finallyState)};c.generateAssignStateOutOfFinally_=function(a,c){return e(b(c),d(j(f.FINALLY_FALL_THROUGH),i(a)))};c.replaceStateList=function(a,b,d){for(var e=[],f=0;f<a.length;f++)e.push(c.replaceStateId(a[f],b,d));return e};c.replaceStateId=function(a,b,c){return a==b?c:
a};c.replaceAllStates=function(a,b,c){for(var d=[],e=0;e<a.length;e++)d.push(a[e].replaceState(b,c));return d};c.prototype={transformMachineState:function(a,b,c){return h(i(this.id),this.transform(a,b,c))},transformBreak:function(){return this},transformBreakOrContinue:function(){return this}};return{State:c}});
traceur.define("codegeneration.generator",function(){function c(a,c,e){f.call(this,a);this.fallThroughState=c;this.statements=e}var f=traceur.codegeneration.generator.State;traceur.inherits(c,f,{__proto__:f.prototype,replaceState:function(a,h){return new c(f.replaceStateId(this.id,a,h),f.replaceStateId(this.fallThroughState,a,h),this.statements)},transform:function(a){var c=[];c.push.apply(c,this.statements);c.push.apply(c,f.generateJump(a,this.fallThroughState));return c}});return{FallThroughState:c}});
traceur.define("codegeneration.generator",function(){function c(a,c,e){this.kind=a;this.tryStates=c;this.nestedTrys=e}var f=traceur.codegeneration.generator.State;c.Kind={CATCH:"catch",FINALLY:"finally"};c.prototype={replaceAllStates:function(a,c){return f.replaceStateList(this.tryStates,a,c)},replaceNestedTrys:function(a,c){for(var e=[],f=0;f<this.nestedTrys.length;f++)e.push(this.nestedTrys[f].replaceState(a,c));return e}};return{TryState:c}});
traceur.define("codegeneration.generator",function(){function c(a,c){f.call(this,a);this.label=c}var f=traceur.codegeneration.generator.State,a=traceur.codegeneration.generator.FallThroughState,h=traceur.codegeneration.ParseTreeFactory.createStatementList;traceur.inherits(c,f,{__proto__:f.prototype,replaceState:function(a,g){return new c(f.replaceStateId(this.id,a,g),this.label)},transform:function(){throw Error("These should be removed before the transform step");},transformBreak:function(c,f){return this.label==
null||this.label in c?new a(this.id,f,h()):this},transformBreakOrContinue:function(a,c){return this.transformBreak(a,c)}});return{BreakState:c}});
traceur.define("codegeneration.generator",function(){function c(c,e,f,d,b){a.call(this,a.Kind.CATCH,d,b);this.identifier=c;this.catchState=e;this.fallThroughState=f}var f=traceur.codegeneration.generator.State,a=traceur.codegeneration.generator.TryState;traceur.inherits(c,a,{__proto__:a.prototype,replaceState:function(a,e){return new c(this.identifier,f.replaceStateId(this.catchState,a,e),f.replaceStateId(this.fallThroughState,a,e),this.replaceAllStates(a,e),this.replaceNestedTrys(a,e))}});return{CatchState:c}});
traceur.define("codegeneration.generator",function(){function c(a,c,b,e){f.call(this,a);this.ifState=c;this.elseState=b;this.condition=e}var f=traceur.codegeneration.generator.State,a=traceur.codegeneration.ParseTreeFactory,h=a.createBlock,e=a.createIfStatement;traceur.inherits(c,f,{__proto__:f.prototype,replaceState:function(a,d){return new c(f.replaceStateId(this.id,a,d),f.replaceStateId(this.ifState,a,d),f.replaceStateId(this.elseState,a,d),this.condition)},transform:function(a){return[e(this.condition,
h(f.generateJump(a,this.ifState)),h(f.generateJump(a,this.elseState)))]}});return{ConditionalState:c}});
traceur.define("codegeneration.generator",function(){function c(a,c){f.call(this,a);this.label=c}var f=traceur.codegeneration.generator.State,a=traceur.codegeneration.generator.FallThroughState,h=traceur.codegeneration.ParseTreeFactory.createStatementList;traceur.inherits(c,f,{__proto__:f.prototype,replaceState:function(a,g){return new c(f.replaceStateId(this.id,a,g),this.label)},transform:function(){throw Error("These should be removed before the transform step");},transformBreakOrContinue:function(c,
f,d){return this.label==null||this.label in c?new a(this.id,d,h()):this}});return{ContinueState:c}});traceur.define("codegeneration.generator",function(){function c(a){f.call(this,a)}var f=traceur.codegeneration.generator.State;traceur.inherits(c,f,{__proto__:f.prototype,replaceState:function(a,h){return new c(f.replaceStateId(this.id,a,h))},transform:function(a,c){return f.generateJump(a,c)}});return{EndState:c}});
traceur.define("codegeneration.generator",function(){function c(a){f.call(this,a)}var f=traceur.codegeneration.generator.State;traceur.inherits(c,f,{__proto__:f.prototype,replaceState:function(a,h){return new c(f.replaceStateId(this.id,a,h))},transformMachineState:function(){return null},transform:function(){throw Error("these are generated in addFinallyFallThroughDispatches");}});return{FinallyFallThroughState:c}});
traceur.define("codegeneration.generator",function(){function c(c,e,f,d){a.call(this,a.Kind.FINALLY,f,d);this.finallyState=c;this.fallThroughState=e}var f=traceur.codegeneration.generator.State,a=traceur.codegeneration.generator.TryState;traceur.inherits(c,a,{__proto__:a.prototype,replaceState:function(a,e){return new c(f.replaceStateId(this.finallyState,a,e),f.replaceStateId(this.fallThroughState,a,e),this.replaceAllStates(a,e),this.replaceNestedTrys(a,e))}});return{FinallyState:c}});
traceur.define("codegeneration.generator",function(){function c(a,b){this.first=a;this.second=b;Object.freeze(this)}function f(a,b,c){g.call(this,a);this.expression=b;this.clauses=c}var a=traceur.syntax.trees.CaseClause,h=traceur.syntax.trees.DefaultClause,e=traceur.syntax.trees.SwitchStatement,g=traceur.codegeneration.generator.State,d=traceur.codegeneration.ParseTreeFactory,b=d.createStatementList,j=d.createBreakStatement;traceur.inherits(f,g,{__proto__:g.prototype,replaceState:function(a,b){var d=
this.clauses.map(function(d){return new c(d.first,g.replaceStateId(d.second,a,b))});return new f(g.replaceStateId(this.id,a,b),this.expression,d)},transform:function(c){for(var d=[],f=0;f<this.clauses.length;f++){var l=this.clauses[f];l.first==null?d.push(new h(null,g.generateJump(c,l.second))):d.push(new a(null,l.first,g.generateJump(c,l.second)))}return b(new e(null,this.expression,d),j())}});return{SwitchClause:c,SwitchState:f}});
traceur.define("codegeneration.generator",function(){function c(b,c,d){a.call(this,b);this.fallThroughState=c;this.expression=d}var f=traceur.syntax.PredefinedName,a=traceur.codegeneration.generator.State,h=traceur.codegeneration.ParseTreeFactory,e=h.createAssignmentStatement,g=h.createMemberExpression,d=h.createReturnStatement,b=h.createTrueLiteral;traceur.inherits(c,a,{__proto__:a.prototype,replaceState:function(b,d){return new c(a.replaceStateId(this.id,b,d),a.replaceStateId(this.fallThroughState,
b,d),this.expression)},transform:function(c){var h=[];h.push(e(g(f.RESULT,f.CURRENT),this.expression));h.push.apply(h,a.generateAssignState(c,this.fallThroughState));h.push(d(b()));return h}});return{YieldState:c}});traceur.define("codegeneration.generator",function(){function c(){}c.prototype={nextState_:traceur.codegeneration.generator.State.INVALID_STATE+1,allocateState:function(){return this.nextState_++}};return{StateAllocator:c}});
traceur.define("syntax.trees",function(){function c(a,b,c,f){h.call(this,e.STATE_MACHINE,null);this.startState=a;this.fallThroughState=b;this.states=c;this.exceptionBlocks=f;Object.freeze(this)}function f(a,b,c){for(var e=0;e<c.length;e++){var g=c[e];if(g.kind==a)for(var h=0;h<g.tryStates.length;h++)b[g.tryStates[h]]=g;f(a,b,g.nestedTrys)}}function a(c,b){for(var e=0;e<c.length;e++){var f=c[e];f.kind==g.Kind.CATCH&&b.push(f);a(f.nestedTrys,b)}}var h=traceur.syntax.trees.ParseTree,e=traceur.syntax.trees.ParseTreeType,
g=traceur.codegeneration.generator.TryState;traceur.inherits(c,h,{__proto__:h.prototype,hasExceptionBlocks:function(){return this.exceptionBlocks.length>0},getAllStateIDs:function(){for(var a=[],b=0;b<this.states.length;b++)a.push(this.states[b].id);return a},getEnclosingFinallyMap:function(){var a=Object.create(null);f(g.Kind.FINALLY,a,this.exceptionBlocks);return a},getEnclosingCatchMap:function(){var a=Object.create(null);f(g.Kind.CATCH,a,this.exceptionBlocks);return a},allCatchStates:function(){var c=
[];a(this.exceptionBlocks,c);return c}});return{StateMachine:c}});
traceur.define("codegeneration.generator",function(){function c(a){f.call(this);this.transformBreaks_=true;this.stateAllocator_=a}var f=traceur.codegeneration.ParseTreeTransformer,a=traceur.codegeneration.generator.BreakState,h=traceur.codegeneration.generator.ContinueState,e=traceur.syntax.trees.StateMachine,g=f.prototype;traceur.inherits(c,f,{__proto__:g,allocateState_:function(){return this.stateAllocator_.allocateState()},stateToStateMachine_:function(a){var b=this.allocateState_();return new e(a.id,
b,[a],[])},transformBreakStatement:function(c){return this.transformBreaks_?this.stateToStateMachine_(new a(this.allocateState_(),c.name?c.name.value:null)):c},transformContinueStatement:function(a){return this.stateToStateMachine_(new h(this.allocateState_(),a.name?a.name.value:null))},transformDoWhileStatement:function(a){return a},transformForEachStatement:function(a){return a},transformForStatement:function(a){return a},transformFunctionDeclaration:function(a){return a},transformStateMachine:function(a){return a},
transformSwitchStatement:function(a){var b=this.transformBreaks_;this.transformBreaks=false;a=g.transformSwitchStatement.call(this,a);this.transformBreaks_=b;return a},transformWhileStatement:function(a){return a}});return{BreakContinueTransformer:c}});
traceur.define("codegeneration.generator",function(){function c(a){h.call(this);this.reporter=a;this.stateAllocator_=new R;this.labelSet_=Object.create(null)}var f=traceur.syntax.TokenType,a=traceur.syntax.trees.ParseTreeType,h=traceur.codegeneration.ParseTreeTransformer,e=traceur.syntax.PredefinedName,g=traceur.syntax.trees.CaseClause,d=traceur.syntax.trees.StateMachine,b=traceur.syntax.trees.SwitchStatement,j=traceur.codegeneration.ParseTreeFactory,i=j.createArrayLiteralExpression,k=j.createAssignStateStatement,
n=j.createAssignmentExpression,l=j.createAssignmentStatement,o=j.createBinaryOperator,q=j.createBlock,m=j.createBoundCall,p=j.createBreakStatement,u=j.createCaseClause,s=j.createCatch,w=j.createDefaultClause,x=j.createEmptyParameterList,v=j.createEmptyStatement,t=j.createExpressionStatement,C=j.createFunctionExpression,r=j.createIdentifierExpression,A=j.createIdentifierToken,y=j.createNumberLiteral,G=j.createOperatorToken,z=j.createStatementList,F=j.createStringLiteral,E=j.createSwitchStatement,B=
j.createThisExpression,D=j.createThrowStatement,H=j.createTrueLiteral,L=j.createTryStatement,M=j.createVariableStatement,O=j.createWhileStatement,I=traceur.codegeneration.generator.BreakContinueTransformer,S=traceur.codegeneration.generator.CatchState,J=traceur.codegeneration.generator.ConditionalState,N=traceur.codegeneration.generator.FallThroughState,Q=traceur.codegeneration.generator.FinallyFallThroughState,T=traceur.codegeneration.generator.FinallyState,P=traceur.codegeneration.generator.State,
R=traceur.codegeneration.generator.StateAllocator,d=traceur.syntax.trees.StateMachine,X=traceur.codegeneration.generator.SwitchState,U=traceur.codegeneration.generator.SwitchClause,Y=traceur.codegeneration.generator.TryState,Z=traceur.semantics.VariableBinder,K=h.prototype;traceur.inherits(c,h,{__proto__:K,allocateState:function(){return this.stateAllocator_.allocateState()},transformBlock:function(a){this.clearLabels_();var a=K.transformBlock.call(this,a),b=this.transformStatementList_(a.statements);
return b==null?a:b},transformStatementList_:function(a){if(!this.containsStateMachine_(a))return null;for(var b=this.ensureTransformed_(a[0]),c=1;c<a.length;c++)b=this.createSequence_(b,this.ensureTransformed_(a[c]));return b},containsStateMachine_:function(c){if(c instanceof Array){for(var d=0;d<c.length;d++)if(c[d].type==a.STATE_MACHINE)return true;return false}traceur.assert(c instanceof b);for(d=0;d<c.caseClauses.length;d++)if(this.containsStateMachine_(c.caseClauses[d].statements))return true;
return false},transformCaseClause:function(a){var a=K.transformCaseClause.call(this,a),b=this.transformStatementList_(a.statements);return b==null?a:new g(null,a.expression,z(b))},transformDoWhileStatement:function(b){var c=this.clearLabels_(),b=K.transformDoWhileStatement.call(this,b);if(b.body.type!=a.STATE_MACHINE)return b;var e=b.body,f=e.startState,g=e.fallThroughState,h=this.allocateState(),i=[];this.addLoopBodyStates_(e,g,h,c,i);i.push(new J(g,f,h,b.condition));return new d(f,h,i,e.exceptionBlocks)},
addLoopBodyStates_:function(a,b,c,d,e){for(var f=0;f<a.states.length;f++)e.push(a.states[f].transformBreakOrContinue(d,c,b))},transformForStatement:function(b){var c=this.clearLabels_(),b=K.transformForStatement.call(this,b);if(b.body.type!=a.STATE_MACHINE)return b;var e=b.body,f=e.fallThroughState,g=b.increment==null&&b.condition!=null?f:this.allocateState(),h=b.initializer==null?g:this.allocateState(),i=this.allocateState(),k=[];b.initializer!=null&&k.push(new N(h,g,z(t(b.initializer))));b.condition!=
null?k.push(new J(g,e.startState,i,b.condition)):k.push(new N(g,e.startState,z()));b.increment!=null&&k.push(new N(f,g,z(t(b.increment))));this.addLoopBodyStates_(e,f,i,c,k);return new d(h,i,k,e.exceptionBlocks)},transformForInStatement:function(a){return a},transformForEachStatement:function(){throw Error("foreach statements should be transformed before this pass");},transformIfStatement:function(b){this.clearLabels_();b=K.transformIfStatement.call(this,b);if(b.ifClause.type!=a.STATE_MACHINE&&(b.elseClause==
null||b.elseClause.type!=a.STATE_MACHINE))return b;var c=this.ensureTransformed_(b.ifClause),e=this.ensureTransformed_(b.elseClause),f=this.allocateState(),g=c.fallThroughState,h=[],i=[];h.push(new J(f,c.startState,e==null?g:e.startState,b.condition));h.push.apply(h,c.states);i.push.apply(i,c.exceptionBlocks);e!=null&&(this.replaceAndAddStates_(e.states,e.fallThroughState,g,h),i.push.apply(i,P.replaceAllStates(e.exceptionBlocks,e.fallThroughState,g)));return new d(f,g,h,i)},replaceAndAddStates_:function(a,
b,c,d){for(var e=0;e<a.length;e++)d.push(a[e].replaceState(b,c))},transformLabelledStatement:function(a){var b=this.addLabel_(a.name.value),a=this.transformAny(a.statement);this.restoreLabels_(b);return a},clearLabels_:function(){var a=this.labelSet_;this.labelSet_=Object.create(null);return a},restoreLabels_:function(a){this.labelSet_=a},addLabel_:function(a){var b=this.labelSet_,c=Object.create(null),d;for(d in this.labelSet_)c[d]=d;c[a]=a;this.labelSet_=c;return b},transformSwitchStatement:function(b){var c=
this.clearLabels_(),b=K.transformSwitchStatement.call(this,b);if(!this.containsStateMachine_(b))return b;for(var e=this.allocateState(),f=this.allocateState(),g=f,h=[],i=[],k=[],j=false,v=b.caseClauses.length-1;v>=0;v--){var q=b.caseClauses[v];q.type==a.CASE_CLAUSE?(g=this.addSwitchClauseStates_(g,f,c,q.statements,h,k),i.push(new U(q.expression,g))):(j=true,g=this.addSwitchClauseStates_(g,f,c,q.statements,h,k),i.push(new U(null,g)))}j||i.push(new U(null,f));h.push(new X(e,b.expression,i.reverse()));
return new d(e,f,h.reverse(),k)},addSwitchClauseStates_:function(a,b,c,d,e,f){for(var d=this.ensureTransformedList_(d),g=0;g<d.states.length;g++){var h=d.states[g].transformBreak(c,b);e.push(h.replaceState(d.fallThroughState,a))}f.push.apply(f,d.exceptionBlocks);return d.startState},transformTryStatement:function(b){this.clearLabels_();var c=K.transformTryStatement.call(this,b);if(c.body.type!=a.STATE_MACHINE&&(c.catchBlock==null||c.catchBlock.catchBody.type!=a.STATE_MACHINE))return c;b=this.ensureTransformed_(c.body);
if(c.catchBlock!=null){var f=c.catchBlock,g=f.exceptionName.value,h=this.ensureTransformed_(f.catchBody),f=b.startState,i=b.fallThroughState,k=this.allocateState(),j=[];j.push.apply(j,b.states);j.push(new N(k,h.startState,z(l(r(g),r(e.STORED_EXCEPTION)))));this.replaceAndAddStates_(h.states,h.fallThroughState,i,j);b=new d(f,i,j,[new S(g,k,i,b.getAllStateIDs(),b.exceptionBlocks)])}if(c.finallyBlock!=null)c=this.ensureTransformed_(c.finallyBlock.block),f=b.startState,i=b.fallThroughState,j=[],j.push.apply(j,
b.states),j.push.apply(j,c.states),j.push(new Q(c.fallThroughState)),b=new d(f,i,j,[new T(c.startState,c.fallThroughState,b.getAllStateIDs(),b.exceptionBlocks)]);return b},transformVariableStatement:function(b){var c=this.transformVariableDeclarationList(b.declarations);return c==b.declarations?b:c==null?v():c.type==a.VARIABLE_DECLARATION_LIST?M(c):t(c)},transformVariableDeclarationList:function(a){if(a.declarationType==f.VAR){for(var b=[],c=0;c<a.declarations.length;c++){var d=a.declarations[c];
d.initializer!=null&&b.push(n(this.transformAny(d.lvalue),this.transformAny(d.initializer)))}return b.length==0?null:b.length==1?b[0]:i(b)}return K.transformVariableDeclarationList.call(this,a)},transformWhileStatement:function(b){var c=this.clearLabels_(),b=K.transformWhileStatement.call(this,b);if(b.body.type!=a.STATE_MACHINE)return b;var e=b.body,f=e.fallThroughState,g=this.allocateState(),h=[];h.push(new J(f,e.startState,g,b.condition));this.addLoopBodyStates_(e,f,g,c,h);return new d(f,g,h,e.exceptionBlocks)},
transformWithStatement:function(b){b=K.transformWithStatement.call(this,b);if(b.body.type!=a.STATE_MACHINE)return b;throw Error("Unreachable - with statement not allowed in strict mode/harmony");},transformThisExpression:function(){return r(e.THAT)},generateMachineMethod:function(a){return m(C(x(),q(O(H(),this.generateMachine(a)))),r(e.THAT))},generateHoistedThis:function(){return M(f.VAR,e.THAT,B())},generateMachine:function(a){var b=a.getEnclosingFinallyMap(),c=a.getEnclosingCatchMap(),d=this.allocateState(),
f=this.allocateState(),f=E(r(e.STATE),this.transformMachineStates(a,f,d,b)),g=[];this.addExceptionCases_(d,b,c,a.getAllStateIDs(),g);g.push(w(this.machineUncaughtExceptionStatements(d)));return f=L(q(f),s(A(e.CAUGHT_EXCEPTION),q(l(r(e.STORED_EXCEPTION),r(e.CAUGHT_EXCEPTION)),E(r(e.STATE),g))),null)},getMachineVariables:function(a,b){var c=[];c.push(M(f.VAR,e.STATE,y(b.startState)));c.push(M(f.VAR,e.STORED_EXCEPTION,null));c.push(M(f.VAR,e.FINALLY_FALL_THROUGH,null));for(var d=Z.variablesInBlock(a,
true),g=b.allCatchStates(),h=0;h<g.length;h++)d[g[h].identifier]=true;d=Object.keys(d).sort();for(h=0;h<d.length;h++)c.push(M(f.VAR,d[h],null));return c},addExceptionCases_:function(a,b,c,d,e){for(var f=0;f<d.length;f++){var g=d[f],h=b[g],i=c[g];i!=null&&h!=null&&i.tryStates.indexOf(h.finallyState)>=0?e.push(u(y(g),P.generateJumpThroughFinally(h.finallyState,i.catchState))):i!=null?e.push(u(y(g),z(k(i.catchState),p()))):h!=null&&e.push(u(y(g),P.generateJumpThroughFinally(h.finallyState,a)))}},transformFunctionDeclaration:function(a){this.clearLabels_();
return a},transformGetAccessor:function(a){return a},transformSetAccessor:function(a){return a},transformStateMachine:function(a){return a},statementToStateMachine_:function(a){return this.statementsToStateMachine_([a])},statementsToStateMachine_:function(a){var b=this.allocateState(),c=this.allocateState();return this.stateToStateMachine_(new N(b,c,a),c)},stateToStateMachine_:function(a,b){return new d(a.id,b,[a],[])},transformMachineStates:function(a,b,c,d){for(var g=[],h=0;h<a.states.length;h++){var i=
a.states[h],i=i.transformMachineState(d[i.id],b,this.reporter);i!=null&&g.push(i)}this.addFinallyFallThroughDispatches(null,a.exceptionBlocks,g);g.push(u(y(a.fallThroughState),this.machineFallThroughStatements(b)));g.push(u(y(b),this.machineEndStatements()));g.push(u(y(c),this.machineRethrowStatements(b)));g.push(w([D(o(F("traceur compiler bug: invalid state in state machine"),G(f.PLUS),r(e.STATE)))]));return g},addFinallyFallThroughDispatches:function(a,b,c){for(var d=0;d<b.length;d++){var f=b[d];
if(f.kind==Y.Kind.FINALLY){if(a!=null){for(var g=[],h=0,i=0;i<a.tryStates.length;i++){var j=a.tryStates[i];h++;var v;v=h<a.tryStates.length?z():z(l(r(e.STATE),r(e.FINALLY_FALL_THROUGH)),l(r(e.FINALLY_FALL_THROUGH),y(P.INVALID_STATE)),p());g.push(u(y(j),v))}g.push(w(z(k(a.finallyState),p())));c.push(u(y(f.fallThroughState),z(E(r(e.FINALLY_FALL_THROUGH),g),p())))}else c.push(u(y(f.fallThroughState),z(l(r(e.STATE),r(e.FINALLY_FALL_THROUGH)),p())));this.addFinallyFallThroughDispatches(f,f.nestedTrys,
c)}else this.addFinallyFallThroughDispatches(a,f.nestedTrys,c)}},createSequence_:function(a,b){var c=[];c.push.apply(c,a.states);for(var e=0;e<b.states.length;e++)c.push(b.states[e].replaceState(b.startState,a.fallThroughState));var f=[];f.push.apply(f,a.exceptionBlocks);for(e=0;e<b.exceptionBlocks.length;e++)f.push(b.exceptionBlocks[e].replaceState(b.startState,a.fallThroughState));return new d(a.startState,b.fallThroughState,c,f)},maybeTransformStatement_:function(b){b.type==a.VARIABLE_STATEMENT&&
b.declarations.declarationType!=f.VAR&&this.reporter.reportError(b.location!=null?b.location.start:null,"traceur: const/let declaration may not be in a block containing a yield.");var c=(new I(this.stateAllocator_)).transformAny(b);c!=b&&(c=this.transformAny(c));return c},ensureTransformed_:function(b){if(b==null)return null;b=this.maybeTransformStatement_(b);return b.type==a.STATE_MACHINE?b:this.statementToStateMachine_(b)},ensureTransformedList_:function(b){for(var c=[],d=false,e=0;e<b.length;e++){var f=
this.maybeTransformStatement_(b[e]);c.push(f);f.type==a.STATE_MACHINE&&(d=true)}return!d?this.statementsToStateMachine_(b):this.transformStatementList_(c)}});return{CPSTransformer:c}});
traceur.define("codegeneration.generator",function(){function c(a){g.call(this,a)}var f=traceur.syntax.TokenType,a=traceur.syntax.trees.ParseTreeType,h=traceur.syntax.PredefinedName,e=traceur.codegeneration.ParseTreeFactory,g=traceur.codegeneration.generator.CPSTransformer,d=traceur.codegeneration.generator.EndState,b=traceur.codegeneration.generator.YieldState,j=traceur.syntax.trees.StateMachine,i=e.createAssignStateStatement,k=e.createBlock,n=e.createEmptyParameterList,l=e.createFalseLiteral,o=
e.createFunctionExpression,q=e.createIdentifierExpression,m=e.createObjectLiteralExpression,p=e.createPropertyNameAssignment,u=e.createReturnStatement,s=e.createStatementList,w=e.createThrowStatement,x=e.createVariableStatement;c.transformGeneratorBody=function(a,b){return(new c(a)).transformGeneratorBody(b)};traceur.inherits(c,g,{__proto__:g.prototype,transformYieldStatement:function(a){if(a.expression!=null){var c=this.allocateState(),e=this.allocateState();return this.stateToStateMachine_(new b(c,
e,this.transformAny(a.expression)),e)}a=this.allocateState();return new j(a,this.allocateState(),[new d(a)],[])},transformAwaitStatement:function(a){this.reporter.reportError(a.location.start,"Generator function may not have an async statement.");return a},transformFinally:function(b){var c=g.prototype.transformFinally.call(this,b);if(c.block.type!=a.STATE_MACHINE)return c;this.reporter.reportError(b.location.start,"yield not permitted from within a finally block.");return c},transformReturnStatement:function(a){this.reporter.reportError(a.location.start,
"Generator function may not have a return statement.");return a},transformGeneratorBody:function(a){var b=this.transformAny(a);if(this.reporter.hadError())return a;var c=[];c.push.apply(c,this.getMachineVariables(a,b));c.push(x(f.VAR,h.RESULT,m(p(h.MOVE_NEXT,this.generateMachineMethod(b)))));c.push(u(q(h.RESULT)));return k(this.generateHoistedThis(),u(m(p(h.ITERATOR,o(n(),k(c))))))},machineUncaughtExceptionStatements:function(){return s(w(q(h.STORED_EXCEPTION)))},machineRethrowStatements:function(){return s(w(q(h.STORED_EXCEPTION)))},
machineFallThroughStatements:function(a){return s(i(a))},machineEndStatements:function(){return[u(l())]}});return{GeneratorTransformer:c}});
traceur.define("codegeneration.generator",function(){function c(a){g.call(this,a)}var f=traceur.syntax.TokenType,a=traceur.syntax.trees.ParseTreeType,h=traceur.syntax.PredefinedName,e=traceur.codegeneration.ParseTreeFactory,g=traceur.codegeneration.generator.CPSTransformer,d=traceur.syntax.trees.StateMachine,b=traceur.codegeneration.generator.EndState,j=traceur.codegeneration.generator.FallThroughState,i=e.createArgumentList,k=e.createAssignStateStatement,n=e.createAssignmentStatement,l=e.createBlock,
o=e.createBreakStatement,q=e.createCallExpression,m=e.createCallStatement,p=e.createEmptyArgumentList,u=e.createFunctionExpression,s=e.createIdentifierExpression,w=e.createMemberExpression,x=e.createNewExpression,v=e.createNumberLiteral,t=e.createParameterList,C=e.createParameterReference,r=e.createReturnStatement,A=e.createStatementList,y=e.createThrowStatement,G=e.createUndefinedExpression,z=e.createVariableStatement;c.transformAsyncBody=function(a,b){return(new c(a)).transformAsyncBody(b)};traceur.inherits(c,
g,{__proto__:g.prototype,transformYieldStatement:function(a){reporter.reportError(a.location.start,"Async function may not have a yield statement.");return a},transformAwaitStatement:function(a){var b=this.allocateState(),c=this.allocateState(),e=this.allocateState(),f=this.allocateState(),g=[];g.push(new j(b,c,A(n(s(h.WAIT_TASK),a.expression),m(w(h.WAIT_TASK,h.THEN),i(q(s(h.CREATE_CALLBACK),i(v(c))),q(s(h.CREATE_ERRBACK),i(v(e))))),r(null))));a=a.identifier!=null?A(n(s(a.identifier),s(h.$VALUE))):
A();g.push(new j(c,f,a));g.push(new j(e,f,A(y(s(h.ERR)))));return new d(b,f,g,[])},transformFinally:function(b){var c=proto.transformFinally.call(this,b);if(c.block.type!=a.STATE_MACHINE)return c;reporter.reportError(b.location.start,"async not permitted within a finally block.");return c},transformReturnStatement:function(a){var c=a.expression;c==null&&(c=G());var a=this.allocateState(),e=this.allocateState(),c=new j(a,e,A(this.createCompleteTask_(c))),e=new b(e);return new d(a,this.allocateState(),
[c,e],[])},createCompleteTask_:function(a){return m(w(h.RESULT,h.CALLBACK),i(a))},transformAsyncBody:function(a){var b=this.transformAny(a);if(this.reporter.hadError())return a;var c=[];c.push(this.generateHoistedThis());c.push.apply(c,this.getMachineVariables(a,b));c.push(z(f.VAR,h.$VALUE,null));c.push(z(f.VAR,h.ERR,null));c.push(z(f.VAR,h.RESULT,x(s(h.DEFERRED),p())));c.push(z(f.VAR,h.WAIT_TASK,null));c.push(z(f.VAR,h.CONTINUATION,this.generateMachineMethod(b)));c.push(z(f.VAR,h.CREATE_CALLBACK,
u(t(h.NEW_STATE),l(r(u(t(1),l(n(s(h.STATE),s(h.NEW_STATE)),n(s(h.$VALUE),C(0)),m(s(h.CONTINUATION)))))))));c.push(z(f.VAR,h.CREATE_ERRBACK,u(t(h.NEW_STATE),l(r(u(t(1),l(n(s(h.STATE),s(h.NEW_STATE)),n(s(h.ERR),C(0)),m(s(h.CONTINUATION)))))))));c.push(m(s(h.CONTINUATION)));c.push(r(q(w(h.RESULT,h.CREATE_PROMISE))));return l(c)},machineUncaughtExceptionStatements:function(a){return A(k(a),o())},machineEndStatements:function(){return A(r(null))},machineFallThroughStatements:function(a){return A(this.createCompleteTask_(G()),
k(a),o())},machineRethrowStatements:function(a){return A(m(w(h.RESULT,h.ERRBACK),i(s(h.STORED_EXCEPTION))),k(a),o())}});return{AsyncTransformer:c}});
traceur.define("codegeneration",function(){function c(a){this.visitAny(a)}function f(a){b.call(this);this.identifierGenerator_=a}function a(a,c){b.call(this);this.identifierGenerator_=a;this.reporter_=c}var h=traceur.syntax.ParseTreeVisitor,e=traceur.syntax.trees.FunctionDeclaration,g=traceur.syntax.trees.GetAccessor,d=traceur.syntax.trees.SetAccessor,b=traceur.codegeneration.ParseTreeTransformer,j=traceur.codegeneration.ForEachTransformer,i=traceur.codegeneration.generator.ForInTransformPass,k=traceur.codegeneration.generator.GeneratorTransformer,
n=traceur.codegeneration.generator.AsyncTransformer,l=traceur.codegeneration.ParseTreeFactory.createForEachStatement,o=traceur.codegeneration.ParseTreeFactory.createVariableDeclarationList,q=traceur.codegeneration.ParseTreeFactory.createYieldStatement,m=traceur.codegeneration.ParseTreeFactory.createIdentifierExpression,p=traceur.syntax.TokenType;traceur.inherits(c,h,{__proto__:h.prototype,hasYield:false,hasYieldFor:false,hasForIn:false,hasAsync:false,hasAnyGenerator:function(){return this.hasYield||
this.hasAsync},visitYieldStatement:function(a){this.hasYield=true;this.hasYieldFor=a.isYieldFor},visitAwaitStatement:function(){this.hasAsync=true},visitForInStatement:function(a){this.hasForIn=true;h.prototype.visitForInStatement.call(this,a)},visitFunctionDeclaration:function(){},visitSetAccessor:function(){},visitGetAccessor:function(){}});f.transformTree=function(a,b){return(new f(a)).transformAny(b)};traceur.inherits(f,b,{__proto__:b.prototype,transformYieldStatement:function(a){if(a.isYieldFor){var b=
m(this.identifierGenerator_.generateUniqueIdentifier()),a=l(o(p.VAR,b,null),a.expression,q(b,false));return j.transformTree(this.identifierGenerator_,a)}return a}});a.transformTree=function(b,c,d){return(new a(b,c)).transformAny(d)};traceur.inherits(a,b,{__proto__:b.prototype,transformFunctionDeclaration:function(a){var b=this.transformBody_(a.functionBody);return b==a.functionBody?a:new e(null,a.name,a.isStatic,a.formalParameterList,b)},transformBody_:function(a){var d=new c(a),a=b.prototype.transformBlock.call(this,
a);if(!d.hasAnyGenerator())return a;d.hasForIn&&(a=i.transformTree(this.identifierGenerator_,a));d.hasYieldFor&&(a=f.transformTree(this.identifierGenerator_,a));return d.hasYield?k.transformGeneratorBody(this.reporter_,a):n.transformAsyncBody(this.reporter_,a)},transformGetAccessor:function(a){var b=this.transformBody_(a.body);return b==a.body?a:new g(null,a.propertyName,a.isStatic,b)},transformSetAccessor:function(a){var b=this.transformBody_(a.body);return b==a.body?a:new d(null,a.propertyName,
a.isStatic,a.parameter,b)}});return{GeneratorTransformPass:a}});var global=this;
traceur.define("semantics",function(){function c(a){e.call(this);this.reporter_=a}function f(a){this.parent=a;this.references=Object.create(null);this.declarations=Object.create(null)}function a(a){if(a instanceof g)a=a.identifierToken;if(a instanceof d)a=a.value;return a}var h=traceur.syntax.TokenType,e=traceur.syntax.ParseTreeVisitor,g=traceur.syntax.trees.IdentifierExpression,d=traceur.syntax.IdentifierToken,b=traceur.syntax.trees.ParseTreeType,j=traceur.syntax.PredefinedName;c.checkProgram=function(a,
b){(new c(a)).visitProgram(b,global)};traceur.inherits(c,e,{__proto__:e.prototype,scope_:null,pushScope_:function(){return this.scope_=new f(this.scope_)},pop_:function(a){if(this.scope_!=a)throw Error("FreeVariableChecker scope mismatch");this.validateScope_();this.scope_=a.parent},visitBlock:function(a){this.visitStatements_(a.statements)},visitProgram:function(a,b){for(var c=this.pushScope_(),d=b;d;)Object.getOwnPropertyNames(d).forEach(this.declareVariable_,this),d=Object.getPrototypeOf(d);this.visitStatements_(a.programElements);
this.pop_(c)},visitStatements_:function(a){a.forEach(function(a){a.type==b.FUNCTION_DECLARATION&&this.declareVariable_(a.name);this.visitAny(a)},this)},visitFunctionDeclaration:function(a){var b=this.pushScope_();this.declareVariable_(a.name);this.declareVariable_(j.ARGUMENTS);a.formalParameterList.parameters.forEach(this.declareVariable_,this);this.visitAny(a.functionBody);this.pop_(b)},visitGetAccessor:function(a){var b=this.pushScope_();this.visitAny(a.body);this.pop_(b)},visitSetAccessor:function(a){var b=
this.pushScope_();this.declareVariable_(a.parameter);this.visitAny(a.body);this.pop_(b)},visitCatch:function(a){var b=this.pushScope_();this.declareVariable_(a.exceptionName);this.visitAny(a.catchBody);this.pop_(b)},visitVariableDeclarationList:function(a){if(a.declarationType!=h.VAR)throw Error("let and const should have been rewritten");a.declarations.forEach(function(a){this.declareVariable_(a.lvalue);this.visitAny(a.initializer)},this)},visitIdentifierExpression:function(b){var c=a(b),d=this.scope_;
if(!(c in d.references))d.references[c]=b.location},declareVariable_:function(b){var c=a(b);if(c){var d=this.scope_;if(!(c in d.declarations))d.declarations[c]=b.location}},validateScope_:function(){var a=this.scope_,b=[],c;for(c in a.references)if(!(c in a.declarations)){var d=a.references[c];if(a.parent)c in a.parent.references||(a.parent.references[c]=d);else{if(!d)throw Error("generated variable "+c+" is not defined");b.push([d.start,"%s is not defined",c])}}b.length&&(b.sort(function(a,b){return a[0].offset-
b[0].offset}),b.forEach(function(a){this.reportError_.apply(this,a)},this))},reportError_:function(a,b,c){var d=Array.prototype.slice.call(arguments);d[0]=a;this.reporter_.reportError.apply(this.reporter_,d)}});return{FreeVariableChecker:c}});
traceur.define("codegeneration",function(){function c(a,b){this.project_=b;this.reporter_=a;this.results_=new f;this.identifierGenerator_=new h;Object.freeze(this)}var f=traceur.util.ObjectMap,a=traceur.syntax.ParseTreeValidator,h=traceur.codegeneration.UniqueIdentifierGenerator,e=traceur.codegeneration.ForEachTransformer,g=traceur.codegeneration.RestParameterTransformer,d=traceur.codegeneration.DefaultParametersTransformer,b=traceur.codegeneration.GeneratorTransformPass,j=traceur.codegeneration.DestructuringTransformer,
i=traceur.codegeneration.SpreadTransformer,k=traceur.codegeneration.BlockBindingTransformer,n=traceur.codegeneration.ClassTransformer,l=traceur.codegeneration.ModuleTransformer,b=traceur.codegeneration.GeneratorTransformPass,o=traceur.semantics.FreeVariableChecker;c.transform=function(a,b){var d=new c(a,b);d.transform_();return d.results_};c.transformFile=function(a,b,d){a=new c(a,b);a.transformFile_(d);return a.results_};c.prototype={transform_:function(){this.project_.getSourceFiles().forEach(function(a){this.transformFile_(a)},
this)},transformFile_:function(a){var b=this.transform(this.project_.getParseTree(a));this.results_.put(a,b)},transform:function(c){this.reporter_.hadError()||(a.validate(c),c=this.transformModules_(c));this.reporter_.hadError()||(a.validate(c),c=this.transformAggregates_(c));this.reporter_.hadError()||(a.validate(c),c=e.transformTree(this.identifierGenerator_,c));this.reporter_.hadError()||(a.validate(c),c=g.transformTree(c));this.reporter_.hadError()||(a.validate(c),c=d.transformTree(c));this.reporter_.hadError()||
(a.validate(c),c=b.transformTree(this.identifierGenerator_,this.reporter_,c));this.reporter_.hadError()||(a.validate(c),c=j.transformTree(c));this.reporter_.hadError()||(a.validate(c),c=i.transformTree(c));this.reporter_.hadError()||(a.validate(c),c=k.transformTree(c));this.reporter_.hadError()||(a.validate(c),o.checkProgram(this.reporter_,c));return c},transformModules_:function(a){return l.transform(this.project_,a)},transformAggregates_:function(a){return n.transform(this.reporter_,a)}};return{ProgramTransformer:c}});
traceur.define("codegeneration",function(){function c(){}var f=traceur.codegeneration.ParseTreeWriter;c.write=function(a){var c=[];a.keys().forEach(function(e){c.push("// "+e.name,f.write(a.get(e)))});return c.join("\n")+"\n"};return{ProjectWriter:c}});
traceur.define("codegeneration.module",function(){function c(b,c){a.call(this);this.reporter_=b;this.currentModule_=c}var f=traceur.semantics.symbols.Symbol,a=traceur.syntax.ParseTreeVisitor,h=traceur.syntax.trees.ParseTree,e=traceur.syntax.trees.ParseTreeType.MODULE_DECLARATION,g=traceur.syntax.trees.ParseTreeType.MODULE_DEFINITION,d=traceur.syntax.trees.ParseTreeType.MODULE_REQUIRE,b=traceur.syntax.trees.ParseTreeType.EXPORT_DECLARATION;traceur.inherits(c,a,{__proto__:a.prototype,get currentModule(){return this.currentModule_},
getModuleByName:function(a){for(var b=this.currentModule;b;){if(b.hasModule(a))return b.getModule(a);b=b.parent}return null},getModuleForModuleExpression:function(a,b){if(a.reference.type==d)throw Error("Not implemented");var c=a.reference.identifierToken.value,e=this.getModuleByName(c);if(!e)return b&&this.reportError_(a,"'%s' is not a module",c),null;for(c=0;c<a.identifiers.length;c++){var f=a.identifiers[c].value;e.hasModule(f)?e.hasExport(f)?e=e.getModule(f):(b&&this.reportError_(a,"'%s' is not exported",
f),e=null):(b&&this.reportError_(a,"'%s' is not a module",f),e=null);if(!e)return null}return e},visitFunctionDeclaration:function(){},visitSetAccessor:function(){},visitGetAccessor:function(){},visitModuleElement_:function(a){switch(a.type){case e:case g:case b:this.visitAny(a)}},visitProgram:function(a){a.programElements.forEach(this.visitModuleElement_,this)},visitModuleDefinition:function(a){var b=this.currentModule_,c=b.getModule(a.name.value);traceur.assert(c);this.currentModule_=c;a.elements.forEach(this.visitModuleElement_,
this);this.currentModule_=b},checkForDuplicateModule_:function(a,b){var c=this.currentModule;return c.hasModule(a)?(this.reportError_(b,"Duplicate module declaration '%s'",a),this.reportRelatedError_(c.getModule(a).tree),false):true},reportError_:function(a,b,c){var d;d=a instanceof f?symbol.tree:a;var e=Array.prototype.slice.call(arguments);e[0]=d;this.reporter_.reportError.apply(this.reporter_,e)},reportRelatedError_:function(a){a instanceof h?this.reportError_(a,"Location related to previous error"):
a.getRelatedLocations().forEach(this.reportRelatedError_,this)}});return{ModuleVisitor:c}});
traceur.define("codegeneration.module",function(){function c(a,c){f.call(this,a,c)}var f=traceur.codegeneration.module.ModuleVisitor,a=traceur.semantics.symbols.ModuleSymbol;traceur.inherits(c,f,{__proto__:f.prototype,visitModuleDefinition:function(c){var e=c.name.value;if(this.checkForDuplicateModule_(e,c)){var g=this.currentModule,e=new a(e,g,c);g.addModule(e)}f.prototype.visitModuleDefinition.call(this,c)}});return{ModuleDefinitionVisitor:c}});
traceur.define("codegeneration.module",function(){function c(a,c){f.call(this,a,c);this.inExport_=false;this.relatedTree_=null}var f=traceur.codegeneration.module.ModuleVisitor,a=traceur.semantics.symbols.ExportSymbol,h=traceur.syntax.trees.ParseTreeType.IDENTIFIER_EXPRESSION;traceur.inherits(c,f,{__proto__:f.prototype,addExport_:function(c,f){if(this.inExport_){traceur.assert(typeof c=="string");var d=this.currentModule;d.hasExport(c)?(this.reportError_(f,"Duplicate export declaration '%s'",c),this.reportRelatedError_(d.getExport(c))):
d.addExport(c,new a(f,c,this.relatedTree_))}},visitClassDeclaration:function(a){this.addExport_(a.name.value,a)},visitExportDeclaration:function(a){this.inExport_=true;this.visitAny(a.declaration);this.inExport_=false},visitExportPath:function(a){this.relatedTree_=a.moduleExpression;this.visitAny(a.specifier);this.relatedTree_=null},visitExportPathList:function(a){for(var c=0;c<a.paths.length;c++){var d=a.paths[c];d.type==h?this.addExport_(d.identifierToken.value,d):this.visitAny(d)}},visitExportPathSpecifier:function(a){this.addExport_(a.identifier.value,
a.specifier)},visitExportSpecifier:function(a){this.addExport_(a.lhs.value,a)},visitFunctionDeclaration:function(a){a.name&&this.addExport_(a.name.value,a)},visitIdentifierExpression:function(a){this.addExport_(a.identifierToken.value,a)},visitModuleDefinition:function(a){this.addExport_(a.name.value,a);var c=this.inExport_;this.inExport_=false;f.prototype.visitModuleDefinition.call(this,a);this.inExport_=c},visitModuleSpecifier:function(a){this.addExport_(a.identifier.value,a)},visitTraitDeclaration:function(a){this.addExport_(a.name.value,
a)},visitVariableDeclaration:function(a){this.addExport_(a.lvalue.identifierToken.value,a)}});return{ExportVisitor:c}});traceur.define("codegeneration.module",function(){function c(a,c){f.call(this,a,c)}var f=traceur.codegeneration.module.ModuleVisitor;traceur.inherits(c,f,{__proto__:f.prototype,visitModuleSpecifier:function(a){var c=a.identifier.value,e=this.currentModule;(a=this.getModuleForModuleExpression(a.expression))&&e.addModuleWithName(a,c)}});return{ModuleDeclarationVisitor:c}});
traceur.define("codegeneration.module",function(){function c(a,c){f.call(this,a,c)}var f=traceur.codegeneration.module.ModuleVisitor;traceur.inherits(c,f,{__proto__:f.prototype,checkExport_:function(a,c){this.validatingModule_&&!this.validatingModule_.hasExport(c)&&(this.reportError_(a,"'%s' is not exported",c),this.reportRelatedError_(this.validatingModule_))},visitAndValidate_:function(a,c,e){var f=this.validatingModule_;this.validatingModule_=a;e?this.checkExport_(c,e):this.visitAny(c);this.validatingModule_=
f},visitExportPath:function(a){this.visitAny(a.moduleExpression);this.visitAndValidate_(this.getModuleForModuleExpression(a.moduleExpression),a.specifier)},visitExportSpecifier:function(a){this.checkExport_(a,(a.rhs||a.lhs).value)},visitIdentifierExpression:function(a){this.checkExport_(a,a.identifierToken.value)},visitModuleExpression:function(a){this.getModuleForModuleExpression(a,true)},visitQualifiedReference:function(a){this.visitAny(a.moduleExpression);this.visitAndValidate_(this.getModuleForModuleExpression(a.moduleExpression),
a,a.identifier.value)}});return{ValidationVisitor:c}});
traceur.define("semantics",function(){function c(a,c){this.reporter_=a;this.project_=c}var f=traceur.codegeneration.module.ModuleDefinitionVisitor,a=traceur.codegeneration.module.ExportVisitor,h=traceur.codegeneration.module.ModuleDeclarationVisitor,e=traceur.codegeneration.module.ValidationVisitor;c.prototype={analyze:function(){var c=this.project_.getRootModule(),d=new f(this.reporter_,c);this.project_.getSourceTrees().forEach(d.visitAny,d);this.reporter_.hadError()||(d=new a(this.reporter_,c),
this.project_.getSourceTrees().forEach(d.visitAny,d));this.reporter_.hadError()||(d=new h(this.reporter_,c),this.project_.getSourceTrees().forEach(d.visitAny,d));this.reporter_.hadError()||(d=new e(this.reporter_,c),this.project_.getSourceTrees().forEach(d.visitAny,d))},analyzeFile:function(c){var d=this.project_.getRootModule(),b=new f(this.reporter_,d),c=this.project_.getParseTree(c);b.visitAny(c);this.reporter_.hadError()||(b=new a(this.reporter_,d),b.visitAny(c));this.reporter_.hadError()||(b=
new h(this.reporter_,d),b.visitAny(c));this.reporter_.hadError()||(b=new e(this.reporter_,d),b.visitAny(c))}};return{ModuleAnalyzer:c}});
traceur.define("codegeneration",function(){function c(a,c){this.reporter_=a;this.project_=c}var f=traceur.codegeneration.ProgramTransformer,a=traceur.syntax.Parser,h=traceur.semantics.ModuleAnalyzer,e=traceur.semantics.symbols.Project;c.compile=function(a,d){return(new c(a,d)).compile_()};c.compileFile=function(a,d){var b=new e;b.addFile(d);return(new c(a,b)).compileFile_(d)};c.prototype={compile_:function(){this.parse_();this.analyze_();this.transform_();return this.hadError_()?null:this.results_},
compileFile_:function(a){this.parseFile_(a);this.analyzeFile_(a);this.transformFile_(a);return this.hadError_()?null:this.results_.get(a)},transform_:function(){if(!this.hadError_())this.results_=f.transform(this.reporter_,this.project_)},transformFile_:function(a){if(!this.hadError_())this.results_=f.transformFile(this.reporter_,this.project_,a)},analyze_:function(){this.hadError_()||(new h(this.reporter_,this.project_)).analyze()},analyzeFile_:function(a){this.hadError_()||(new h(this.reporter_,
this.project_)).analyzeFile(a)},parse_:function(){this.project_.getSourceFiles().forEach(this.parseFile_,this)},parseFile_:function(c){this.hadError_()||this.project_.setParseTree(c,(new a(this.reporter_,c)).parseProgram(true))},hadError_:function(){return this.reporter_.hadError()}};return{Compiler:c}});function HTMLH1HeadingElement(){}function HTMLH2HeadingElement(){}function HTMLH3HeadingElement(){}function HTMLH4HeadingElement(){}function HTMLH5HeadingElement(){}
function HTMLH6HeadingElement(){}try{HTMLH1HeadingElement.prototype=HTMLHeadingElement.prototype,HTMLH2HeadingElement.prototype=HTMLHeadingElement.prototype,HTMLH3HeadingElement.prototype=HTMLHeadingElement.prototype,HTMLH4HeadingElement.prototype=HTMLHeadingElement.prototype,HTMLH5HeadingElement.prototype=HTMLHeadingElement.prototype,HTMLH6HeadingElement.prototype=HTMLHeadingElement.prototype}catch(e$$8){}traceur=traceur||{};
traceur.runtime=function(){function c(a,b,c,d){Object.defineProperty(d,"$class",{value:c,writable:false,enumerable:false,configurable:false});a[b]=d}function f(a,b){var b=traceur.runtime.trait.compose.apply(null,b),c={};Object.getOwnPropertyNames(b).forEach(function(d){var e=b[d];if(e.required){if(!(d in a))throw new TypeError("Missing required property: "+d);}else if(e.conflict)throw new TypeError("Remaining conflicting property: "+d);else c[d]=e});return c}function a(a){for(var b=[],c=0;c<a.length;c+=
2)if(a[c]){if(a[c+1]!=null){if(typeof a[c+1]!="object")throw TypeError("Spread expression has wrong type");ra(b,sa(a[c+1]))}}else qa(b,a[c+1]);return b}function h(a){this.canceller_=a;this.listeners_=[]}function e(a){for(;a.listeners_.length>0;){var b=a.listeners_.shift(),c=void 0;try{try{a.result_[1]?b.errback&&(c=b.errback.call(void 0,a.result_[0])):b.callback&&(c=b.callback.call(void 0,a.result_[0])),b.deferred.callback(c)}catch(d){b.deferred.errback(d)}}catch(e){}}}function g(a,b,c){if(a.fired_)throw Error("already fired");
a.fired_=true;a.result_=[b,c];e(a)}var d={};try{c(d,"Array",Array,function(){return[]})}catch(b){}try{c(d,"Date",Date,function(){return new Date})}catch(j){}try{c(d,"Event",Event,function(){return document.createEvent("Event")})}catch(i){}try{c(d,"HTMLAnchorElement",HTMLAnchorElement,function(){return document.createElement("a")})}catch(k){}try{c(d,"HTMLAreaElement",HTMLAreaElement,function(){return document.createElement("area")})}catch(n){}try{c(d,"HTMLAudioElement",HTMLAudioElement,function(){return document.createElement("audio")})}catch(l){}try{c(d,
"HTMLBRElement",HTMLBRElement,function(){return document.createElement("br")})}catch(o){}try{c(d,"HTMLBaseElement",HTMLBaseElement,function(){return document.createElement("base")})}catch(q){}try{c(d,"HTMLBlockquoteElement",HTMLBlockquoteElement,function(){return document.createElement("blockquote")})}catch(m){}try{c(d,"HTMLBodyElement",HTMLBodyElement,function(){return document.createElement("body")})}catch(p){}try{c(d,"HTMLButtonElement",HTMLButtonElement,function(){return document.createElement("button")})}catch(u){}try{c(d,
"HTMLCanvasElement",HTMLCanvasElement,function(){return document.createElement("canvas")})}catch(s){}try{c(d,"HTMLDListElement",HTMLDListElement,function(){return document.createElement("dl")})}catch(w){}try{c(d,"HTMLDivElement",HTMLDivElement,function(){return document.createElement("div")})}catch(x){}try{c(d,"HTMLElement",HTMLElement,function(){return document.createElement("span")})}catch(v){}try{c(d,"HTMLEmbedElement",HTMLEmbedElement,function(){return document.createElement("embed")})}catch(t){}try{c(d,
"HTMLFieldSetElement",HTMLFieldSetElement,function(){return document.createElement("fieldset")})}catch(C){}try{c(d,"HTMLFormElement",HTMLFormElement,function(){return document.createElement("form")})}catch(r){}try{c(d,"HTMLH1HeadingElement",HTMLH1HeadingElement,function(){return document.createElement("h1")})}catch(A){}try{c(d,"HTMLH2HeadingElement",HTMLH2HeadingElement,function(){return document.createElement("h2")})}catch(y){}try{c(d,"HTMLH3HeadingElement",HTMLH3HeadingElement,function(){return document.createElement("h3")})}catch(G){}try{c(d,
"HTMLH4HeadingElement",HTMLH4HeadingElement,function(){return document.createElement("h4")})}catch(z){}try{c(d,"HTMLH5HeadingElement",HTMLH5HeadingElement,function(){return document.createElement("h5")})}catch(F){}try{c(d,"HTMLH6HeadingElement",HTMLH6HeadingElement,function(){return document.createElement("h6")})}catch(E){}try{c(d,"HTMLHRElement",HTMLHRElement,function(){return document.createElement("hr")})}catch(B){}try{c(d,"HTMLHeadElement",HTMLHeadElement,function(){return document.createElement("head")})}catch(D){}try{c(d,
"HTMLHeadingElement",HTMLHeadingElement,function(){return document.createElement("h1")})}catch(H){}try{c(d,"HTMLHtmlElement",HTMLHtmlElement,function(){return document.createElement("html")})}catch(L){}try{c(d,"HTMLIFrameElement",HTMLIFrameElement,function(){return document.createElement("iframe")})}catch(M){}try{c(d,"HTMLImageElement",HTMLImageElement,function(){return document.createElement("img")})}catch(O){}try{c(d,"HTMLInputElement",HTMLInputElement,function(){return document.createElement("input")})}catch(I){}try{c(d,
"HTMLLIElement",HTMLLIElement,function(){return document.createElement("li")})}catch(S){}try{c(d,"HTMLLabelElement",HTMLLabelElement,function(){return document.createElement("label")})}catch(J){}try{c(d,"HTMLLegendElement",HTMLLegendElement,function(){return document.createElement("legend")})}catch(N){}try{c(d,"HTMLLinkElement",HTMLLinkElement,function(){return document.createElement("link")})}catch(Q){}try{c(d,"HTMLMapElement",HTMLMapElement,function(){return document.createElement("map")})}catch(T){}try{c(d,
"HTMLMenuElement",HTMLMenuElement,function(){return document.createElement("menu")})}catch(P){}try{c(d,"HTMLMetaElement",HTMLMetaElement,function(){return document.createElement("meta")})}catch(R){}try{c(d,"HTMLMeterElement",HTMLMeterElement,function(){return document.createElement("meter")})}catch(X){}try{c(d,"HTMLModElement",HTMLModElement,function(){return document.createElement("del")})}catch(U){}try{c(d,"HTMLOListElement",HTMLOListElement,function(){return document.createElement("ol")})}catch(Y){}try{c(d,
"HTMLObjectElement",HTMLObjectElement,function(){return document.createElement("object")})}catch(Z){}try{c(d,"HTMLOptGroupElement",HTMLOptGroupElement,function(){return document.createElement("optgroup")})}catch(K){}try{c(d,"HTMLOptionElement",HTMLOptionElement,function(){return document.createElement("option")})}catch(ga){}try{c(d,"HTMLOutputElement",HTMLOutputElement,function(){return document.createElement("output")})}catch(ba){}try{c(d,"HTMLParagraphElement",HTMLParagraphElement,function(){return document.createElement("p")})}catch(ha){}try{c(d,
"HTMLParamElement",HTMLParamElement,function(){return document.createElement("param")})}catch(ca){}try{c(d,"HTMLPreElement",HTMLPreElement,function(){return document.createElement("pre")})}catch(da){}try{c(d,"HTMLProgressElement",HTMLProgressElement,function(){return document.createElement("progress")})}catch(ea){}try{c(d,"HTMLQuoteElement",HTMLQuoteElement,function(){return document.createElement("q")})}catch(ia){}try{c(d,"HTMLScriptElement",HTMLScriptElement,function(){return document.createElement("script")})}catch(ja){}try{c(d,
"HTMLSelectElement",HTMLSelectElement,function(){return document.createElement("select")})}catch(ka){}try{c(d,"HTMLSourceElement",HTMLSourceElement,function(){return document.createElement("source")})}catch(la){}try{c(d,"HTMLStyleElement",HTMLStyleElement,function(){return document.createElement("style")})}catch(ma){}try{c(d,"HTMLTableCaptionElement",HTMLTableCaptionElement,function(){return document.createElement("caption")})}catch(na){}try{c(d,"HTMLTableCellElement",HTMLTableCellElement,function(){return document.createElement("td")})}catch(oa){}try{c(d,
"HTMLTableColElement",HTMLTableColElement,function(){return document.createElement("col")})}catch(pa){}try{c(d,"HTMLTableElement",HTMLTableElement,function(){return document.createElement("table")})}catch(V){}try{c(d,"HTMLTableRowElement",HTMLTableRowElement,function(){return document.createElement("tr")})}catch(W){}try{c(d,"HTMLTableSectionElement",HTMLTableSectionElement,function(){return document.createElement("tbody")})}catch(fa){}try{c(d,"HTMLTextAreaElement",HTMLTextAreaElement,function(){return document.createElement("textarea")})}catch(ta){}try{c(d,
"HTMLTitleElement",HTMLTitleElement,function(){return document.createElement("title")})}catch(ua){}try{c(d,"HTMLUListElement",HTMLUListElement,function(){return document.createElement("ul")})}catch(va){}try{c(d,"HTMLVideoElement",HTMLVideoElement,function(){return document.createElement("video")})}catch($){}try{c(d,"KeyboardEvent",KeyboardEvent,function(){return document.createEvent("KeyboardEvent")})}catch(wa){}try{c(d,"MouseEvent",MouseEvent,function(){return document.createEvent("MouseEvents")})}catch(xa){}try{c(d,
"MutationEvent",MutationEvent,function(){return document.createEvent("MutationEvents")})}catch(ya){}try{c(d,"RegExp",RegExp,function(){return RegExp()})}catch(za){}try{c(d,"SVGZoomEvent",SVGZoomEvent,function(){return document.createEvent("SVGZoomEvents")})}catch(Aa){}try{c(d,"String",String,function(){return new String})}catch(Ba){}try{c(d,"Text",Text,function(){return document.createTextNode("")})}catch(Ca){}try{c(d,"TextEvent",TextEvent,function(){return document.createEvent("TextEvent")})}catch(Da){}try{c(d,
"UIEvent",UIEvent,function(){return document.createEvent("UIEvents")})}catch(Ea){}Object.defineProperty(Array.prototype,"__iterator__",{value:function(){var a=0,b=this,c;return{get current(){return c},moveNext:function(){return a<b.length?(c=b[a++],true):false}}},enumerable:false,configurable:true,writable:true});var qa=Array.prototype.push.call.bind(Array.prototype.push),ra=Array.prototype.push.apply.bind(Array.prototype.push),sa=Array.prototype.slice.call.bind(Array.prototype.slice);h.prototype=
{fired_:false,result_:void 0,createPromise:function(){return{then:this.then.bind(this),cancel:this.cancel.bind(this)}},callback:function(a){g(this,a,false)},errback:function(a){g(this,a,true)},then:function(a,b){var c=new h(this.cancel.bind(this));this.listeners_.push({deferred:c,callback:a,errback:b});this.fired_&&e(this);return c.createPromise()},cancel:function(){if(this.fired_)throw Error("already finished");var a;this.canceller_?(a=this.canceller_(this),!a instanceof Error&&(a=Error(a))):a=Error("cancelled");
if(!this.fired_)this.result_=[a,true],e(this)}};return{createClass:function(a,b,c,e,g,h,i,j){function k(){var a=c?c():this;a.__proto__=k.prototype;j&&Object.defineProperties(a,j);v&&v.call(a);e&&e.apply(a,arguments);return a}if(b){if(typeof b!="function")throw new TypeError("Base class of "+a+" must be a function ("+typeof b+")");}else b=Object;c=c||b.$new;if(!c&&b.name){var r=d[b.name];r&&r.$class===b&&(c=r)}var t=b.$init,v=t?g?function(){t.call(this);g.call(this)}:t:g;e?h.constructor=e:e=h.constructor;
h.__proto__=b.prototype;j&&(j=f(h,j));k.prototype=h;Object.defineProperty(k,"$className",{value:a,writable:false,enumerable:false,configurable:false});v&&Object.defineProperty(k,"$init",{value:v,writable:false,enumerable:false,configurable:false});c&&Object.defineProperty(k,"$new",{value:c,writable:false,enumerable:false,configurable:false});i&&i.call(k);return k},createTrait:function(a,b){var c=traceur.runtime.trait,a=c(a);b&&(a=c.override(a,c.compose.apply(null,b)));return a},Deferred:h,spread:a,
spreadNew:function(b,c){var d=Object.create(b.prototype),e=b.apply(d,a(c));return e&&typeof e=="object"?e:d},superCall:function(a,b,c){for(a=Object.getPrototypeOf(a.prototype);a;){var d=Object.getOwnPropertyDescriptor(a,b);if(d){if(d.hasOwnProperty("value"))return d.value.apply(this,c);if(d.hasOwnProperty("get"))return d.get.apply(this,c)}a=Object.getPrototypeOf(a)}throw new TypeError("Object has no method '"+b+"'.");},superGet:function(a,b){for(var c=Object.getPrototypeOf(a.prototype);c;){var d=
Object.getOwnPropertyDescriptor(c,b);if(d){if(d.hasOwnProperty("value"))return d.value;if(d.hasOwnProperty("get"))return d.get.call(this)}c=Object.getPrototypeOf(c)}}}}();var Deferred=traceur.runtime.Deferred;
traceur.runtime.trait=function(){function c(a){var b=function(){throw Error("Conflicting property: "+a);};m(b.prototype);return m(b)}function f(){return m({value:void 0,enumerable:false,required:true})}function a(a){a=c(a);return m({get:a,set:a,enumerable:false,conflict:true})}function h(a,b){return a.conflict&&b.conflict?true:a.get===b.get&&a.set===b.set&&(a.value===b.value?a.value!==0||1/a.value===1/b.value:a.value!==a.value&&b.value!==b.value)&&a.enumerable===b.enumerable&&a.required===b.required&&
a.conflict===b.conflict}function e(a){var b={};q(a,function(a){b[a]=true});return m(b)}function g(a){var b={};q(p(a),function(c){var d=u(a,c);d.value===x?d=f(c):typeof d.value==="function"?(d.method=true,"prototype"in d.value&&m(d.value.prototype)):(d.get&&d.get.prototype&&m(d.get.prototype),d.set&&d.set.prototype&&m(d.set.prototype));b[c]=d});return b}function d(a,b){var c=e(a),d={};q(p(b),function(a){d[a]=!l(c,a)||b[a].required?b[a]:f(a)});return m(d)}function b(b,c){var d={};q(p(c),function(e){if(l(b,
e)&&!c[e].required){var g=b[e];d[g]=l(d,g)&&!d[g].required?a(g):c[e];l(d,e)||(d[e]=f(e))}else l(d,e)?c[e].required||(d[e]=a(e)):d[e]=c[e]});return m(d)}function j(a,b){var c=w(a),d={};q(p(b),function(e){var f=b[e];if(f.required){if(!(e in a))throw Error("Missing required property: "+e);}else if(f.conflict)throw Error("Remaining conflicting property: "+e);else d[e]="value"in f?f.method?{value:m(n(f.value,c)),enumerable:f.enumerable,configurable:f.configurable,writable:f.writable}:f:{get:f.get?m(n(f.get,
c)):void 0,set:f.set?m(n(f.set,c)):void 0,enumerable:f.enumerable,configurable:f.configurable}});s(c,d);return m(c)}function i(a){return g(a)}var k=Function.prototype.call,n=function(a,b){return Function.prototype.bind.call(a,b)},l=n(k,Object.prototype.hasOwnProperty),o=n(k,Array.prototype.slice),q=n(k,Array.prototype.forEach),m=Object.freeze,p=Object.getOwnPropertyNames,u=Object.getOwnPropertyDescriptor,s=Object.defineProperties,w=Object.create,k=Object.getOwnProperties,x=m({toString:function(){return"<Trait.required>"}});
if(!Object.create)Object.create=w;if(!Object.getOwnProperties)Object.getOwnProperties=k;i.required=m(x);i.compose=m(function(b){var c=o(arguments,0),d={};q(c,function(b){q(p(b),function(c){var e=b[c];l(d,c)&&!d[c].required?e.required||h(d[c],e)||(d[c]=a(c)):d[c]=e})});return m(d)});i.resolve=m(function(a,c){var e={},f=[],g;for(g in a)l(a,g)&&(a[g]?e[g]=a[g]:f.push(g));return b(e,d(f,c))});i.override=m(function(a){var b=o(arguments,0),c={};q(b,function(a){q(p(a),function(b){var d=a[b];if(!l(c,b)||
c[b].required)c[b]=d})});return m(c)});i.create=m(j);i.eqv=m(function(a,b){var c=p(a),d=p(b);if(c.length!==d.length)return false;for(var e=0;e<c.length;e++)if(d=c[e],!b[d]||!h(a[d],b[d]))return false;return true});i.object=m(function(a,b){return j(Object.prototype,g(a),b)});return m(i)}();
